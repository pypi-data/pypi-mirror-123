!function(){"use strict";var e={92618:function(e,n,t){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};n.__esModule=!0;var i=a(t(73609));function r(e,n){var t=e+"-handsontable-container",a=e+"-handsontable-header",r=e+"-handsontable-col-header",o=e+"-handsontable-col-caption",l=i.default("#"+e),s=i.default("#"+a),d=i.default("#"+r),c=i.default("#"+o),u={},f=null,h=null,p=!1,b=function(){var n=i.default("#"+e).parent();return n.find(".htCore").height()+2*n.find(".input").height()},w=[".input > .handsontable",".wtHider",".wtHolder"],v=function(n){var t=i.default("#"+e);i.default.each(w,(function(){t.closest(".field-content").find(this).height(n)}))};try{h=JSON.parse(l.val())}catch(e){}null!==h&&(h.hasOwnProperty("first_row_is_table_header")&&s.prop("checked",h.first_row_is_table_header),h.hasOwnProperty("first_col_is_header")&&d.prop("checked",h.first_col_is_header),h.hasOwnProperty("table_caption")&&c.prop("value",h.table_caption)),n.hasOwnProperty("width")&&n.hasOwnProperty("height")||i.default(window).on("resize",(function(){f.updateSettings({width:i.default(".widget-table_input").closest(".sequence-member-inner").width(),height:b()}),function(e){i.default.each(w,(function(){i.default(this).width(e)}));var n=i.default(".widget-table_input").parent();n.find(".field-content").width(e),n.find(".fieldname-table .field-content .field-content").width("80%")}("100%")}));var g=function(){for(var e=f.getCellsMeta(),n=[],t=0;t<e.length;t++)e[t].hasOwnProperty("className")&&n.push({row:e[t].row,col:e[t].col,className:e[t].className});return n},_=function(){l.val(JSON.stringify({data:f.getData(),cell:g(),first_row_is_table_header:s.prop("checked"),first_col_is_header:d.prop("checked"),table_caption:c.val()}))},y=function(e,n){v(b()),_()};s.on("change",(function(){_()})),d.on("change",(function(){_()})),c.on("change",(function(){_()}));var m={afterChange:function(e,n){"loadData"!==n&&_()},afterCreateCol:y,afterCreateRow:y,afterRemoveCol:y,afterRemoveRow:y,afterSetCellMeta:function(e,n,t,a){p&&"className"===t&&_()},afterInit:function(){p=!0}};null!==h&&(h.hasOwnProperty("data")&&(m.data=h.data),h.hasOwnProperty("cell")&&(m.cell=h.cell)),Object.keys(m).forEach((function(e){u[e]=m[e]})),Object.keys(n).forEach((function(e){u[e]=n[e]})),(f=new Handsontable(document.getElementById(t),u)).render(),"resize"in i.default(window)&&(v(b()),i.default(window).on("load",(function(){i.default(window).trigger("resize")})))}window.initTable=r;var o=function(){function e(e,n){this.options=e,this.strings=n}return e.prototype.render=function(e,n,t,a){var i=document.createElement("div");i.innerHTML='\n      <div class="field boolean_field widget-checkbox_input">\n        <label for="'+t+'-handsontable-header">'+this.strings["Row header"]+'</label>\n        <div class="field-content">\n          <div class="input">\n            <input type="checkbox" id="'+t+'-handsontable-header" name="handsontable-header" />\n          </div>\n          <p class="help">'+this.strings["Display the first row as a header."]+'</p>\n        </div>\n      </div>\n      <br/>\n      <div class="field boolean_field widget-checkbox_input">\n        <label for="'+t+'-handsontable-col-header">'+this.strings["Column header"]+'</label>\n        <div class="field-content">\n          <div class="input">\n            <input type="checkbox" id="'+t+'-handsontable-col-header" name="handsontable-col-header" />\n          </div>\n          <p class="help">'+this.strings["Display the first column as a header."]+'</p>\n        </div>\n      </div>\n      <br/>\n      <div class="field">\n          <label for="'+t+'-handsontable-col-caption">'+this.strings["Table caption"]+'</label>\n          <div class="field-content">\n            <div class="input">\n            <input type="text" id="'+t+'-handsontable-col-caption" name="handsontable-col-caption" />\n          </div>\n          <p class="help">\n            '+this.strings["A heading that identifies the overall topic of the table, and is useful for screen reader users"]+'\n          </p>\n        </div>\n      </div>\n      <br/>\n      <div id="'+t+'-handsontable-container"></div>\n      <input type="hidden" name="'+n+'" id="'+t+'" placeholder="'+this.strings.Table+'">\n    ',e.replaceWith(i);var o=i.querySelector('input[name="'+n+'"]'),l=this.options,s={getValue:function(){return JSON.parse(o.value)},getState:function(){return JSON.parse(o.value)},setState:function(e){o.value=JSON.stringify(e),r(t,l)},focus:function(){}};return s.setState(a),s},e}();window.telepath.register("wagtail.widgets.TableInput",o)},73609:function(e){e.exports=jQuery}},n={};function t(a){if(n[a])return n[a].exports;var i=n[a]={id:a,loaded:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}t.m=e,t.x=function(){},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},t.d=function(e,n){for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.j=986,function(){var e={986:0},n=[[92618,751],[90971,751]],a=function(){},i=function(i,r){for(var o,l,s=r[0],d=r[1],c=r[2],u=r[3],f=0,h=[];f<s.length;f++)l=s[f],t.o(e,l)&&e[l]&&h.push(e[l][0]),e[l]=0;for(o in d)t.o(d,o)&&(t.m[o]=d[o]);for(c&&c(t),i&&i(r);h.length;)h.shift()();return u&&n.push.apply(n,u),a()},r=self.webpackChunkwagtail=self.webpackChunkwagtail||[];function o(){for(var a,i=0;i<n.length;i++){for(var r=n[i],o=!0,l=1;l<r.length;l++){var s=r[l];0!==e[s]&&(o=!1)}o&&(n.splice(i--,1),a=t(t.s=r[0]))}return 0===n.length&&(t.x(),t.x=function(){}),a}r.forEach(i.bind(null,0)),r.push=i.bind(null,r.push.bind(r));var l=t.x;t.x=function(){return t.x=l||function(){},(a=o)()}}(),t.x()}();
//# sourceMappingURL=table.js.map