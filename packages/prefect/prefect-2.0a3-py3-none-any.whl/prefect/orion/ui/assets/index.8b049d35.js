var It=Object.defineProperty,St=Object.defineProperties;var Et=Object.getOwnPropertyDescriptors;var tt=Object.getOwnPropertySymbols;var $t=Object.prototype.hasOwnProperty,Ct=Object.prototype.propertyIsEnumerable;var Oe=(e,t,o)=>t in e?It(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,K=(e,t)=>{for(var o in t||(t={}))$t.call(t,o)&&Oe(e,o,t[o]);if(tt)for(var o of tt(t))Ct.call(t,o)&&Oe(e,o,t[o]);return e},Ae=(e,t)=>St(e,Et(t));var x=(e,t,o)=>(Oe(e,typeof t!="symbol"?t+"":t,o),o);import{r as S,o as l,c as b,a as d,w as m,V as oe,p as Q,b as Z,d as i,e as q,f as k,n as F,g as z,t as E,h as se,i as kt,j as re,k as De,F as G,l as H,m as D,q as O,u as f,s as I,T as ye,v as ue,x as Tt,y as de,z as Ve,A as X,B as Ne,C as ge,D as me,E as Ot,G as Re,H as st,I as nt,J as Pe,K as At,L as Dt,M as Le,S as Vt,N as Nt,O as ae,P as ie,Q as ot,R as at,U as rt,W as Rt,X as Pt,Y as Lt,Z as it,_ as Ft,$ as Mt,a0 as Ut,a1 as Bt,a2 as jt,a3 as Wt,a4 as qt,a5 as j,a6 as _e,a7 as lt,a8 as Yt,a9 as zt,aa as Fe,ab as Gt,ac as Ht,ad as Kt}from"./vendor.ef401633.js";const Jt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function o(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=o(n);fetch(n.href,a)}};Jt();var Qt="/ui/assets/prefect-logo-mark-gradient.4f87a8b8.svg";var L=(e,t)=>{for(const[o,s]of t)e[o]=s;return e};class Zt extends oe{}const Xt=Zt,ct=e=>(Q("data-v-6d517d70"),e=e(),Z(),e),es={class:"navbar",tabindex:"-1"},ts=ct(()=>i("img",{class:"logo",src:Qt},null,-1)),ss=ct(()=>i("i",{class:"pi pi-settings-3-line pi-2x"},null,-1));function ns(e,t,o,s,n,a){const r=S("router-link");return l(),b("div",es,[d(r,{to:"/",class:"nav-item"},{default:m(()=>[ts]),_:1}),d(r,{to:"/settings",class:"nav-item mt-auto ml-auto"},{default:m(()=>[ss]),_:1})])}var os=L(Xt,[["render",ns],["__scopeId","data-v-6d517d70"]]);const as={class:"d-flex flex-column align-self-stretch container",style:{width:"100%"}},rs={class:"expand-button-content d-flex align-center align-self-stretch justify-start"},is={class:"font-weight-semibold"},ls={key:0,class:"content pa-1"},cs=q({props:{icon:{type:String,required:!0},title:{type:String,required:!0}},setup(e){const t=e,o=k(!1);return(s,n)=>{const a=S("button-card");return l(),b("div",as,[d(a,{class:"expand-button",width:"100%",onClick:n[0]||(n[0]=r=>o.value=!o.value)},{default:m(()=>[i("div",rs,[t.icon?(l(),b("i",{key:0,class:F(["pi mr-1",t.icon])},null,2)):z("",!0),i("h4",is,E(t.title),1),i("i",{class:F(["pi pi-arrow-down-s-line expand-icon ml-auto",{rotate:o.value}])},null,2)])]),_:1}),o.value?(l(),b("div",ls,[se(s.$slots,"default",{},void 0,!0)])):z("",!0)])}}});var we=L(cs,[["__scopeId","data-v-764fac70"]]);const us={class:"tag font--secondary caption",tabindex:"0",role:"button"},ds={class:"px-1 py--half d-flex align-center"},_s=q({props:{clearable:{type:Boolean,required:!1}},emits:["remove"],setup(e,{emit:t}){const o=e;return(s,n)=>(l(),b("button",us,[i("div",ds,[se(s.$slots,"default",{},void 0,!0),o.clearable?(l(),b("i",{key:0,class:"pi pi-xs pi-close-circle-fill ml-1",role:"button",title:"Clear",onClick:n[0]||(n[0]=a=>t("remove"))})):z("",!0)])]))}});var xe=L(_s,[["__scopeId","data-v-e21666d6"]]);const ut=e=>(Q("data-v-0ca4af38"),e=e(),Z(),e),ps=ut(()=>i("h4",{class:"font-weight-semibold"},"Tags",-1)),ms={class:"mt-2 tag-container"},hs=ut(()=>i("i",{class:"pi pi-price-tag-3-line pi-xs mr--half"},null,-1)),fs=q({props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const o=e,s=k(""),n=kt([...o.modelValue]),a=()=>{!s.value||n.includes(s.value)||(n.push(s.value),s.value="")},r=h=>{n.splice(h,1)};return re(n,()=>{t("update:modelValue",n)}),(h,u)=>{const _=S("Input");return l(),b("div",null,[ps,d(_,{modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=p=>s.value=p),onKeyup:De(a,["enter"]),placeholder:"Press enter to add a tag"},null,8,["modelValue","onKeyup"]),i("div",ms,[(l(!0),b(G,null,H(f(n),(p,g)=>(l(),D(xe,{key:p,class:"ma--half",clearable:"",onRemove:y=>r(g)},{default:m(()=>[hs,O(" "+E(p),1)]),_:2},1032,["onRemove"]))),128))])])}}});var Ie=L(fs,[["__scopeId","data-v-0ca4af38"]]);const vs=e=>(Q("data-v-524f690a"),e=e(),Z(),e),ys=vs(()=>i("div",{class:"font-weight-semibold"},"Run States",-1)),gs=q({props:{modelValue:{type:Array,required:!0}},emits:["close","update:modelValue"],setup(e,{emit:t}){const s=k([...e.modelValue]),n=[{name:"Scheduled",type:"SCHEDULED"},{name:"Pending",type:"PENDING"},{name:"Running",type:"RUNNING"},{name:"Completed",type:"COMPLETED"},{name:"Failed",type:"FAILED"},{name:"Cancelled",type:"CANCELLED"}],a=h=>{const u=s.value.findIndex(_=>_.type==h.type);u>-1?s.value.splice(u,1):s.value.push(h)},r=()=>{s.value.length==n.length?s.value=[]:s.value=[...n]};return re(s.value,()=>{t("update:modelValue",s.value)}),(h,u)=>{const _=S("Checkbox");return l(),b("div",null,[ys,i("a",{class:"font--secondary text--primary text-decoration-none my-1 d-block",onClick:r}," Select All "),(l(),b(G,null,H(n,p=>d(_,{key:p.type,modelValue:!!s.value.find(g=>g.type==p.type),class:"d-flex my-1 font--secondary checkbox text-left",onChange:g=>a(p)},{default:m(()=>[i("span",null,E(p.name),1)]),_:2},1032,["modelValue","onChange"])),64))])}}});var dt=L(gs,[["__scopeId","data-v-524f690a"]]);const pe=e=>(Q("data-v-3f91a350"),e=e(),Z(),e),bs={class:"container"},ws=pe(()=>i("div",{class:"font-weight-semibold"},"Timeframe",-1)),xs={class:"my-2"},Is=O(" Standard "),Ss=O(" Custom "),Es={key:0},$s=pe(()=>i("div",{class:"caption-small text-uppercase font-weight-semibold my-1"}," Past ",-1)),Cs={class:"d-flex"},ks=pe(()=>i("div",{class:"caption-small text-uppercase font-weight-semibold my-1"}," Upcoming ",-1)),Ts={class:"d-flex"},Os={key:1},As={class:"date-picker pa-2"},Ds=pe(()=>i("h2",{class:"font-weight-semibold mb-2"},"Timeframe Start",-1)),Vs=pe(()=>i("hr",null,null,-1)),Ns={class:"mt-2 d-flex align-center justify-end"},Rs=O(" Cancel "),Ps=O(" Apply "),Ls={class:"date-picker pa-2"},Fs=pe(()=>i("h2",{class:"font-weight-semibold"},"Timeframe End",-1)),Ms=pe(()=>i("hr",null,null,-1)),Us={class:"mt-2 d-flex align-center justify-end"},Bs=O(" Cancel "),js=O(" Apply "),Ws=q({props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const o=e,s=k(!1),n=k(!1),a=k(o.modelValue.from.unit),r=k(o.modelValue.to.unit),h=k(o.modelValue.from.value),u=k(o.modelValue.to.value),_=k(o.modelValue.from.timestamp||new Date),p=k(o.modelValue.to.timestamp||new Date),g=k(o.modelValue.from.timestamp||new Date),y=k(o.modelValue.to.timestamp||new Date),N=I(()=>({dynamic:w.value=="standard",from:{timestamp:w.value=="standard"?null:_.value,unit:a.value,value:h.value},to:{timestamp:w.value=="standard"?null:p.value,unit:r.value,value:u.value}})),M=()=>{_.value=new Date(g.value),s.value=!1},$=()=>{p.value=new Date(y.value),n.value=!1},w=k("standard"),v=["minutes","hours","days"];return re([a,r,h,u,_,p],()=>{console.log("emitting"),t("update:modelValue",N.value)}),(C,c)=>{var ce,ve;const T=S("Radio"),U=S("NumberInput"),W=S("Option"),A=S("Select"),R=S("Input"),Y=S("DatePicker"),J=S("TimePicker"),te=S("Button");return l(),b("div",bs,[ws,i("div",xs,[d(T,{modelValue:w.value,"onUpdate:modelValue":c[0]||(c[0]=V=>w.value=V),value:"standard",checked:w.value=="standard",class:"radio"},{default:m(()=>[Is]),_:1},8,["modelValue","checked"]),d(T,{modelValue:w.value,"onUpdate:modelValue":c[1]||(c[1]=V=>w.value=V),value:"custom",checked:w.value=="custom",class:"radio"},{default:m(()=>[Ss]),_:1},8,["modelValue","checked"])]),w.value=="standard"?(l(),b("div",Es,[$s,i("div",Cs,[d(U,{modelValue:h.value,"onUpdate:modelValue":c[2]||(c[2]=V=>h.value=V),step:"1",class:"d-inline-block selector"},null,8,["modelValue"]),d(A,{modelValue:a.value,"onUpdate:modelValue":c[3]||(c[3]=V=>a.value=V),class:"ml-2 d-inline-block selector"},{default:m(()=>[(l(),b(G,null,H(v,V=>d(W,{key:V,value:V},{default:m(()=>[O(E(V),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),ks,i("div",Ts,[d(U,{modelValue:u.value,"onUpdate:modelValue":c[4]||(c[4]=V=>u.value=V),step:"1",class:"d-inline-block selector"},null,8,["modelValue"]),d(A,{modelValue:r.value,"onUpdate:modelValue":c[5]||(c[5]=V=>r.value=V),class:"ml-2 d-inline-block selector"},{default:m(()=>[(l(),b(G,null,H(v,V=>d(W,{key:V,value:V},{default:m(()=>[O(E(V),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])])])):(l(),b("div",Os,[d(R,{value:(ce=_.value)==null?void 0:ce.toLocaleString(),type:"date",label:"Start Date",class:"mb-2",onClick:c[6]||(c[6]=V=>s.value=!s.value)},null,8,["value"]),s.value?(l(),D(ye,{key:0,to:".application"},[i("div",As,[Ds,d(Y,{modelValue:g.value,"onUpdate:modelValue":c[7]||(c[7]=V=>g.value=V)},null,8,["modelValue"]),d(J,{modelValue:g.value,"onUpdate:modelValue":c[8]||(c[8]=V=>g.value=V),class:"py-1"},null,8,["modelValue"]),Vs,i("div",Ns,[d(te,{flat:"",height:"36px",class:"ml-auto mr-1",onClick:c[9]||(c[9]=V=>s.value=!1)},{default:m(()=>[Rs]),_:1}),d(te,{color:"primary",height:"36px",onClick:M},{default:m(()=>[Ps]),_:1})])]),i("div",{class:"overlay",onClick:c[10]||(c[10]=V=>s.value=!1)})])):z("",!0),d(R,{value:(ve=p.value)==null?void 0:ve.toLocaleString(),type:"date",label:"End Date",onClick:c[11]||(c[11]=V=>n.value=!n.value)},null,8,["value"]),n.value?(l(),D(ye,{key:1,to:".application"},[i("div",Ls,[Fs,d(Y,{modelValue:y.value,"onUpdate:modelValue":c[12]||(c[12]=V=>y.value=V)},null,8,["modelValue"]),d(J,{modelValue:y.value,"onUpdate:modelValue":c[13]||(c[13]=V=>y.value=V),class:"py-1"},null,8,["modelValue"]),Ms,i("div",Us,[d(te,{flat:"",height:"36px",class:"ml-auto mr-1",onClick:c[14]||(c[14]=V=>n.value=!1)},{default:m(()=>[Bs]),_:1}),d(te,{color:"primary",height:"36px",onClick:$},{default:m(()=>[js]),_:1})])]),i("div",{class:"overlay",onClick:c[15]||(c[15]=V=>n.value=!1)})])):z("",!0)]))])}}});var _t=L(Ws,[["__scopeId","data-v-3f91a350"]]);const qs=e=>(Q("data-v-60aee39e"),e=e(),Z(),e),Ys={class:"pa-2 d-flex justify-center align-center"},zs={class:"text--primary text-decoration-none font--secondary caption nowrap"},Gs=O(" Clear all "),Hs=[Gs],Ks=qs(()=>i("h3",{class:"d-flex align-center font--primary font-weight-semibold ml-auto"},[i("i",{class:"pi pi-filter-3-line mr-1"}),O(" Filters ")],-1)),Js={class:"menu-content pa-2"},Qs={class:"accordion-body"},Zs={class:"accordion-body"},Xs={class:"accordion-body"},en={class:"accordion-body"},tn=O(" Cancel "),sn=O(" Apply "),nn=q({emits:["close"],setup(e,{emit:t}){const o=Ne(),s=ue(),n=Tt(s.getters.globalFilter),a={flows:{ids:[...n.flows.ids||[]],names:[...n.flows.names||[]],tags:[...n.flows.tags||[]]},deployments:{ids:[...n.deployments.ids||[]],names:[...n.deployments.names||[]],tags:[...n.deployments.tags||[]]},flow_runs:{ids:[...n.flow_runs.ids||[]],tags:[...n.flow_runs.tags||[]],states:[...n.flow_runs.states||[]],timeframe:K({},n.flow_runs.timeframe||{dynamic:!1,from:{units:"minutes",value:60,timestamp:null},to:{units:"minutes",value:60,timestamp:null}})},task_runs:{ids:[...n.task_runs.ids||[]],tags:[...n.task_runs.tags||[]],states:[...n.task_runs.states||[]],timeframe:K({},n.task_runs.timeframe||{dynamic:!1,from:{units:"minutes",value:60,timestamp:null},to:{units:"minutes",value:60,timestamp:null}})}},r=k(K({},a)),h=I(()=>!(o==null?void 0:o.appContext.config.globalProperties.$breakpoints).md),u=()=>{s.commit("globalFilter",K({},r.value)),t("close")},_=()=>{t("close")};return(p,g)=>{const y=S("IconButton"),N=S("Button"),M=S("CardActions"),$=S("Card"),w=de("breakpoints");return l(),D($,{class:"menu font--primary",height:"100%",tabindex:"0"},Ve({actions:m(()=>[d(M,{class:"pa-2 menu-actions d-flex align-center justify-end"},{default:m(()=>[f(h)?z("",!0):(l(),D(N,{key:0,flat:"",height:"35px",class:"ml-auto mr-1",onClick:_},{default:m(()=>[tn]),_:1})),d(N,{color:"primary",height:"35px",width:f(h)?"100%":"auto",onClick:u},{default:m(()=>[sn]),_:1},8,["width"])]),_:1})]),default:m(()=>[i("div",Js,[d(we,{class:"mb-1",title:"Flows",icon:"pi-filter-3-line"},{default:m(()=>[i("div",Qs,[d(Ie,{modelValue:r.value.flows.tags,"onUpdate:modelValue":g[0]||(g[0]=v=>r.value.flows.tags=v),class:"px-2 py-1"},null,8,["modelValue"])])]),_:1}),d(we,{class:"mb-1",title:"Deployments",icon:"pi-filter-3-line"},{default:m(()=>[i("div",Zs,[d(Ie,{modelValue:r.value.deployments.tags,"onUpdate:modelValue":g[1]||(g[1]=v=>r.value.deployments.tags=v),class:"px-2 py-1"},null,8,["modelValue"])])]),_:1}),d(we,{class:"mb-1",title:"Flow Runs",icon:"pi-filter-3-line"},{default:m(()=>[i("div",Xs,[d(dt,{modelValue:r.value.flow_runs.states,"onUpdate:modelValue":g[2]||(g[2]=v=>r.value.flow_runs.states=v),class:"px-2 py-1"},null,8,["modelValue"]),d(_t,{modelValue:r.value.flow_runs.timeframe,"onUpdate:modelValue":g[3]||(g[3]=v=>r.value.flow_runs.timeframe=v),class:"px-2 py-1"},null,8,["modelValue"]),d(Ie,{modelValue:r.value.flow_runs.tags,"onUpdate:modelValue":g[4]||(g[4]=v=>r.value.flow_runs.tags=v),class:"px-2 py-1"},null,8,["modelValue"])])]),_:1}),d(we,{class:"mb-1",title:"Task Runs",icon:"pi-filter-3-line"},{default:m(()=>[i("div",en,[d(dt,{modelValue:r.value.task_runs.states,"onUpdate:modelValue":g[5]||(g[5]=v=>r.value.task_runs.states=v),class:"px-2 py-1"},null,8,["modelValue"]),d(_t,{modelValue:r.value.task_runs.timeframe,"onUpdate:modelValue":g[6]||(g[6]=v=>r.value.task_runs.timeframe=v),class:"px-2 py-1"},null,8,["modelValue"]),d(Ie,{modelValue:r.value.task_runs.tags,"onUpdate:modelValue":g[7]||(g[7]=v=>r.value.task_runs.tags=v),class:"px-2 py-1"},null,8,["modelValue"])])]),_:1})])]),_:2},[f(h)?{name:"header",fn:m(()=>[i("div",Ys,[X(i("a",zs,Hs,512),[[w,"xs"]]),Ks,d(y,{icon:"pi-close-line",height:"34px",width:"34px",class:"ml-auto",flat:"",style:{"border-radius":"50%"},onClick:_})])])}:void 0]),1024)}}});var on=L(nn,[["__scopeId","data-v-60aee39e"]]);const an=e=>(Q("data-v-00e8f94c"),e=e(),Z(),e),rn=["onClick"],ln=an(()=>i("i",{class:"pi pi-search-line mr-1 flex-shrink-1"},null,-1)),cn=["onKeyup"],un=["onClick"],dn=q({emits:["input","keyup.enter","focused"],setup(e,{emit:t}){const o=k(),s=k(""),n=()=>{t("input",s.value)},a=()=>{t("keyup.enter",s.value)},r=()=>{t("focused")},h=()=>{o.value.focus()},u=_=>{if(!(_==null?void 0:_.target))return;switch(_.target.tagName){case"INPUT":case"SELECT":case"TEXTAREA":return}_.key=="t"&&_.target&&h()};return ge(()=>{window.addEventListener("keyup",u)}),me(()=>{window.removeEventListener("keyup",u)}),(_,p)=>{const g=de("breakpoints");return l(),b("div",{class:"search-input px-2 flex-grow-1 flex-shrink-0 d-flex align-center font--primary justify-start",onClick:Re(h,["self"])},[ln,X(i("input",{"onUpdate:modelValue":p[0]||(p[0]=y=>s.value=y),ref:(y,N)=>{N.searchInput=y,o.value=y},class:"flex-shrink-1",placeholder:"Search...",onFocus:r,onInput:n,onKeyup:De(a,["enter"])},null,40,cn),[[Ot,s.value]]),X(i("div",{class:"ml-auto d-flex align-center justify-end flex-shrink-0 flex-grow-1 slot-content",onClick:Re(h,["self"])},[se(_.$slots,"default",{},void 0,!0)],8,un),[[g,"xs"]])],8,rn)}}});var _n=L(dn,[["__scopeId","data-v-00e8f94c"]]);const B={flow:{method:"GET",url:"/flows/{id}",interpolate:!0},flows:{method:"POST",url:"/flows/filter"},flows_count:{method:"POST",url:"/flows/count"},create_flow_run:{method:"POST",url:"/flow_runs"},deployment:{method:"GET",url:"/deployments/{id}",interpolate:!0},deployments:{method:"POST",url:"/deployments/filter"},deployments_count:{method:"POST",url:"/deployments/count"},set_schedule_inactive:{method:"POST",url:"/deployments/{id}/set_schedule_inactive",interpolate:!0},set_schedule_active:{method:"POST",url:"/deployments/{id}/set_schedule_active",interpolate:!0},create_flow_run_from_deployment:{method:"POST",url:"/deployments/{id}/create_flow_run",interpolate:!0},flow_run:{method:"GET",url:"/flow_runs/{id}",interpolate:!0},flow_runs:{method:"POST",url:"/flow_runs/filter"},flow_runs_history:{method:"POST",url:"/flow_runs/history"},flow_runs_count:{method:"POST",url:"/flow_runs/count"},task_run:{method:"GET",url:"/task_runs/{id}",interpolate:!0},task_runs:{method:"POST",url:"/task_runs/filter"},task_runs_count:{method:"POST",url:"/task_runs/count"},task_runs_history:{method:"POST",url:"/task_runs/history"},save_search:{method:"PUT",url:"/saved_searches"},delete_search:{method:"DELETE",url:"/saved_searches/{id}",interpolate:!0},saved_searches:{method:"POST",url:"/saved_searches/filter"},settings:{method:"GET",url:"/admin/settings"},database_clear:{method:"POST",url:"/admin/database/clear"},version:{method:"GET",url:"/admin/version"}},pt="http://localhost:4200/api";class mt{constructor(t,o){x(this,"interval",null);x(this,"endpointRegex",/{\w+}/gm);x(this,"endpoint");x(this,"base_url",pt);x(this,"watcher");x(this,"error",null);x(this,"id");x(this,"pollInterval",0);x(this,"loading",k(!1));x(this,"response",k(null));x(this,"paused",!1);var s,n;if(this.id=o,this.paused=((s=t.options)==null?void 0:s.paused)||!1,!t.endpoint)throw new Error("Query constructors must provide an endpoint.");if(this.endpoint=t.endpoint,this.pollInterval=((n=t==null?void 0:t.options)==null?void 0:n.pollInterval)||0,this.pollInterval!==0&&this.pollInterval<1e3)throw new Error("Poll intervals cannot be less than 1000ms.");return this.body=t.body||{},this.pollInterval>0?this.startPolling():this.paused||this.fetch(),this}_body(){return{}}pause(){this.paused=!0}resume(){this.paused=!1,this.fetch()}stopPolling(){this.interval&&clearTimeout(this.interval)}unwatch(){this.watcher&&this.watcher()}async startPolling(){this.stopPolling(),!!this.pollInterval&&(this.paused||await this.fetch(),this.interval=setTimeout(()=>this.startPolling(),this.pollInterval))}async fetch(){this.loading.value=!0,this.error=null;try{this.response.value=await this.http()}catch(t){this.error=t,console.error(t)}finally{this.loading.value=!1}return this}get body(){return this._body()}set body(t){this._body=()=>{this.unwatch();let o;t||(o={});const s=t==null?void 0:t.constructor.name;return(t==null?void 0:t.__v_isRef)?(o=t.value,this.watcher=re(()=>t.value,()=>{this.pollInterval?this.startPolling():this.paused||this.fetch()})):s=="Object"||s=="Function"?o=t instanceof Function?t():t:o=t,o}}get route(){return this.base_url+this.endpoint.url}async http(){let t=this.route;const o=JSON.parse(JSON.stringify(this.body))||{};if(this.endpoint.interpolate){const n=[];t=t.replaceAll(this.endpointRegex,a=>{const r=a.replace("{","").replace("}","");if(r in o)return n.push(r),o[r];throw new Error(`Attempted to interpolate a url without a correct key present in the body. Expected ${r}.`)}),n.forEach((a,r)=>{delete o[a]})}return await fetch(t,{headers:{"Content-Type":"application/json"},method:this.endpoint.method,body:this.endpoint.method!=="GET"?JSON.stringify(o):null}).then(n=>n).then(n=>{if(n.status==200||n.status==201)return n.json();if(n.status==204)return n;throw console.error(this.endpoint,o),new Error(`Response status ${n.status}: ${n.statusText}`)})}}class P{constructor(){x(this,"base_url",pt)}static startPolling(){Object.values(this.queries).forEach(t=>t.startPolling())}static stopPolling(){Object.values(this.queries).forEach(t=>t.stopPolling())}static query(t){var n,a;if(!t.endpoint)throw new Error("You must provide an endpoint when registering a query.");if(((n=t==null?void 0:t.options)==null?void 0:n.pollInterval)&&t.options.pollInterval!==0&&t.options.pollInterval<1e3)throw new Error("Poll intervals cannot be less than 1000ms.");const o=this.queries.size,s=new mt(t,o);return((a=t==null?void 0:t.options)==null?void 0:a.pollInterval)&&this.queries.set(o,s),s}}x(P,"queries",new Map);const pn={install(e){const t=P;e.config.globalProperties.$api=t,e.provide("$api",t),e.mixin({unmounted(){this.queries&&typeof this.queries=="object"&&Object.values(this.queries).filter(o=>o instanceof mt).forEach(o=>{o.stopPolling(),P.queries.delete(o.id)})}})}};let Se,Ee;const mn=async()=>{document[Se]?P.stopPolling():P.startPolling()};window&&(typeof document.msHidden!="undefined"?(Se="msHidden",Ee="msvisibilitychange"):typeof document.webkitHidden!="undefined"?(Se="webkitHidden",Ee="webkitvisibilitychange"):(Se="hidden",Ee="visibilitychange"),window.addEventListener(Ee,mn,!1));const $e=e=>(Q("data-v-4b7b1e5a"),e=e(),Z(),e),hn={class:"pa-2 d-flex justify-center align-center"},fn=$e(()=>i("h3",{class:"d-flex align-center font--secondary ml-auto"},[i("i",{class:"pi pi-search-line mr-1"}),O(" Search ")],-1)),vn={class:"menu-content"},yn={key:0,class:"my-6 d-flex flex-column align-center justify-center font--secondary"},gn={key:1,class:"my-6 d-flex flex-column align-center justify-center font--secondary"},bn=$e(()=>i("i",{class:"pi pi-error-warning-line pi-3x"},null,-1)),wn=$e(()=>i("h2",null,"Couldn't fetch saved searches",-1)),xn=[bn,wn],In={key:2,class:"justify-self-start"},Sn=$e(()=>i("h4",{key:"search-header",class:"pa-2 font-weight-semibold"}," Saved Searches ",-1)),En=["onClick"],$n=O(" Apply "),Cn=q({emits:["close"],setup(e,{emit:t}){const o=ue(),s=Ne(),n=k(),a=k([]),r=k([]),h=k(),u=k(),_=async()=>{u.value=!0;try{const C=await P.query({endpoint:B.saved_searches,options:{paused:!0}}).fetch();C.response.error?h.value=C.response.error:a.value=C.response.value}catch(v){h.value=v}finally{u.value=!1,console.log(a.value)}},p=()=>{t("close")},g=v=>{n.value=v},y=v=>{g(v),N()},N=()=>{var C,c,T,U,W,A,R,Y,J,te,ce,ve,V,et;if(!n.value)return;const v=K({},(C=n.value)==null?void 0:C.filters);((U=(T=(c=v.flow_runs)==null?void 0:c.timeframe)==null?void 0:T.from)==null?void 0:U.timestamp)&&(v.flow_runs.timeframe.from.timestamp=new Date(v.flow_runs.timeframe.from.timestamp)),((R=(A=(W=v.flow_runs)==null?void 0:W.timeframe)==null?void 0:A.to)==null?void 0:R.timestamp)&&(v.flow_runs.timeframe.to.timestamp=new Date(v.flow_runs.timeframe.to.timestamp)),((te=(J=(Y=v.task_runs)==null?void 0:Y.timeframe)==null?void 0:J.from)==null?void 0:te.timestamp)&&(v.task_runs.timeframe.from.timestamp=new Date(v.task_runs.timeframe.from.timestamp)),((V=(ve=(ce=v.task_runs)==null?void 0:ce.timeframe)==null?void 0:ve.to)==null?void 0:V.timestamp)&&(v.task_runs.timeframe.to.timestamp=new Date(v.task_runs.timeframe.to.timestamp)),o.commit("globalFilter",(et=n.value)==null?void 0:et.filters),t("close")};st(()=>{_()}),me(()=>{});const M=async v=>{r.value.push(v);const c=await(await P.query({endpoint:B.delete_search,body:{id:v},options:{paused:!0}})).fetch();s==null||s.appContext.config.globalProperties.$toast.add({type:c.error?"error":"success",content:c.error?`Error: ${c.error}`:"Search removed",timeout:1e4}),await _(),r.value.splice(r.value.indexOf(v),1)},$=I(()=>!(s==null?void 0:s.appContext.config.globalProperties.$breakpoints).md),w=I(()=>(s==null?void 0:s.appContext.config.globalProperties.$breakpoints).md);return(v,C)=>{const c=S("IconButton"),T=S("Loader"),U=S("Button"),W=S("CardActions"),A=S("Card");return l(),D(A,{class:"menu font--primary",tabindex:"0"},Ve({default:m(()=>[i("div",vn,[d(Pe,{name:"fade",mode:"out-in"},{default:m(()=>[u.value.value&&!a.value.length?(l(),b("div",yn,[d(T,{loading:u.value},null,8,["loading"])])):h.value?(l(),b("div",gn,xn)):(l(),b("div",In,[d(nt,{mode:"out","leave-active-class":"slide-out-leave-active","leave-to-class":"slide-out-leave-to"},{default:m(()=>[Sn,(l(!0),b(G,null,H(a.value,R=>{var Y;return l(),b("div",{key:R.id,class:F(["pa-2 font--primary body search-item d-flex justify-space-between",{disabled:r.value.includes(R.id),active:((Y=n.value)==null?void 0:Y.id)==R.id}]),tabindex:"0",onClick:Re(J=>f(w)?y(R):g(R),["self"])},[i("div",null,E(R.name),1),d(c,{flat:"",icon:"pi-delete-bin-line text--grey-20 pi-sm",disabled:r.value.includes(R.id),onClick:J=>M(R.id)},null,8,["disabled","onClick"])],10,En)}),128))]),_:1})]))]),_:1})])]),_:2},[f($)?{name:"header",fn:m(()=>[i("div",hn,[fn,d(c,{icon:"pi-close-line",height:"34px",width:"34px",flat:"",class:"ml-auto",style:{"border-radius":"50%"},onClick:p})])])}:void 0,f($)?{name:"actions",fn:m(()=>[d(W,{class:"pa-2 menu-actions d-flex align-center justify-end"},{default:m(()=>[d(U,{color:"primary",height:"35px",width:f($)?"100%":"auto",onClick:N},{default:m(()=>[$n]),_:1},8,["width"])]),_:1})])}:void 0]),1024)}}});var kn=L(Cn,[["__scopeId","data-v-4b7b1e5a"]]);const Tn=(e,t,o)=>{const s=[];return o.length==6?s.push({object:e,label:"All States",key:t,icon:"pi-focus-3-line"}):o.length>0&&o.forEach(n=>{s.push({object:e,label:n.name,key:t,icon:"pi-focus-3-line"})}),s},On=(e,t,o)=>{const s={tags:"pi-price-tag-3-line",ids:"pi-search-line",names:"pi-search-line"};return o.map(n=>({object:e,label:n,key:t,icon:s[t]}))},An=(e,t,o)=>{const s=[];if(o.from){let n;o.from.timestamp?n=new Date(o.from.timestamp).toLocaleString():o.from.value&&o.from.unit&&(n=`${o.from.value}${o.from.unit.slice(0,1)}`),n&&s.push({object:e,label:`${o.from.timestamp?"From: ":"Past "} ${n}`,key:t,icon:"pi-scheduled"})}if(o.to){let n;o.to.timestamp?n=new Date(o.to.timestamp).toLocaleString():o.to.value&&o.to.unit&&(n=`${o.to.value}${o.to.unit.slice(0,1)}`),n&&s.push({object:e,label:`${o.to.timestamp?"To: ":"Next "} ${n}`,key:t,icon:"pi-scheduled"})}return s},ht=e=>{let t=[];return Object.entries(e).forEach(([s,n])=>{Object.entries(n).forEach(([r,h])=>{let u;switch(r){case"states":u=Tn(s,r,h);break;case"timeframe":u=An(s,r,h);break;case"tags":case"ids":case"names":u=On(s,r,h);break;default:u=[];break}t=[...t,...u]})}),t};const Dn=e=>(Q("data-v-0f94fd40"),e=e(),Z(),e),Vn={class:"pa-2 d-flex justify-center align-center"},Nn=Dn(()=>i("h3",{class:"d-flex align-center font--primary font-weight-semibold ml-auto"},[i("i",{class:"pi pi-star-fill text--grey-80 mr-1"}),O(" Save Search ")],-1)),Rn={class:"menu-content pa-2"},Pn={class:"my-4"},Ln=O(" Cancel "),Fn=O(" Save "),Mn=q({emits:["close"],setup(e,{emit:t}){const o=ue(),s=Ne(),n=k(!1),a=k("New Filter"),r=()=>{t("close")},h=async()=>{n.value=!0;const p=JSON.parse(JSON.stringify(o.getters.globalFilter)),y=await(await P.query({endpoint:B.save_search,body:{name:a.value,filters:p},options:{paused:!0}})).fetch();s==null||s.appContext.config.globalProperties.$toast.add({type:y.error?"error":"success",content:y.error?`Error: ${y.error}`:"Filter saved!",timeout:1e4}),y.error||r(),n.value=!1},u=I(()=>ht(o.getters.globalFilter)),_=I(()=>!(s==null?void 0:s.appContext.config.globalProperties.$breakpoints).md);return(p,g)=>{const y=S("IconButton"),N=S("Input"),M=S("Button"),$=S("CardActions"),w=S("Card");return l(),D(w,{class:"menu font--primary",height:"100%",tabindex:"0"},Ve({actions:m(()=>[d($,{class:"pa-2 menu-actions d-flex align-center justify-end"},{default:m(()=>[f(_)?z("",!0):(l(),D(M,{key:0,flat:"",height:"35px",class:"ml-auto mr-1",onClick:r},{default:m(()=>[Ln]),_:1})),d(M,{color:"primary",height:"35px",width:f(_)?"100%":"auto",disabled:!a.value||n.value,onClick:h},{default:m(()=>[Fn]),_:1},8,["width","disabled"])]),_:1})]),default:m(()=>[i("div",Rn,[d(N,{label:"Name",modelValue:a.value,"onUpdate:modelValue":g[0]||(g[0]=v=>a.value=v)},null,8,["modelValue"]),i("div",Pn,[(l(!0),b(G,null,H(f(u),(v,C)=>(l(),D(xe,{key:C,class:"mr--half mb--half"},{default:m(()=>[i("i",{class:F(["pi pi-xs mr--half",v.icon])},null,2),O(" "+E(v.label),1)]),_:2},1024))),128))])])]),_:2},[f(_)?{name:"header",fn:m(()=>[i("div",Vn,[Nn,d(y,{icon:"pi-close-line",height:"34px",width:"34px",class:"ml-auto",flat:"",style:{"border-radius":"50%"},onClick:r})])])}:{name:"header",fn:m(()=>[i("div",{class:"pa-2 d-flex justify-start align-center"},[i("h3",{class:"d-flex align-center font--primary font-weight-semibold"}," Save Search ")])])}]),1024)}}});var Un=L(Mn,[["__scopeId","data-v-0f94fd40"]]);const Bn=e=>{var o;const t=(o=e.globalFilter.flow_runs.timeframe)==null?void 0:o.from;if(!t)return new Date;if(t.timestamp)return t.timestamp;if(t.unit&&t.value){const s=new Date;switch(t.unit){case"minutes":s.setMinutes(s.getMinutes()-t.value);break;case"hours":s.setHours(s.getHours()-t.value);break;case"days":s.setDate(s.getDate()-t.value);break}return s}throw new Error("There was an issue calculating start time in the store.")},jn=e=>{var o;const t=(o=e.globalFilter.flow_runs.timeframe)==null?void 0:o.to;if(!t)return new Date;if(t.timestamp)return t.timestamp;if(t.unit&&t.value){const s=new Date;switch(t.unit){case"minutes":s.setMinutes(s.getMinutes()+t.value);break;case"hours":s.setHours(s.getHours()+t.value);break;case"days":s.setDate(s.getDate()+t.value);break}return s}throw new Error("There was an issue calculating start time in the store.")},Wn=(e,t)=>Math.floor((t.end.getTime()-t.start.getTime())/1e3/30),qn=e=>e.globalFilter,Yn=["flows","deployments","flow_runs","task_runs"],zn={task_runs:"start_time",flow_runs:"expected_start_time"},Gn=e=>t=>{var n,a,r,h,u,_,p,g,y,N,M,$,w,v;const o=zn[t],s={id:void 0,name:void 0,tags:void 0,[o]:void 0};if(((n=e.globalFilter[t])==null?void 0:n.ids)&&((r=(a=e.globalFilter[t])==null?void 0:a.ids)==null?void 0:r.length)&&(s.id={any_:e.globalFilter[t].ids}),((h=e.globalFilter[t])==null?void 0:h.names)&&((_=(u=e.globalFilter[t])==null?void 0:u.names)==null?void 0:_.length)&&(s.name={any_:e.globalFilter[t].names}),((p=e.globalFilter[t])==null?void 0:p.tags)&&((y=(g=e.globalFilter[t])==null?void 0:g.tags)==null?void 0:y.length)&&(s.tags={all_:e.globalFilter[t].tags}),t=="flow_runs"||t=="task_runs"){const C=(M=(N=e.globalFilter[t])==null?void 0:N.timeframe)==null?void 0:M.from,c=(w=($=e.globalFilter[t])==null?void 0:$.timeframe)==null?void 0:w.to,T=C&&(C.value&&C.unit||C.timestamp),U=c&&(c.value&&c.unit||c.timestamp);if((T||U)&&(s[o]={before_:void 0,after_:void 0}),T&&C.timestamp&&(s[o].after_=C.timestamp.toISOString()),T&&C.value&&!C.timestamp){const A=new Date;switch(C.unit){case"minutes":A.setMinutes(A.getMinutes()-C.value);break;case"hours":A.setHours(A.getHours()-C.value);break;case"days":A.setDate(A.getDate()-C.value);break}s[o].after_=A.toISOString()}if(U&&c.timestamp&&(s[o].before_=c.timestamp.toISOString()),U&&c.value&&!c.timestamp){const A=new Date;switch(c.unit){case"minutes":A.setMinutes(A.getMinutes()+c.value);break;case"hours":A.setHours(A.getHours()+c.value);break;case"days":A.setDate(A.getDate()+c.value);break}s[o].before_=A.toISOString()}const W=(v=e.globalFilter[t])==null?void 0:v.states;W&&W.length&&(s.state={type:W.reduce((A,R)=>(A.any_.push(R.type),A),{any_:[]})})}return Object.entries(s).forEach(([C,c])=>{c||delete s[C]}),s},Hn=(e,t)=>{const o={};return Yn.forEach(s=>{const n=t.baseFilter(s);Object.keys(n).length>0&&(o[s]=n)}),K({},o)};var Kn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",start:Bn,end:jn,baseInterval:Wn,globalFilter:qn,baseFilter:Gn,composedFilter:Hn});const Jn=(e,t)=>{e.globalFilter=K({},t)},Qn=e=>{e.globalFilter=K({},Me)},Zn=(e,t)=>{e.globalFilter[t.object].states=t.states},Xn=(e,t)=>{e.globalFilter[t.object].tags=t.tags},eo=(e,t)=>{e.globalFilter[t.object].timeframe={dynamic:t.dynamic,from:t.from,to:t.to}};var to=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",globalFilter:Jn,resetFilters:Qn,states:Zn,tags:Xn,timeframe:eo});const Me={flows:{},deployments:{},flow_runs:{timeframe:{dynamic:!0,from:{value:60,unit:"minutes"},to:{value:60,unit:"minutes"}},states:[{name:"Scheduled",type:"SCHEDULED"},{name:"Pending",type:"PENDING"},{name:"Running",type:"RUNNING"},{name:"Completed",type:"COMPLETED"},{name:"Failed",type:"FAILED"},{name:"Cancelled",type:"CANCELLED"}]},task_runs:{}},so={globalFilter:K({},Me)},no={},oo=At({state:so,getters:Kn,mutations:to,actions:no,plugins:[Dt()]}),ao=i("i",{class:"pi pi-filter-3-line pi-xs mr--half"},null,-1),ro=q({props:{tags:{type:Array,required:!0},clearable:{type:Boolean,required:!1}},emits:["remove","click-tag"],setup(e,{emit:t}){const o=e,s=k(0),n=k(),a=I(()=>o.tags.length*250+250>s.value),r=()=>{s.value=n.value.parentNode.offsetWidth};return ge(()=>{r(),window.addEventListener("resize",r)}),me(()=>{window.removeEventListener("resize",r)}),(h,u)=>(l(),b("div",{ref:(_,p)=>{p.container=_,n.value=_},class:"filter-tag-group d-flex"},[f(a)?(l(),D(xe,{key:0},{default:m(()=>[ao,O(" "+E(e.tags.length)+" filters ",1)]),_:1})):(l(!0),b(G,{key:1},H(o.tags,(_,p)=>(l(),D(xe,{key:p,class:"mr--half",clearable:e.clearable,onClick:g=>t("click-tag",_),onRemove:g=>t("remove",_)},{default:m(()=>[i("i",{class:F(["pi pi-xs mr--half",_.icon])},null,2),O(" "+E(_.label),1)]),_:2},1032,["clearable","onClick","onRemove"]))),128))],512))}});const ft=e=>(Q("data-v-8469b994"),e=e(),Z(),e),io=["onKeyup"],lo=O(" Clear all "),co=[lo],uo={class:"saved-searches-container"},_o=ft(()=>i("i",{class:"pi pi-star-line"},null,-1)),po=[_o],mo={class:"filter-container"},ho=ft(()=>i("i",{class:"pi pi-filter-3-line"},null,-1)),fo={class:"ml-1"},vo=O("Filters"),yo=[vo],go=q({setup(e){const t=ue(),o=Le(),s=k(!1),n=k(!1),a=k(!1),r=k(!1),h=()=>{a.value=!1},u=()=>{n.value=!1,s.value=!1,a.value=!0},_=()=>{s.value=!1},p=()=>{a.value=!1,n.value=!1,s.value=!0},g=()=>{n.value=!1},y=()=>{s.value=!1,a.value=!1,n.value=!0},N=()=>{s.value=!1,a.value=!1,n.value=!1,r.value=!1,document.activeElement&&document.activeElement.blur()},M=R=>{console.log(R)},$=I(()=>ht(t.getters.globalFilter)),w=()=>{t.commit("resetFilters")},v=k(!1),C=([R])=>v.value=!R.isIntersecting,c=k();let T;const U=R=>{c.value&&(T==null||T.unobserve(c.value));const Y={rootMargin:R,threshold:[.1,1]};T=new IntersectionObserver(C,Y),c.value&&T.observe(c.value)},W=I(()=>s.value||a.value||r.value||n.value),A=I(()=>JSON.stringify(Me)!==JSON.stringify(t.getters.globalFilter));return ge(()=>{U("0px")}),me(()=>{c.value&&(T==null||T.unobserve(c.value))}),re(o,()=>{o.name=="Dashboard"?c.value&&(T==null||T.observe(c.value)):(c.value&&(T==null||T.unobserve(c.value)),v.value=!0)}),(R,Y)=>{const J=de("breakpoints");return l(),b("div",{class:F(["bar-wrapper d-flex font--secondary",{detached:v.value,active:f(W)}]),onKeyup:De(N,["esc"])},[i("div",{class:F(["bar",{"menu-opened":s.value}])},[d(_n,{onFocused:y},{default:m(()=>[d(ro,{tags:f($),clearable:!1,onClick:p,onRemove:M},null,8,["tags","clearable"]),f(A)&&f($).length?X((l(),b("a",{key:0,class:"text--primary text-decoration-none font--secondary caption nowrap ml-1",onClick:w},co,512)),[[J,"sm"]]):z("",!0)]),_:1}),i("div",uo,[i("button",{class:F(["filter-button saved-searches text--grey-80 px-2",{active:a.value}]),onClick:Y[0]||(Y[0]=te=>a.value?h():u())},po,2)]),i("div",mo,[i("button",{class:F(["filter-button filters text--grey-80 px-2",{active:s.value}]),onClick:Y[1]||(Y[1]=te=>s.value?_():p())},[ho,X(i("span",fo,yo,512),[[J,"sm"]])],2)]),(l(),D(ye,{to:"#app"},[i("div",{class:"observe",ref:(te,ce)=>{ce.observe=te,c.value=te}},null,512)])),f(W)?(l(),D(ye,{key:0,to:".application"},[i("div",{class:"overlay",onClick:N})])):z("",!0),d(nt,{name:"fade-slide",mode:"out-in"},{default:m(()=>[n.value?(l(),D(kn,{key:"search-menu",class:"search-menu",onClose:g})):z("",!0),a.value?(l(),D(Un,{key:"save-search-menu",class:"save-search-menu",onClose:h})):s.value?(l(),D(on,{key:"filter-menu",class:"filter-menu",onClose:_})):z("",!0)]),_:1})],2)],42,io)}}});var bo=L(go,[["__scopeId","data-v-8469b994"]]);const wo={class:"application"},xo=q({setup(e){const t=Le(),o=["/settings"],s=I(()=>!o.includes(t.path));return(n,a)=>{const r=S("router-view");return l(),b("div",wo,[d(os,{class:"nav"}),f(s)?(l(),D(bo,{key:0,class:"filter-bar"})):z("",!0),(l(),D(Vt,null,{default:m(()=>[d(r,{class:"router-view"})]),_:1}))])}}});Nt(`${{NVM_INC:"/Users/chris/.nvm/versions/node/v16.5.0/include/node",MARVIN_TOKEN:"xoxb-362115247360-388497645541-iTUoS5Y4ShQxfdfBrwE63RFt",PREFECT_SLACK_CLIENT_ID:"362115247360.455389746338",TERM_PROGRAM:"Apple_Terminal",NODE:"/Users/chris/.nvm/versions/node/v16.5.0/bin/node",INIT_CWD:"/Users/chris/Developer/orion/orion-ui",NVM_CD_FLAGS:"",SHELL:"/bin/bash",TERM:"xterm-256color",npm_config_metrics_registry:"https://registry.npmjs.org/",TMPDIR:"/var/folders/bs/4t_7xzzn1gq1v46ypfgfmt4m0000gn/T/",GOOGLE_APPLICATION_CREDENTIALS:"/Users/chris/Developer/prefect-marvin-e5f415f8d2b2.json",GITHUB_PRIVATE_KEY:`-----BEGIN RSA PRIVATE KEY-----
MIIEpQIBAAKCAQEAvRYqKV8BKLP2TbpwhF4OzBWyrT6OqVdTm/WIzyNVA5dnx+ID
gcaKhJpINPCpdWUgkURxNxOILIGNTKy7wiYuT1BDpF/ymycRbx3Zqh2a48Gl7FXp
aLxd0CcaOfDQEhKp56rViPQEWqwcvVYrgF+E01+jzYrZ2zpwFGO+UA71kphiY6yb
Fiv6uVD2OzVwqp8hp2zdkxyiA98wGT1yuX8CV2DWhNHm9uGcIoxGhsx6WRCwN21m
n5glLFWwZhM2+Pf0Z2OSSBPTBAKNLVfNSraqwxfZzbYyN52L08j0HcrQHG4kvOJ0
b0Lw5fd0e32jHx7jgDE1HwgflAIrZCeEv6M+YwIDAQABAoIBAQCqKaIzrP28BYgo
lxne5U5ntzce1WdJWf8yIRrHXkKJgt2wceM6DNRnVPiaO+IkdaeDU5aXPAqWEth4
IhKuO/H9Cnx1FqubmOMFnlVd1FqpkIGjWAU/bhT219mwPtjhCs7AX2rfXsn0V2Nd
uIhZdJxyJGWi+cvokISAtOp13aB+FPpcuJ7jgajGkEeSaffilsxLVFOVzjtYmWGM
6dwptWHYeHndKjj74CxCSPgSdu2PFQo4T0VSR52KZyvPzgW+tCCtidK+85zM5DGs
AzJerICmNl/mKcFHLYSt8ISJcjtSk9BN8pWKOIaO3Rmh4YA95jH7Z0gusgJXMtja
tYB1BYvhAoGBAPT9iVvqBK+W/UY94WyVXZRg5CVzz1NXUoRPTea9waZ7StFB2BH6
6mSl9oKs0/QAEy2eRzW/XNOYH5wx2C/fFhWe9cKgTYreNoEEXRIJ6KBNf/37MDbI
ZlRNAacbVIdDyAuC6JQg+Q3wBQg3z6G6u46+yrOhqkOzuS4FFw3mVjEbAoGBAMWV
fUf99VulD62mvDTaAzeMT5WSDQkOS/O4UMEWkQsQe/9IJkdyCtpg9vv6VrLJYhou
/SyApcklJA5Jsy1zlfJ29CSSUCPx4Q/vfRzfs6lf1Wqm4DMck2urCxuNjsDnYDp3
w9i7eMmoXVIy+xgPtaw82a5fI0p+1V1TnL0e80RZAoGBALEs+r3CTIlARQMblX+V
tgus1tJPIs0/BaoyQEBzUy03VTBo0f6O3BzV+aUfoFmCBFylbxJrxpIwHgwz8AkO
6UXRpCKRFAMuGXTM1xJIoDfuVHY1xvSXkYm990gG9+arGm1YyyL1haiSwNDkrABm
r2XYjXfDnwM/YtjpTXb78bGpAoGAYzA8iFuRRMSELmS5rr6TRtuFSEzdhmJK9rrc
r1Io1ikcVndd4Bf8IszysGRoCbDXMtXL+v9KOsQOaa3N6U9RQzs8LO/Wk3Tlyx4q
7MfQZYLanIPRoVcDGtXu6ZISy/xbbn6ZLsBOTs3aq100eEvKpACYNtVD3i315rgG
w1o6PWECgYEA4cA0EAw3y0L8uZbD3ipjExOfzhluDNRPdEmV00lLd001bkqCxwsR
kBn1EHSjj3VQAa7cKu3gMztzJfFIk1a1x8J4PM4/3+TNwa3qmV+crAZTca3pLMPo
HjUQc1fBjpLYuegEmLCtrHsd9DvGv3SbH88uTQ0mSzF3bGkJHvrhYhQ=
-----END RSA PRIVATE KEY-----`,CONDA_SHLVL:"2",TERM_PROGRAM_VERSION:"440",CONDA_PROMPT_MODIFIER:"",COLOR:"0",TERM_SESSION_ID:"8024D66D-FE44-40AB-A379-C7508B9C21BE",npm_config_noproxy:"",USER:"chris",NVM_DIR:"/Users/chris/.nvm",npm_config_globalconfig:"/Users/chris/.nvm/versions/node/v16.5.0/etc/npmrc",SLACK_VALIDATION_TOKEN:"5nScvpO3LtL5OYk2Ty6rVtYx",CONDA_EXE:"/Users/chris/miniconda3/bin/conda",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.c14evbWyIb/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",TOKEN:"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJ1c2VyX2lkIjoiN2JkN2ExNDktNTg3Zi00NWQ2LWIwMjYtNGM2YTg2OWViY2RiIiwidGVuYW50X2lkIjoiZDM4YjMxYTctZDU3MC00ZjBjLTkxMWQtZGNhYWI1Y2VjM2QwIiwicm9sZSI6IlVTRVIiLCJyZWZyZXNoX3Rva2VuIjoiNmRhZjM3MGQtYWFmZS00MGRhLTk3YTEtOWJjMWFjNDQ5NmM4IiwiaGFzdXJhLWNsYWltcyI6eyJ4LWhhc3VyYS1kZWZhdWx0LXJvbGUiOiJ1c2VyIiwieC1oYXN1cmEtYWxsb3dlZC1yb2xlcyI6WyJ1c2VyIl0sIngtaGFzdXJhLXVzZXItaWQiOiI3YmQ3YTE0OS01ODdmLTQ1ZDYtYjAyNi00YzZhODY5ZWJjZGIiLCJ4LWhhc3VyYS10ZW5hbnQtaWQiOiJkMzhiMzFhNy1kNTcwLTRmMGMtOTExZC1kY2FhYjVjZWMzZDAifSwiaWF0IjoxNTU3MjU0MTM0LCJleHAiOjE1NjMyNTQxMzQsImlzcyI6IlByZWZlY3QgQ2xvdWQiLCJhdWQiOiJQcmVmZWN0IENsb3VkIEFQSSAtIERFViJ9.RUpW26H3AVNC8auxuR2zI2hCQJQhaUBUNUP_nqNz7Nl69VNIFzEjpKt8wNepqNShPtZ1sKM_15c8rv2oKIlOWpiOLOI23kWtBJWV59Oqd745w0iiObVDGzLMAoil93vA5bXjXOe6pr7EYmC5iT3mid6mihUVzW02A_1dRZ5mDuZnpOTpqEVlmAJk0HxWs0xhcADI90eqUQE71QnzjdBroSO6KRYYQpwEuMD8VcdaD0_2ERiEACBBINj9OTwTM0tBxn59OkJgm4QtonrzN0DZKJA15WdpPfZWG4cq0IPzH6AJmINndEDZRZvFym2p7SI4yT74JAnAIMz3CmUH9Q8K4g",npm_execpath:"/Users/chris/.nvm/versions/node/v16.5.0/lib/node_modules/npm/bin/npm-cli.js",VIRTUAL_ENV:"/Users/chris/miniconda3/envs/orion",PREFECT_SERVER__STRIPE__API_KEY:"sk_test_6M7w6fCgKW1fT8BTYLCpPgdE00zD0MQTaF",PERSONAL_ACCESS_TOKEN:"895cbd1bfdb2d06800f5f98f3ed525d43a40a739",GITHUB_VALIDATION_TOKEN:"fa8f3f67b83a5b2f9a7340ee7a8e2cc8a4fabc8a",_CE_CONDA:"",CONDA_PREFIX_1:"/Users/chris/miniconda3",PATH:"/Users/chris/Developer/orion/orion-ui/node_modules/.bin:/Users/chris/Developer/orion/node_modules/.bin:/Users/chris/Developer/node_modules/.bin:/Users/chris/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/chris/.nvm/versions/node/v16.5.0/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/Users/chris/miniconda3/envs/orion/bin:/Users/chris/miniconda3/condabin:/Users/chris/google-cloud-sdk/bin:/usr/local/opt/terraform@0.11/bin:/usr/local/anaconda3/bin:/Users/chris/.nvm/versions/node/v16.5.0/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/TeX/texbin:/usr/local/munki:/Users/chris/.linkerd2/bin",MARVIN_ACCESS_TOKEN:"bc4856b118c623819ac20d040cf6acb97be71212",npm_package_json:"/Users/chris/Developer/orion/orion-ui/package.json",_:"/Users/chris/Developer/orion/orion-ui/node_modules/.bin/vite",npm_config_userconfig:"/Users/chris/.npmrc",npm_config_init_module:"/Users/chris/.npm-init.js",__CFBundleIdentifier:"com.apple.Terminal",CONDA_PREFIX:"/Users/chris/miniconda3/envs/orion",npm_command:"run-script",PWD:"/Users/chris/Developer/orion/orion-ui",npm_lifecycle_event:"build",EDITOR:"vi",npm_package_name:"ui-orion",LANG:"en_US.UTF-8",XPC_FLAGS:"0x0",MARVIN_PUBLIC_TOKEN:"xoxb-680317000304-709347113329-4RrPNR61mLiKnhmxh0vqUeoF",MARVIN_OAUTH_TOKEN:"xoxp-362115247360-385477896292-388497642901-0bc9de1e5ffd2eb3dd6a33c34a1c9a3a",PREFECT_SLACK_CLIENT_SECRET:"69fc22922444d539fd759aab33ea0f2f",npm_config_node_gyp:"/Users/chris/.nvm/versions/node/v16.5.0/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",npm_package_version:"0.1.0",XPC_SERVICE_NAME:"0",_CE_M:"",SHLVL:"2",HOME:"/Users/chris",FA_TOKEN:"D73C5A7D-E6F9-4F88-95CC-3E60BE84D6A0",PUBLIC_VALIDATION_TOKEN:"tCWF60Sag8ndtqmAk64OJaps",MARVIN_PUBLIC_OAUTH_TOKEN:"xoxp-680317000304-668906742482-704294311507-827b9995ec470c6a62c484d22879a914",PUBSUB_EMULATOR_HOST:"0.0.0.0:8085",npm_config_cache:"/Users/chris/.npm",LOGNAME:"chris",CONDA_PYTHON_EXE:"/Users/chris/miniconda3/bin/python",npm_lifecycle_script:"vite build",ORION_UI_SERVE_BASE:"/ui/",GITHUB_APP_IDENTIFIER:"37469",NVM_BIN:"/Users/chris/.nvm/versions/node/v16.5.0/bin",CONDA_DEFAULT_ENV:"orion",npm_config_user_agent:"npm/7.19.1 node/v16.5.0 darwin x64 workspaces/false",npm_node_execpath:"/Users/chris/.nvm/versions/node/v16.5.0/bin/node",npm_config_prefix:"/Users/chris/.nvm/versions/node/v16.5.0",NODE_ENV:"production"}.BASE_URL}service-worker.js`,{ready(){console.log(`App is being served from cache by a service worker.
For more details, visit https://goo.gl/AFskqB`)},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});const Io="modulepreload",vt={},So="/ui/",he=function(t,o){return!o||o.length===0?t():Promise.all(o.map(s=>{if(s=`${So}${s}`,s in vt)return;vt[s]=!0;const n=s.endsWith(".css"),a=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${a}`))return;const r=document.createElement("link");if(r.rel=n?"stylesheet":Io,n||(r.as="script",r.crossOrigin=""),r.href=s,document.head.appendChild(r),n)return new Promise((h,u)=>{r.addEventListener("load",h),r.addEventListener("error",u)})})).then(()=>t())};var Eo=Object.defineProperty,$o=Object.getOwnPropertyDescriptor,Co=(e,t,o,s)=>{for(var n=s>1?void 0:s?$o(t,o):t,a=e.length-1,r;a>=0;a--)(r=e[a])&&(n=(s?r(t,o,n):r(n))||n);return s&&n&&Eo(t,o,n),n};const ko=()=>"_"+Math.random().toString(36).substr(2,9);let Ce=class extends oe{constructor(){super(...arguments);x(this,"id",ko());x(this,"height",0);x(this,"width",0);x(this,"container",k());x(this,"svg",null);x(this,"padding",{top:0,bottom:0,middle:0,left:0,right:0})}get paddingY(){return this.padding.top+this.padding.middle+this.padding.bottom}get paddingX(){return this.padding.left+this.padding.right}resize(){}handleWindowResize(){if(!this.container)return window.removeEventListener("resize",this.handleWindowResize);this.height=this.container.offsetHeight,this.width=this.container.offsetWidth,this.svg&&this.svg.attr("viewbox",`0, 0, ${this.width-this.paddingX}, ${this.height-this.paddingY}`),this.resize()}initializeChartDimensions(){if(!this.container)return window.removeEventListener("resize",this.handleWindowResize);this.height=this.container.offsetHeight,this.width=this.container.offsetWidth,this.svg&&this.svg.attr("viewbox",`0, 0, ${this.width-this.paddingX}, ${this.height-this.paddingY}`)}mounted(){requestAnimationFrame(()=>{this.initializeChartDimensions()}),window.addEventListener("resize",this.handleWindowResize)}destroyed(){window.removeEventListener("resize",this.handleWindowResize)}};Ce=Co([ae({})],Ce);var To=Object.defineProperty,Oo=Object.getOwnPropertyDescriptor,Ao=(e,t,o,s)=>{for(var n=s>1?void 0:s?Oo(t,o):t,a=e.length-1,r;a>=0;a--)(r=e[a])&&(n=(s?r(t,o,n):r(n))||n);return s&&n&&To(t,o,n),n};const Ue=["COMPLETED","RUNNING","SCHEDULED","PENDING"],Do=Ue.map(e=>[e,-1]),Be=["FAILED","CANCELLED"],Vo=Be.map(e=>[e,1]),je=new Map([...Do,...Vo]),No=ie(".%L"),Ro=ie(":%S"),Po=ie("%I:%M"),Lo=ie("%I %p"),Fo=ie("%a %d"),Mo=ie("%b %d"),Uo=ie("%B"),Bo=ie("%Y"),jo=e=>e instanceof Date?(Ft(e)<e?No:Mt(e)<e?Ro:Ut(e)<e?Po:Bt(e)<e?Lo:jt(e)<e?Wt(e)<e?Fo:Mo:qt(e)<e?Uo:Bo)(e):"";class Wo{constructor(){x(this,"intervalSeconds",j({required:!0}));x(this,"intervalStart",j({required:!0}));x(this,"intervalEnd",j({required:!0}));x(this,"backgroundColor",j({required:!1,default:null}));x(this,"items",j({required:!0}));x(this,"showAxis",j({required:!1,default:!1,type:Boolean}));x(this,"staticMedian",j({required:!1,type:Boolean,default:!1}));x(this,"padding",j({required:!1,default:{top:12,bottom:12,middle:8,left:16,right:16}}))}}let We=class extends ot(Ce).with(Wo){constructor(){super(...arguments);x(this,"xScale",at());x(this,"yScale",rt());x(this,"xAxisGroup");x(this,"positiveStates",Ue);x(this,"negativeStates",Be);x(this,"axisHeight",20);x(this,"xAxis",e=>e.attr("transform",`translate(0,${this.height})`).attr("class","caption").transition().duration(150).call(Rt(this.xScale).tickPadding(0).tickFormat(jo).tickSizeInner(0).tickSizeOuter(0)).call(t=>t.select(".domain").remove()));x(this,"median",-2)}get series(){return Pt().keys([...Ue.slice().reverse(),...Be]).value((e,t)=>{var o;return(je.get(t)||1)*(((o=e.states.find(s=>s.state_type==t))==null?void 0:o.count_runs)||0)}).offset(Lt)(this.items)}get seriesMap(){return new Map(this.series.map(e=>[e.key,e]))}get barWidth(){return Math.floor(Math.min(10,(this.width-this.paddingX)/this.items.length/2))}get viewHeight(){return this.height-this.axisHeight}calculateBucketPosition(e){return{left:this.xScale(new Date(e.interval_start))+"px"}}calculateBarPosition(e,t){const s=this.seriesMap.get(e.state_type)[t],n=this.yScale(s[1])-this.yScale(s[0]),a=this.padding.middle/2,r=this.padding.middle?je.get(e.state_type)>0?a:a*-1:0,h=this.yScale(s[0])+r;return{height:n+"px",top:h+this.padding.top+this.padding.middle/2+"px",transform:"translate(-50%)",width:this.barWidth+"px"}}calculateBarClass(e){const t=je.get(e.state_type);return{[`${e.state_type.toLowerCase()}-bg`]:!0,up:t<0,down:t>0}}updateMedian(){this.median=this.yScale(0)+this.padding.middle/2}get medianPosition(){return{top:(this.median>0?this.median:this.height/2)+this.padding.top+"px"}}resize(){this.updateScales()}mounted(){this.createChart(),this.updateScales()}beforeUpdate(){this.svg||this.createChart(),this.updateScales(),this.updateMedian()}updateScales(){const e=this.intervalStart,t=this.intervalEnd;this.xScale.domain([e,t]).range([this.padding.left,this.width-this.padding.right]);const o=this.series.flat(2);let s=Math.min(...o),n=Math.max(...o);if(s==n&&(s=-1,n=1),this.staticMedian){const a=Math.abs(s)>Math.abs(n),r=Math.abs(s)===Math.abs(n);this.yScale.domain([a||r?s:0,a||r?0:n]).range([0,this.viewHeight-this.paddingY])}else this.yScale.domain([s,n]).range([0,this.viewHeight-this.paddingY]);this.showAxis&&this.xAxisGroup&&this.xAxisGroup.call(this.xAxis)}createChart(){this.svg=it(`#${this.id}`),this.svg.attr("viewbox",`0, 0, ${this.width}, ${this.height}`),this.svg.append("rect").attr("fill",this.backgroundColor?`var(--${this.backgroundColor})`:"transparent").attr("rx",4).attr("width","100%").attr("height",`${this.viewHeight}px`),this.xAxisGroup=this.svg.append("g")}};We=Ao([ae({})],We);const qo=We,Yo={ref:"container",class:"chart-container"},zo=["id"],Go={class:"bar-container"},Ho={class:"up"},Ko={class:"down"};function Jo(e,t,o,s,n,a){return l(),b("div",Yo,[(l(),b("svg",{id:e.id,ref:"chart",class:"run-history-chart"},null,8,zo)),i("div",{class:"median",style:_e(e.medianPosition)},null,4),i("div",Go,[(l(!0),b(G,null,H(e.items,(r,h)=>(l(),b("div",{key:r.interval_start,class:"interval-bucket",style:_e(e.calculateBucketPosition(r))},[i("div",Ho,[(l(!0),b(G,null,H(r.states.filter(u=>e.positiveStates.includes(u.state_type)),u=>(l(),b("div",{key:u.state_type,class:F(["interval-bucket-state",e.calculateBarClass(u)]),style:_e(e.calculateBarPosition(u,h)),tabindex:"0"},null,6))),128))]),i("div",Ko,[(l(!0),b(G,null,H(r.states.filter(u=>e.negativeStates.includes(u.state_type)),u=>(l(),b("div",{key:u.state_type,class:F(["interval-bucket-state",e.calculateBarClass(u)]),style:_e(e.calculateBarPosition(u,h)),tabindex:"0"},null,6))),128))])],4))),128))])],512)}var qe=L(qo,[["render",Jo],["__scopeId","data-v-5cbc7028"]]);const Qo=e=>(Q("data-v-019a382d"),e=e(),Z(),e),Zo=Qo(()=>i("div",{class:"subheader py-1 px-2"},"Run History",-1)),Xo={class:"px-2 pb-1 flex-grow-1"},ea={key:1,class:"font--secondary subheader no-data"},ta=q({props:{filter:{type:null,required:!0}},setup(e){const t=e,o=I(()=>K({},t.filter)),s={flow_run_history:P.query({endpoint:B.flow_runs_history,body:o,options:{pollInterval:3e4}})},n=I(()=>new Date(t.filter.history_start)),a=I(()=>new Date(t.filter.history_end)),r=I(()=>t.filter.history_interval_seconds),h=I(()=>s.flow_run_history.response.value||[]);return(u,_)=>{const p=S("Card");return l(),D(p,{shadow:"sm"},{header:m(()=>[Zo]),default:m(()=>[i("div",Xo,[f(h)&&f(h).length?(l(),D(qe,{key:0,items:f(h),"background-color":"blue-5","interval-seconds":f(r),"interval-start":f(n),"interval-end":f(a),"show-axis":""},null,8,["items","interval-seconds","interval-start","interval-end"])):(l(),b("div",ea," -- "))])]),_:1})}}});var sa=L(ta,[["__scopeId","data-v-019a382d"]]);var na=Object.defineProperty,oa=Object.getOwnPropertyDescriptor,aa=(e,t,o,s)=>{for(var n=s>1?void 0:s?oa(t,o):t,a=e.length-1,r;a>=0;a--)(r=e[a])&&(n=(s?r(t,o,n):r(n))||n);return s&&n&&na(t,o,n),n};class ra{constructor(){x(this,"intervalSeconds",j({required:!0}));x(this,"intervalStart",j({required:!0}));x(this,"intervalEnd",j({required:!0}));x(this,"backgroundColor",j({required:!1,default:null}));x(this,"items",j({required:!0}))}}let Ye=class extends ot(Ce).with(ra){constructor(){super(...arguments);x(this,"xScale",at());x(this,"yScale",rt());x(this,"padding",{top:16,bottom:4,middle:0,left:0,right:0})}get maxValue(){return Math.max.apply(null,this.items.map(e=>e.value))}createChart(){this.svg=it(`#${this.id}`),this.svg.attr("viewbox",`0, 0, ${this.width}, ${this.height}`)}updateScales(){const e=this.intervalStart,t=this.intervalEnd;this.xScale.domain([e,t]).range([this.padding.left,this.width-this.paddingX]),this.yScale.domain([0,this.maxValue||1]).range([0,this.height-this.paddingY])}get barWidth(){return Math.floor(Math.min(10,(this.width-this.paddingX)/this.items.length/2))}calculateBucketPosition(e){const t=this.yScale(e.value),o=this.height-this.padding.bottom-t,s=this.xScale(new Date(e.interval_start))+this.padding.left;return{height:t+"px",left:s+"px",top:o+"px",transform:`translate(${this.barWidth/2}px)`,width:this.barWidth+"px"}}resize(){this.svg.attr("viewbox",`0, 0, ${this.width}, ${this.height}`),this.updateScales()}mounted(){this.createChart(),this.updateScales()}beforeUpdate(){this.svg||this.createChart(),this.updateScales()}};Ye=aa([ae({})],Ye);const ia=Ye,la=e=>(Q("data-v-5b722698"),e=e(),Z(),e),ca={ref:"container",class:"chart-container"},ua=["id"],da=la(()=>i("div",{class:"median"},null,-1)),_a={class:"bucket-container"};function pa(e,t,o,s,n,a){return l(),b("div",ca,[(l(),b("svg",{id:e.id,ref:"chart"},null,8,ua)),da,i("div",_a,[(l(!0),b(G,null,H(e.items,r=>(l(),b("div",{key:r.interval_start,class:"interval-bucket",style:_e(e.calculateBucketPosition(r)),tabindex:"0"},null,4))),128))])],512)}var ma=L(ia,[["render",pa],["__scopeId","data-v-5b722698"]]);const ha={class:"subheader py-1 px-2"},fa={key:1,class:"font--secondary subheader no-data"},va=q({props:{endpoint:{type:String,required:!0},filter:{type:null,required:!0},title:{type:String,required:!0},stateBucketKey:{type:null,required:!0},height:{type:String,required:!0}},setup(e){const t=e,o=I(()=>t.filter),s={query:P.query({endpoint:B[t.endpoint],body:o,options:{pollInterval:3e4}})},n=I(()=>new Date(t.filter.history_start)),a=I(()=>new Date(t.filter.history_end)),r=I(()=>t.filter.history_interval_seconds),h=I(()=>(s.query.response.value||[]).map(u=>({interval_start:u.interval_start,interval_end:u.interval_end,value:u.states.reduce((_,p)=>_+p[t.stateBucketKey],0)})));return(u,_)=>{const p=S("Card");return l(),D(p,{shadow:"sm"},{header:m(()=>[i("div",ha,E(t.title),1)]),default:m(()=>[i("div",{class:"px-2 pb-2",style:_e({height:e.height})},[f(h)&&f(h).length?(l(),D(ma,{key:0,items:f(h),"interval-seconds":f(r),"interval-start":f(n),"interval-end":f(a)},null,8,["items","interval-seconds","interval-start","interval-end"])):(l(),b("div",fa," -- "))],4)]),_:1})}}});var yt=L(va,[["__scopeId","data-v-f4639d1a"]]);const ze=e=>(Q("data-v-681f0d5d"),e=e(),Z(),e),ya={class:"d-flex justify-space-between align-center px-1"},ga={class:"font--secondary subheader"},ba={class:"ml-1 body"},wa=ze(()=>i("i",{class:"pi pi-filter-3-line pi-lg"},null,-1)),xa={class:"chart-section"},Ia=O(" Flows "),Sa=O(" Deployments "),Ea=O(" Flow Runs "),$a=O(" Task Runs "),Ca={class:"font--secondary caption my-2",style:{"min-height":"17px"}},ka={class:"results-section d-flex flex-column align-stretch justify-stretch"},Ta={class:"text-center my-8",key:"no-results"},Oa=ze(()=>i("h2",null," No Results Found ",-1)),Aa={class:"mt-2"},Da=ze(()=>i("hr",{class:"results-hr mt-3"},null,-1)),Va=q({setup(e){const t=ue(),o=Le(),s=k(null),n=I(()=>K({},t.getters.composedFilter)),a=I(()=>t.getters.start),r=I(()=>t.getters.end),h=c=>I(()=>{var W,A;let T;(a.value||r.value)&&(T={},a.value&&(T.after_=(W=a.value)==null?void 0:W.toISOString()),r.value&&(T.before_=(A=r.value)==null?void 0:A.toISOString()));const U=t.getters.composedFilter;return U.flow_runs.state={name:{any_:[c]}},K({},U)}),u=3e4,_={deployments:P.query({endpoint:B.deployments_count,body:n,options:{pollInterval:u}}),flows:P.query({endpoint:B.flows_count,body:n,options:{pollInterval:u}}),task_runs:P.query({endpoint:B.task_runs_count,body:n,options:{pollInterval:u}}),flow_runs:P.query({endpoint:B.flow_runs_count,body:n,options:{pollInterval:u}}),filter_counts_failed:P.query({endpoint:B.flow_runs_count,body:h("Failed"),options:{pollInterval:u}}),filter_counts_late:P.query({endpoint:B.flow_runs_count,body:h("Late"),options:{pollInterval:u}}),filter_counts_scheduled:P.query({endpoint:B.flow_runs_count,body:h("Scheduled"),options:{pollInterval:u}})},p=I(()=>{const c=_.filter_counts_failed.response.value,T=_.filter_counts_late.response.value,U=_.filter_counts_scheduled.response.value;return[{label:"Failed Runs",count:typeof c=="number"?c.toLocaleString():"--"},{label:"Late Runs",count:typeof T=="number"?T.toLocaleString():"--"},{label:"Upcoming Runs",count:typeof U=="number"?U.toLocaleString():"--"}]}),g=I(()=>{var c;return((c=_.flows)==null?void 0:c.response.value)||0}),y=I(()=>{var c;return((c=_.deployments)==null?void 0:c.response.value)||0}),N=I(()=>{var c;return((c=_.flow_runs)==null?void 0:c.response.value)||0}),M=I(()=>{var c;return((c=_.task_runs)==null?void 0:c.response.value)||0}),$=I(()=>t.getters.baseInterval),w=I(()=>K({history_start:a.value.toISOString(),history_end:r.value.toISOString(),history_interval_seconds:$.value},t.getters.composedFilter)),v=I(()=>K(Ae(K({},w.value),{history_interval_seconds:$.value*2}),t.getters.composedFilter)),C=I(()=>s.value&&_[s.value].response.value||0);return re([s],()=>{gt.push({hash:`#${s.value}`})}),st(()=>{var c;s.value=((c=o.hash)==null?void 0:c.substr(1))||"flows"}),(c,T)=>{const U=S("button-card"),W=S("row"),A=S("Tab"),R=S("Tabs"),Y=S("results-list");return l(),b("div",null,[d(W,{class:"filter-row py-1 my-1","hide-scrollbars":""},{default:m(()=>[(l(!0),b(G,null,H(f(p),J=>(l(),D(U,{key:J.label,class:"filter-card-button",shadow:"sm"},{default:m(()=>[i("div",ya,[i("div",null,[i("span",ga,E(J.count),1),i("span",ba,E(J.label),1)]),wa])]),_:2},1024))),128))]),_:1}),i("div",xa,[d(sa,{class:"run-history",filter:f(w)},null,8,["filter"]),d(yt,{title:"Duration",endpoint:"flow_runs_history","state-bucket-key":"sum_estimated_run_time",height:"77px",filter:f(v),class:"run-duration flex-grow-0"},null,8,["filter"]),d(yt,{title:"Lateness",endpoint:"flow_runs_history","state-bucket-key":"sum_estimated_lateness",height:"77px",filter:f(v),class:"run-lateness flex-grow-0"},null,8,["filter"])]),d(R,{modelValue:s.value,"onUpdate:modelValue":T[0]||(T[0]=J=>s.value=J),class:"mt-5"},{default:m(()=>[d(A,{href:"flows",class:"subheader"},{default:m(()=>[i("i",{class:F(["pi pi-flow mr-1",s.value=="flows"?"text--primary":"text--grey-40"])},null,2),Ia,i("span",{class:F(["result-badge caption ml-1",{active:s.value=="flows"}])},E(f(g).toLocaleString()),3)]),_:1}),d(A,{href:"deployments",class:"subheader"},{default:m(()=>[i("i",{class:F(["pi pi-map-pin-line mr-1",s.value=="deployments"?"text--primary":"text--grey-40"])},null,2),Sa,i("span",{class:F(["result-badge caption ml-1",{active:s.value=="deployments"}])},E(f(y).toLocaleString()),3)]),_:1}),d(A,{href:"flow_runs",class:"subheader"},{default:m(()=>[i("i",{class:F(["pi pi-flow-run mr-1",s.value=="flow_runs"?"text--primary":"text--grey-40"])},null,2),Ea,i("span",{class:F(["result-badge caption ml-1",{active:s.value=="flow_runs"}])},E(f(N).toLocaleString()),3)]),_:1}),d(A,{href:"task_runs",class:"subheader"},{default:m(()=>[i("i",{class:F(["pi pi-task mr-1",s.value=="task_runs"?"text--primary":"text--grey-40"])},null,2),$a,i("span",{class:F(["result-badge caption ml-1",{active:s.value=="task_runs"}])},E(f(M).toLocaleString()),3)]),_:1})]),_:1},8,["modelValue"]),i("div",Ca,[X(i("span",null,E(f(C).toLocaleString())+" Result"+E(f(C)!==1?"s":""),513),[[lt,f(C)>0]])]),i("section",ka,[d(Pe,{name:"tab-fade",mode:"out-in",css:""},{default:m(()=>[f(C)===0?(l(),b("div",Ta,[Oa,X(i("div",Aa," Deployments can only be created using the Prefect CLI ",512),[[lt,s.value=="deployments"]])])):s.value=="flows"?(l(),D(Y,{key:"flows",filter:f(n),component:"flow-list-item",endpoint:"flows"},null,8,["filter"])):s.value=="deployments"?(l(),D(Y,{key:"deployments",filter:f(n),component:"deployment-list-item",endpoint:"deployments"},null,8,["filter"])):s.value=="flow_runs"?(l(),D(Y,{key:"flow_runs",filter:f(n),component:"flow-run-list-item",endpoint:"flow_runs"},null,8,["filter"])):s.value=="task_runs"?(l(),D(Y,{key:"task_runs",filter:f(n),component:"task-run-list-item",endpoint:"task_runs"},null,8,["filter"])):z("",!0)]),_:1})]),Da])}}});var Na=L(Va,[["__scopeId","data-v-681f0d5d"]]);const Ra=[{path:"/",name:"Dashboard",component:Na},{path:"/flow-run/:id",name:"FlowRun",component:()=>he(()=>import("./FlowRun.9a2576ff.js"),["assets/FlowRun.9a2576ff.js","assets/FlowRun.34ffd3bd.css","assets/vendor.ef401633.js"]),children:[{path:"",component:()=>he(()=>import("./Index.90bc188a.js"),["assets/Index.90bc188a.js","assets/Index.e7dc8127.css","assets/vendor.ef401633.js","assets/Timeline.c57e35e4.js","assets/Timeline.865599d6.css"])},{path:"timeline",component:()=>he(()=>import("./Timeline.362bd682.js"),["assets/Timeline.362bd682.js","assets/Timeline.51883e71.css","assets/vendor.ef401633.js","assets/Timeline.c57e35e4.js","assets/Timeline.865599d6.css"])},{path:"schematic",component:()=>he(()=>import("./Schematic.075499a9.js"),["assets/Schematic.075499a9.js","assets/Schematic.28ed59fa.css","assets/vendor.ef401633.js"])}]},{path:"/settings",name:"Settings",component:()=>he(()=>import("./Settings.b6e0b576.js"),["assets/Settings.b6e0b576.js","assets/Settings.25576a12.css","assets/vendor.ef401633.js"])},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>he(()=>import("./NotFound.74a39be3.js"),["assets/NotFound.74a39be3.js","assets/NotFound.fa2e06f9.css","assets/vendor.ef401633.js"])}],gt=Yt({history:zt({NVM_INC:"/Users/chris/.nvm/versions/node/v16.5.0/include/node",MARVIN_TOKEN:"xoxb-362115247360-388497645541-iTUoS5Y4ShQxfdfBrwE63RFt",PREFECT_SLACK_CLIENT_ID:"362115247360.455389746338",TERM_PROGRAM:"Apple_Terminal",NODE:"/Users/chris/.nvm/versions/node/v16.5.0/bin/node",INIT_CWD:"/Users/chris/Developer/orion/orion-ui",NVM_CD_FLAGS:"",SHELL:"/bin/bash",TERM:"xterm-256color",npm_config_metrics_registry:"https://registry.npmjs.org/",TMPDIR:"/var/folders/bs/4t_7xzzn1gq1v46ypfgfmt4m0000gn/T/",GOOGLE_APPLICATION_CREDENTIALS:"/Users/chris/Developer/prefect-marvin-e5f415f8d2b2.json",GITHUB_PRIVATE_KEY:`-----BEGIN RSA PRIVATE KEY-----
MIIEpQIBAAKCAQEAvRYqKV8BKLP2TbpwhF4OzBWyrT6OqVdTm/WIzyNVA5dnx+ID
gcaKhJpINPCpdWUgkURxNxOILIGNTKy7wiYuT1BDpF/ymycRbx3Zqh2a48Gl7FXp
aLxd0CcaOfDQEhKp56rViPQEWqwcvVYrgF+E01+jzYrZ2zpwFGO+UA71kphiY6yb
Fiv6uVD2OzVwqp8hp2zdkxyiA98wGT1yuX8CV2DWhNHm9uGcIoxGhsx6WRCwN21m
n5glLFWwZhM2+Pf0Z2OSSBPTBAKNLVfNSraqwxfZzbYyN52L08j0HcrQHG4kvOJ0
b0Lw5fd0e32jHx7jgDE1HwgflAIrZCeEv6M+YwIDAQABAoIBAQCqKaIzrP28BYgo
lxne5U5ntzce1WdJWf8yIRrHXkKJgt2wceM6DNRnVPiaO+IkdaeDU5aXPAqWEth4
IhKuO/H9Cnx1FqubmOMFnlVd1FqpkIGjWAU/bhT219mwPtjhCs7AX2rfXsn0V2Nd
uIhZdJxyJGWi+cvokISAtOp13aB+FPpcuJ7jgajGkEeSaffilsxLVFOVzjtYmWGM
6dwptWHYeHndKjj74CxCSPgSdu2PFQo4T0VSR52KZyvPzgW+tCCtidK+85zM5DGs
AzJerICmNl/mKcFHLYSt8ISJcjtSk9BN8pWKOIaO3Rmh4YA95jH7Z0gusgJXMtja
tYB1BYvhAoGBAPT9iVvqBK+W/UY94WyVXZRg5CVzz1NXUoRPTea9waZ7StFB2BH6
6mSl9oKs0/QAEy2eRzW/XNOYH5wx2C/fFhWe9cKgTYreNoEEXRIJ6KBNf/37MDbI
ZlRNAacbVIdDyAuC6JQg+Q3wBQg3z6G6u46+yrOhqkOzuS4FFw3mVjEbAoGBAMWV
fUf99VulD62mvDTaAzeMT5WSDQkOS/O4UMEWkQsQe/9IJkdyCtpg9vv6VrLJYhou
/SyApcklJA5Jsy1zlfJ29CSSUCPx4Q/vfRzfs6lf1Wqm4DMck2urCxuNjsDnYDp3
w9i7eMmoXVIy+xgPtaw82a5fI0p+1V1TnL0e80RZAoGBALEs+r3CTIlARQMblX+V
tgus1tJPIs0/BaoyQEBzUy03VTBo0f6O3BzV+aUfoFmCBFylbxJrxpIwHgwz8AkO
6UXRpCKRFAMuGXTM1xJIoDfuVHY1xvSXkYm990gG9+arGm1YyyL1haiSwNDkrABm
r2XYjXfDnwM/YtjpTXb78bGpAoGAYzA8iFuRRMSELmS5rr6TRtuFSEzdhmJK9rrc
r1Io1ikcVndd4Bf8IszysGRoCbDXMtXL+v9KOsQOaa3N6U9RQzs8LO/Wk3Tlyx4q
7MfQZYLanIPRoVcDGtXu6ZISy/xbbn6ZLsBOTs3aq100eEvKpACYNtVD3i315rgG
w1o6PWECgYEA4cA0EAw3y0L8uZbD3ipjExOfzhluDNRPdEmV00lLd001bkqCxwsR
kBn1EHSjj3VQAa7cKu3gMztzJfFIk1a1x8J4PM4/3+TNwa3qmV+crAZTca3pLMPo
HjUQc1fBjpLYuegEmLCtrHsd9DvGv3SbH88uTQ0mSzF3bGkJHvrhYhQ=
-----END RSA PRIVATE KEY-----`,CONDA_SHLVL:"2",TERM_PROGRAM_VERSION:"440",CONDA_PROMPT_MODIFIER:"",COLOR:"0",TERM_SESSION_ID:"8024D66D-FE44-40AB-A379-C7508B9C21BE",npm_config_noproxy:"",USER:"chris",NVM_DIR:"/Users/chris/.nvm",npm_config_globalconfig:"/Users/chris/.nvm/versions/node/v16.5.0/etc/npmrc",SLACK_VALIDATION_TOKEN:"5nScvpO3LtL5OYk2Ty6rVtYx",CONDA_EXE:"/Users/chris/miniconda3/bin/conda",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.c14evbWyIb/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",TOKEN:"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJ1c2VyX2lkIjoiN2JkN2ExNDktNTg3Zi00NWQ2LWIwMjYtNGM2YTg2OWViY2RiIiwidGVuYW50X2lkIjoiZDM4YjMxYTctZDU3MC00ZjBjLTkxMWQtZGNhYWI1Y2VjM2QwIiwicm9sZSI6IlVTRVIiLCJyZWZyZXNoX3Rva2VuIjoiNmRhZjM3MGQtYWFmZS00MGRhLTk3YTEtOWJjMWFjNDQ5NmM4IiwiaGFzdXJhLWNsYWltcyI6eyJ4LWhhc3VyYS1kZWZhdWx0LXJvbGUiOiJ1c2VyIiwieC1oYXN1cmEtYWxsb3dlZC1yb2xlcyI6WyJ1c2VyIl0sIngtaGFzdXJhLXVzZXItaWQiOiI3YmQ3YTE0OS01ODdmLTQ1ZDYtYjAyNi00YzZhODY5ZWJjZGIiLCJ4LWhhc3VyYS10ZW5hbnQtaWQiOiJkMzhiMzFhNy1kNTcwLTRmMGMtOTExZC1kY2FhYjVjZWMzZDAifSwiaWF0IjoxNTU3MjU0MTM0LCJleHAiOjE1NjMyNTQxMzQsImlzcyI6IlByZWZlY3QgQ2xvdWQiLCJhdWQiOiJQcmVmZWN0IENsb3VkIEFQSSAtIERFViJ9.RUpW26H3AVNC8auxuR2zI2hCQJQhaUBUNUP_nqNz7Nl69VNIFzEjpKt8wNepqNShPtZ1sKM_15c8rv2oKIlOWpiOLOI23kWtBJWV59Oqd745w0iiObVDGzLMAoil93vA5bXjXOe6pr7EYmC5iT3mid6mihUVzW02A_1dRZ5mDuZnpOTpqEVlmAJk0HxWs0xhcADI90eqUQE71QnzjdBroSO6KRYYQpwEuMD8VcdaD0_2ERiEACBBINj9OTwTM0tBxn59OkJgm4QtonrzN0DZKJA15WdpPfZWG4cq0IPzH6AJmINndEDZRZvFym2p7SI4yT74JAnAIMz3CmUH9Q8K4g",npm_execpath:"/Users/chris/.nvm/versions/node/v16.5.0/lib/node_modules/npm/bin/npm-cli.js",VIRTUAL_ENV:"/Users/chris/miniconda3/envs/orion",PREFECT_SERVER__STRIPE__API_KEY:"sk_test_6M7w6fCgKW1fT8BTYLCpPgdE00zD0MQTaF",PERSONAL_ACCESS_TOKEN:"895cbd1bfdb2d06800f5f98f3ed525d43a40a739",GITHUB_VALIDATION_TOKEN:"fa8f3f67b83a5b2f9a7340ee7a8e2cc8a4fabc8a",_CE_CONDA:"",CONDA_PREFIX_1:"/Users/chris/miniconda3",PATH:"/Users/chris/Developer/orion/orion-ui/node_modules/.bin:/Users/chris/Developer/orion/node_modules/.bin:/Users/chris/Developer/node_modules/.bin:/Users/chris/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/chris/.nvm/versions/node/v16.5.0/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/Users/chris/miniconda3/envs/orion/bin:/Users/chris/miniconda3/condabin:/Users/chris/google-cloud-sdk/bin:/usr/local/opt/terraform@0.11/bin:/usr/local/anaconda3/bin:/Users/chris/.nvm/versions/node/v16.5.0/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/TeX/texbin:/usr/local/munki:/Users/chris/.linkerd2/bin",MARVIN_ACCESS_TOKEN:"bc4856b118c623819ac20d040cf6acb97be71212",npm_package_json:"/Users/chris/Developer/orion/orion-ui/package.json",_:"/Users/chris/Developer/orion/orion-ui/node_modules/.bin/vite",npm_config_userconfig:"/Users/chris/.npmrc",npm_config_init_module:"/Users/chris/.npm-init.js",__CFBundleIdentifier:"com.apple.Terminal",CONDA_PREFIX:"/Users/chris/miniconda3/envs/orion",npm_command:"run-script",PWD:"/Users/chris/Developer/orion/orion-ui",npm_lifecycle_event:"build",EDITOR:"vi",npm_package_name:"ui-orion",LANG:"en_US.UTF-8",XPC_FLAGS:"0x0",MARVIN_PUBLIC_TOKEN:"xoxb-680317000304-709347113329-4RrPNR61mLiKnhmxh0vqUeoF",MARVIN_OAUTH_TOKEN:"xoxp-362115247360-385477896292-388497642901-0bc9de1e5ffd2eb3dd6a33c34a1c9a3a",PREFECT_SLACK_CLIENT_SECRET:"69fc22922444d539fd759aab33ea0f2f",npm_config_node_gyp:"/Users/chris/.nvm/versions/node/v16.5.0/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",npm_package_version:"0.1.0",XPC_SERVICE_NAME:"0",_CE_M:"",SHLVL:"2",HOME:"/Users/chris",FA_TOKEN:"D73C5A7D-E6F9-4F88-95CC-3E60BE84D6A0",PUBLIC_VALIDATION_TOKEN:"tCWF60Sag8ndtqmAk64OJaps",MARVIN_PUBLIC_OAUTH_TOKEN:"xoxp-680317000304-668906742482-704294311507-827b9995ec470c6a62c484d22879a914",PUBSUB_EMULATOR_HOST:"0.0.0.0:8085",npm_config_cache:"/Users/chris/.npm",LOGNAME:"chris",CONDA_PYTHON_EXE:"/Users/chris/miniconda3/bin/python",npm_lifecycle_script:"vite build",ORION_UI_SERVE_BASE:"/ui/",GITHUB_APP_IDENTIFIER:"37469",NVM_BIN:"/Users/chris/.nvm/versions/node/v16.5.0/bin",CONDA_DEFAULT_ENV:"orion",npm_config_user_agent:"npm/7.19.1 node/v16.5.0 darwin x64 workspaces/false",npm_node_execpath:"/Users/chris/.nvm/versions/node/v16.5.0/bin/node",npm_config_prefix:"/Users/chris/.nvm/versions/node/v16.5.0",NODE_ENV:"production"}.BASE_URL),routes:Ra});var Pa=Object.defineProperty,La=Object.getOwnPropertyDescriptor,Fa=(e,t,o,s)=>{for(var n=s>1?void 0:s?La(t,o):t,a=e.length-1,r;a>=0;a--)(r=e[a])&&(n=(s?r(t,o,n):r(n))||n);return s&&n&&Pa(t,o,n),n};class Ma{constructor(){x(this,"height",j({default:"inherit"}));x(this,"width",j({default:"inherit"}));x(this,"shadow",j({default:null}));x(this,"miter",j({default:!1,type:Boolean}))}}let Ge=class extends oe.with(Ma){};Ge=Fa([ae({})],Ge);const Ua=Ge,Ba={class:"button-card"},ja={class:"button-card-content pa-1"};function Wa(e,t,o,s,n,a){const r=S("Card");return l(),b("button",Ba,[d(r,{shadow:e.shadow,height:e.height,width:e.width,miter:e.miter,style:{height:"inherit",width:"inherit"}},{default:m(()=>[i("div",ja,[se(e.$slots,"default",{},void 0,!0)])]),_:3},8,["shadow","height","width","miter"])])}var qa=L(Ua,[["render",Wa],["__scopeId","data-v-afbe424a"]]);var Ya=Object.defineProperty,za=Object.getOwnPropertyDescriptor,Ga=(e,t,o,s)=>{for(var n=s>1?void 0:s?za(t,o):t,a=e.length-1,r;a>=0;a--)(r=e[a])&&(n=(s?r(t,o,n):r(n))||n);return s&&n&&Ya(t,o,n),n};class Ha{}let He=class extends oe.with(Ha){};He=Ga([ae({})],He);const Ka=He,Ja={class:"button--rounded"};function Qa(e,t,o,s,n,a){return l(),b("button",Ja,[se(e.$slots,"default",{},void 0,!0)])}var Za=L(Ka,[["render",Qa],["__scopeId","data-v-0d255905"]]);const Xa=q({props:{crumbs:{type:Array,required:!0},icon:{type:String,required:!1},tag:{type:String,required:!1,default:"h1"}},setup(e){const t=e;return(o,s)=>{const n=de("skeleton");return l(),D(Fe(t.tag||"h1"),{class:"d-flex align-center",style:{"max-width":"100%"}},{default:m(()=>[e.icon?(l(),b("i",{key:0,class:F(["pi text--grey-40 mr-2",t.icon])},null,2)):z("",!0),(l(!0),b(G,null,H(t.crumbs,(a,r)=>X((l(),b("span",{key:a.text,style:_e({minWidth:a.text?void 0:"40px",maxWidth:"50%",minHeight:"30px"}),class:"text-truncate"},[(l(),D(Fe(a.to?"router-link":"span"),{to:a.to,class:F(["text-truncate",{"font-weight-semibold":r==t.crumbs.length-1}])},{default:m(()=>[O(E(a.text),1)]),_:2},1032,["to","class"])),O(" "+E(r!==t.crumbs.length-1?"\xA0/\xA0":""),1)],4)),[[n,!a.text]])),128))]),_:1})}}});var er=Object.defineProperty,tr=Object.getOwnPropertyDescriptor,sr=(e,t,o,s)=>{for(var n=s>1?void 0:s?tr(t,o):t,a=e.length-1,r;a>=0;a--)(r=e[a])&&(n=(s?r(t,o,n):r(n))||n);return s&&n&&er(t,o,n),n};class nr{constructor(){x(this,"modelValue",j({default:!1,required:!1}));x(this,"showOverlay",j({default:!1,required:!1,type:Boolean}));x(this,"target",j({default:".application",required:!1}))}}let Ke=class extends oe.with(nr){close(){this.$emit("update:modelValue",!1)}};Ke=sr([ae({emits:["update:modelValue"]})],Ke);const or=Ke,ar=e=>(Q("data-v-7ac3d690"),e=e(),Z(),e),rr={key:0,class:"drawer pa-2 d-flex flex-column"},ir={class:"d-flex justify-start align-center"},lr=O("Title"),cr=ar(()=>i("hr",{class:"title-hr"},null,-1)),ur={class:"content d-flex justify-start flex-column"};function dr(e,t,o,s,n,a){const r=S("IconButton");return l(),D(ye,{to:e.target},[e.modelValue&&e.showOverlay?(l(),b("div",{key:0,class:"overlay",onClick:t[0]||(t[0]=(...h)=>e.close&&e.close(...h))})):z("",!0),d(Pe,{name:"slide",mode:"out-in",appear:""},{default:m(()=>[e.modelValue?(l(),b("aside",rr,[i("h2",null,[i("div",ir,[d(r,{class:"mr-1",icon:"pi-arrow-left-s-line",onClick:e.close},null,8,["onClick"]),e.$slots.title?se(e.$slots,"title",{key:0},()=>[lr],!0):z("",!0)]),cr]),i("article",ur,[se(e.$slots,"default",{},void 0,!0)])])):z("",!0)]),_:3})],8,["to"])}var _r=L(or,[["render",dr],["__scopeId","data-v-7ac3d690"]]);var pr=Object.defineProperty,mr=Object.getOwnPropertyDescriptor,hr=(e,t,o,s)=>{for(var n=s>1?void 0:s?mr(t,o):t,a=e.length-1,r;a>=0;a--)(r=e[a])&&(n=(s?r(t,o,n):r(n))||n);return s&&n&&pr(t,o,n),n};class fr{}let Je=class extends oe.with(fr){};Je=hr([ae({})],Je);const vr=Je,yr={class:"list"};function gr(e,t,o,s,n,a){return l(),b("ol",yr,[se(e.$slots,"default")])}var br=L(vr,[["render",gr]]);class wr{}class xr extends oe.with(wr){}const Ir=xr,Sr={class:"list--item"};function Er(e,t,o,s,n,a){return l(),b("li",Sr,[se(e.$slots,"default",{},void 0,!0)])}var $r=L(Ir,[["render",Er],["__scopeId","data-v-4842814e"]]);const fe=31536e3,be=86400,ke=3600,Qe=60,Cr=1,qi={year:fe,day:be,hour:ke,minute:Qe,second:Cr},bt=e=>{const t=Math.floor(e/fe),o=Math.floor(e%fe/be),s=Math.floor(e%fe%be/ke),n=Math.floor(e%fe%be%ke/Qe),a=Math.ceil(e%fe%be%ke%Qe);return{years:t,days:o,hours:s,minutes:n,seconds:a}},ne=(e,t,o=!0,s=!0)=>(t===1&&!o?"":t)+`${s?" ":""}${e}${t!==1&&e.length>1?"s":""}`,kr=(e,t=!0)=>{const{years:o,days:s,hours:n,minutes:a,seconds:r}=bt(e),h=ne("year",o,t),u=ne("day",s,t),_=ne("hour",n,t),p=ne("minute",a,t),g=ne("second",r,t);return(o?h+" ":"")+(s?u+" ":"")+(n?_+" ":"")+(a?p+" ":"")+(r?g:"")},Te=(e,t=!0)=>{const{years:o,days:s,hours:n,minutes:a,seconds:r}=bt(e),h=ne("y",o,t,!1),u=ne("d",s,t,!1),_=ne("h",n,t,!1),p=ne("m",a,t,!1),g=ne("s",r,t,!1);let y="";switch(!0){case(o>0&&s==0):y=h;break;case(o>0&&s>0):y=h+" "+u;break;case(s>0&&n==0):y=u;break;case(s>0&&n>0):y=u+" "+_;break;case(n>0&&a==0):y=_+" "+p;break;case(n>0&&a>0):y=_+" "+p;break;case(a>0&&r==0):y=p;break;case(a>0&&r>0):y=p+" "+g;break;default:y=g;break}return y};var Tr=Object.defineProperty,Or=Object.getOwnPropertyDescriptor,Ar=(e,t,o,s)=>{for(var n=s>1?void 0:s?Or(t,o):t,a=e.length-1,r;a>=0;a--)(r=e[a])&&(n=(s?r(t,o,n):r(n))||n);return s&&n&&Tr(t,o,n),n};class Dr{constructor(){x(this,"item",j({required:!0}))}}let Ze=class extends oe.with(Dr){constructor(){super(...arguments);x(this,"parametersDrawerActive",!1);x(this,"search","");x(this,"scheduleActive",this.item.is_schedule_active);x(this,"creatingRun",!1)}async createRun(){var t,o;this.creatingRun=!0;const e=await P.query({endpoint:B.create_flow_run_from_deployment,body:{id:this.item.id,state:{type:"SCHEDULED",message:"Quick run through the Orion UI."}}});this.$toast.add({type:e.error?"error":"success",content:e.error?`Error: ${e.error}`:((t=e.response.value)==null?void 0:t.name)?`Run created: ${(o=e.response.value)==null?void 0:o.name}`:"Run created",timeout:1e4}),this.creatingRun=!1}get location(){return this.item.flow_data.blob||"--"}get parameters(){return Object.entries(this.item.parameters).reduce((e,[t,o])=>[...e,{name:t,value:o,type:typeof o}],[])}get schedule(){return this.item.schedule&&"interval"in this.item.schedule?kr(this.item.schedule.interval,!1):"--"}get tags(){return this.item.tags}get filteredParameters(){return this.parameters.filter(e=>e.name.includes(this.search)||e.type.includes(this.search))}};Ze=Ar([ae({watch:{parametersDrawerActive(){this.search=""},async scheduleActive(e){const t=e?"set_schedule_active":"set_schedule_inactive";P.query({endpoint:B[t],body:{id:this.item.id}})}}})],Ze);const Vr=Ze,le=e=>(Q("data-v-1e236f4a"),e=e(),Z(),e),Nr=le(()=>i("i",{class:"item--icon pi pi-map-pin-line text--grey-40 align-self-start"},null,-1)),Rr={class:"item--title ml-2 d-flex flex-column justify-center align-self-start"},Pr={class:"tag-container font-weight-semibold nowrap caption d-flex align-bottom"},Lr={key:0,class:"mr-1 caption text-truncate d-flex align-center"},Fr=le(()=>i("i",{class:"pi pi-calendar-line pi-sm text--grey-20"},null,-1)),Mr={class:"text--grey-80 ml--half font--primary",style:{"min-width":"0px"}},Ur={class:"mr-1 caption text-truncate d-flex align-center"},Br=le(()=>i("i",{class:"pi pi-global-line pi-sm text--grey-20"},null,-1)),jr={class:"text--grey-80 ml--half font--primary",style:{"min-width":"0px"}},Wr={class:"mr-1 caption text-truncate d-flex align-center"},qr={class:"ml-auto d-flex align-middle nowrap"},Yr=O(" View Parameters "),zr=O(" Quick Run "),Gr=le(()=>i("h3",{class:"font-weight-bold"},"Parameters",-1)),Hr=le(()=>i("div",null,"These are the inputs that are passed to runs of this Deployment.",-1)),Kr=le(()=>i("hr",{class:"mt-2 parameters-hr align-self-stretch"},null,-1)),Jr=le(()=>i("i",{class:"pi pi-search-line"},null,-1)),Qr={class:"mt-2 font--secondary"},Zr=le(()=>i("hr",{class:"mt-2 parameters-hr"},null,-1)),Xr={class:"parameters-container pr-2 align-self-stretch"},ei={class:"d-flex align-center justify-space-between"},ti={class:"caption font-weight-bold font--secondary"},si={class:"parameter-type font--secondary caption-small px-1 text--white"},ni={class:"font--secondary caption"},oi={key:0,class:"mb-2 parameters-hr"};function ai(e,t,o,s,n,a){const r=S("Tag");S("Toggle");const h=S("Button"),u=S("list-item"),_=S("Input"),p=S("drawer"),g=de("breakpoints");return l(),b(G,null,[d(u,{class:"list-item--deployment d-flex align-start justify-start"},{default:m(()=>[Nr,i("div",Rr,[i("h2",null,E(e.item.name),1),i("div",Pr,[e.schedule?(l(),b("span",Lr,[Fr,i("span",Mr,E(e.schedule!=="--"?"Every":"")+" "+E(e.schedule),1)])):z("",!0),i("span",Ur,[Br,i("span",jr,E(e.location),1)]),i("span",Wr,[(l(!0),b(G,null,H(e.tags,y=>(l(),D(r,{key:y,color:"secondary-pressed",class:"font--primary mr-1",icon:"pi-label",flat:""},{default:m(()=>[O(E(y),1)]),_:2},1024))),128))])])]),X(i("div",qr,[z("",!0),d(h,{outlined:"",height:"36px",width:"160px",class:"mr-1 text--grey-80",onClick:t[1]||(t[1]=y=>e.parametersDrawerActive=!0)},{default:m(()=>[Yr]),_:1}),d(h,{outlined:"",miter:"",height:"36px",width:"105px",class:"text--grey-80",disabled:e.creatingRun,onClick:e.createRun},{default:m(()=>[zr]),_:1},8,["disabled","onClick"])],512),[[g,"sm"]])]),_:1}),d(p,{modelValue:e.parametersDrawerActive,"onUpdate:modelValue":t[3]||(t[3]=y=>e.parametersDrawerActive=y),"show-overlay":""},{title:m(()=>[O(E(e.item.name),1)]),default:m(()=>[Gr,Hr,Kr,d(_,{modelValue:e.search,"onUpdate:modelValue":t[2]||(t[2]=y=>e.search=y),placeholder:"Search..."},{prepend:m(()=>[Jr]),_:1},8,["modelValue"]),i("div",Qr,E(e.filteredParameters.length)+" result"+E(e.filteredParameters.length!==1?"s":""),1),Zr,i("div",Xr,[(l(!0),b(G,null,H(e.filteredParameters,(y,N)=>(l(),b("div",{key:N},[i("div",ei,[i("div",ti,E(y.name),1),i("span",si,E(y.type),1)]),i("p",ni,E(y.value),1),N!==e.filteredParameters.length-1?(l(),b("hr",oi)):z("",!0)]))),128))])]),_:1},8,["modelValue"])],64)}var ri=L(Vr,[["render",ai],["__scopeId","data-v-1e236f4a"]]);const ii=e=>(Q("data-v-a7dde9d6"),e=e(),Z(),e),li=ii(()=>i("i",{class:"item--icon pi pi-flow text--grey-40 align-self-start"},null,-1)),ci={class:"item--title ml-2 d-flex flex-column justify-center align-self-start"},ui={class:"nowrap tag-container d-flex align-bottom"},di={class:"ml-auto nowrap"},_i={class:"chart-container"},pi=q({props:{item:{type:null,required:!0}},setup(e){const t=e,o=ue(),s={flows:{id:{any_:[t.item.id]}}},n=I(()=>({history_start:o.getters.start.toISOString(),history_end:o.getters.end.toISOString(),history_interval_seconds:o.getters.baseInterval*2,flows:s.flows})),a={flow_run_history:P.query({endpoint:B.flow_runs_history,body:n.value}),flow_run_count:P.query({endpoint:B.flow_runs_count,body:s}),task_run_count:P.query({endpoint:B.task_runs_count,body:s})},r=I(()=>{var _,p;return((p=(_=a.flow_run_count)==null?void 0:_.response)==null?void 0:p.value)||0}),h=I(()=>{var _,p;return((p=(_=a.task_run_count)==null?void 0:_.response)==null?void 0:p.value)||0}),u=I(()=>{var _;return((_=a.flow_run_history)==null?void 0:_.response.value)||[]});return(_,p)=>{const g=S("Tag"),y=S("rounded-button"),N=S("list-item"),M=de("breakpoints");return l(),D(N,{class:"list-item--flow d-flex align-start justify-start"},{default:m(()=>[li,i("div",ci,[i("h2",null,E(e.item.name),1),i("div",ui,[(l(!0),b(G,null,H(e.item.tags,$=>(l(),D(g,{key:$,color:"secondary-pressed",class:"caption font-weight-semibold mr-1",icon:"pi-label",flat:""},{default:m(()=>[O(E($),1)]),_:2},1024))),128))])]),X(i("div",di,[d(y,{class:"mr-1"},{default:m(()=>[O(E(f(r).toLocaleString())+" flow run"+E(f(r)==1?"":"s"),1)]),_:1}),d(y,{class:"mr-1"},{default:m(()=>[O(E(f(h).toLocaleString())+" task run"+E(f(h)==1?"":"s"),1)]),_:1})],512),[[M,"sm"]]),X(i("div",_i,[d(qe,{items:f(u),"interval-start":f(o).getters.start,"interval-end":f(o).getters.end,"interval-seconds":f(o).getters.baseInterval*2,"static-median":"",padding:{top:3,bottom:3,left:3,right:3,middle:2}},null,8,["items","interval-start","interval-end","interval-seconds"])],512),[[M,"md"]])]),_:1})}}});var mi=L(pi,[["__scopeId","data-v-a7dde9d6"]]);const hi=e=>(Q("data-v-14139410"),e=e(),Z(),e),fi={class:"item--title ml-2 d-flex flex-column justify-center align-self-start"},vi={class:"tag-container nowrap d-flex align-bottom"},yi={class:"ml-auto mr-1 nowrap"},gi={class:"chart-container mr-2"},bi={class:"font--secondary item--duration mr-2"},wi=hi(()=>i("i",{class:"pi pi-arrow-right-s-line"},null,-1)),xi=q({props:{item:{type:null,required:!0}},setup(e){const t=e,o=ue(),s=I(()=>new Date(t.item.start_time)),n=I(()=>{if(!t.item.end_time){const w=new Date;return w.setMinutes(w.getMinutes()+1),w}return new Date(t.item.end_time)}),a={sort:"START_TIME_DESC",flow_runs:{id:{any_:[t.item.id]}},task_runs:{subflow_runs:{exists_:!1}}},r={flow_runs:{id:{any_:[t.item.id]}}},h=I(()=>{const w=Math.floor(Math.max(1,(n.value.getTime()-s.value.getTime())/1e3/5));return{history_start:s.value.toISOString(),history_end:n.value.toISOString(),history_interval_seconds:w,flow_runs:a.flow_runs}}),u={task_run_history:P.query({endpoint:B.task_runs_history,body:h.value}),task_run_count:P.query({endpoint:B.task_runs_count,body:a}),flow:P.query({endpoint:B.flows,body:r})},_=I(()=>p.value=="pending"||p.value=="scheduled"?"--":t.item.total_run_time?Te(t.item.total_run_time):Te(t.item.estimated_run_time)),p=I(()=>t.item.state.name.toLowerCase()),g=I(()=>t.item.tags),y=I(()=>{var w,v,C;return((C=(v=(w=u.flow)==null?void 0:w.response)==null?void 0:v.value)==null?void 0:C[0])||{}}),N=I(()=>{var w,v;return((v=(w=u.task_run_count)==null?void 0:w.response)==null?void 0:v.value)||0}),M=I(()=>{var w;return((w=u.task_run_history)==null?void 0:w.response.value)||[]}),$=I(()=>{var w;return[{text:(w=y.value)==null?void 0:w.name},{text:t.item.name,to:`/flow-run/${t.item.id}`}]});return(w,v)=>{const C=S("bread-crumbs"),c=S("Tag"),T=S("rounded-button"),U=S("router-link"),W=S("list-item"),A=de("breakpoints");return l(),D(W,{class:"list-item--flow-run d-flex align-start justify-start"},{default:m(()=>[i("i",{class:F(["item--icon pi text--grey-40 align-self-start",`pi-${f(p)}`])},null,2),i("div",fi,[d(C,{class:"flex-grow-1",tag:"h2",crumbs:f($)},null,8,["crumbs"]),i("div",vi,[i("span",{class:F(["run-state correct-text caption mr-1",f(p)+"-bg"])},E(f(p)),3),(l(!0),b(G,null,H(f(g),R=>(l(),D(c,{key:R,color:"secondary-pressed",class:"font--primary caption font-weight-semibold mr-1",icon:"pi-label",flat:""},{default:m(()=>[O(E(R),1)]),_:2},1024))),128))])]),X(i("div",yi,[d(T,{class:"mr-1"},{default:m(()=>[O(E(f(N))+" task run"+E(f(N)==1?"":"s"),1)]),_:1})],512),[[A,"sm"]]),X(i("div",gi,[d(qe,{items:f(M),"interval-start":f(s),"interval-end":f(n),"interval-seconds":f(o).getters.globalFilter.intervalSeconds,"static-median":"",padding:{top:3,bottom:3,left:6,right:6,middle:2}},null,8,["items","interval-start","interval-end","interval-seconds"])],512),[[A,"md"]]),i("div",bi,E(f(_)),1),d(U,{to:`/flow-run/${e.item.id}`,class:"icon-link"},{default:m(()=>[wi]),_:1},8,["to"])]),_:1})}}});var Ii=L(xi,[["__scopeId","data-v-14139410"]]);const Si={class:"item--title ml-2 d-flex flex-column justify-center align-self-start"},Ei={class:"tag-container nowrap d-flex align-bottom"},$i={class:"font--secondary item--duration ml-auto"},Ci=q({props:{item:{type:null,required:!0}},setup(e){const t=e,o={flow_runs:{id:{any_:[t.item.flow_run_id]}}},s={flow_run:P.query({endpoint:B.flow_runs,body:o.value}),flow:P.query({endpoint:B.flows,body:o.value})},n=I(()=>t.item.state.type.toLowerCase()),a=I(()=>t.item.tags),r=I(()=>{var p,g,y;return((y=(g=(p=s.flow_run)==null?void 0:p.response)==null?void 0:g.value)==null?void 0:y[0])||{}}),h=I(()=>{var p,g,y;return((y=(g=(p=s.flow)==null?void 0:p.response)==null?void 0:g.value)==null?void 0:y[0])||{}}),u=I(()=>n.value=="pending"||n.value=="scheduled"?"--":t.item.total_run_time?Te(t.item.total_run_time):Te(t.item.estimated_run_time)),_=I(()=>{var p,g,y;return[{text:(p=h.value)==null?void 0:p.name},{text:(g=r.value)==null?void 0:g.name,to:`/flow-run/${(y=r.value)==null?void 0:y.id}`},{text:t.item.name}]});return(p,g)=>{const y=S("bread-crumbs"),N=S("Tag"),M=S("list-item");return l(),D(M,{class:"list-item--task-run d-flex align-start justify-start"},{default:m(()=>[i("i",{class:F(["item--icon pi text--grey-40 align-self-start",`pi-${f(n)}`])},null,2),i("div",Si,[d(y,{class:"flex-grow-1",crumbs:f(_),tag:"h2"},null,8,["crumbs"]),i("div",Ei,[i("span",{class:F(["run-state correct-text caption mr-1",f(n)+"-bg"])},E(f(n)),3),(l(!0),b(G,null,H(f(a),$=>(l(),D(N,{key:$,color:"secondary-pressed",class:"font--primary caption font-weight-semibold mr-1",icon:"pi-label",flat:""},{default:m(()=>[O(E($),1)]),_:2},1024))),128))])]),i("div",$i,E(f(u)),1)]),_:1})}}});var ki=L(Ci,[["__scopeId","data-v-9e5e5562"]]);const Ti=q({emits:["intersection"],setup(e,{emit:t}){const o=k(),s=([a])=>{a&&a.isIntersecting&&t("intersection")};let n;return ge(()=>{const a={rootMargin:"0px",threshold:.1};n=new IntersectionObserver(s,a),n.observe(o.value)}),me(()=>{n.unobserve(o.value)}),(a,r)=>(l(),b("div",{ref:(h,u)=>{u.observe=h,o.value=h}},null,512))}});const Oi=q({props:{filter:{type:null,required:!0},component:{type:String,required:!0},endpoint:{type:String,required:!0}},setup(e){const t=e,o=k(20),s=k(0),n=k(!1),a=k(new Map),r=Gt({}),h=I(()=>Ae(K({},t.filter),{limit:o.value,offset:s.value})),u=async()=>{n.value=!0;const $=P.query({endpoint:B[t.endpoint],body:h.value,options:{}});return await $.fetch(),n.value=!1,$.response.value},_=async()=>{var w;s.value=(((w=a.value)==null?void 0:w.size)||0)+s.value,(await u()).forEach(v=>{a.value.set(v.id,v)})},p=async()=>{const $=await u();a.value=new Map($.map(w=>[w.id,w])),o.value=10};p();const g=$=>$ instanceof Element,y=($,w)=>{!w||!w.$el||!g(w.$el)||(r.value[$]=w.$el)};let N;const M=$=>{$.forEach(w=>{w.isIntersecting?w.target.classList.remove("hidden"):w.target.classList.add("hidden")})};return ge(()=>{const $={threshold:.01};N=new IntersectionObserver(M,$)}),re(()=>t.filter,()=>{s.value=0,o.value=20,p()}),re(()=>a.value,()=>{!N||!a.value||a.value.forEach($=>{if(r.value[$.id])try{N.observe(r.value[$.id])}catch{}})}),me(()=>{N.disconnect()}),($,w)=>{const v=S("list");return l(),D(v,{class:"results-list"},{default:m(()=>[(l(!0),b(G,null,H(a.value,([C,c])=>(l(),D(Fe(t.component),{key:C,item:c,ref:T=>y(C,T)},null,8,["item"]))),128)),d(Ti,{onIntersection:_})]),_:1})}}});var Ai=L(Oi,[["__scopeId","data-v-583c6b3c"]]);var Di=Object.defineProperty,Vi=Object.getOwnPropertyDescriptor,Ni=(e,t,o,s)=>{for(var n=s>1?void 0:s?Vi(t,o):t,a=e.length-1,r;a>=0;a--)(r=e[a])&&(n=(s?r(t,o,n):r(n))||n);return s&&n&&Di(t,o,n),n};class Ri{constructor(){x(this,"hideScrollbars",j({required:!1,default:!1,type:Boolean}))}}let Xe=class extends oe.with(Ri){};Xe=Ni([ae({})],Xe);const Pi=Xe;function Li(e,t,o,s,n,a){return l(),b("div",{class:F(["row",{"hide-scrollbars":e.hideScrollbars}])},[se(e.$slots,"default",{},void 0,!0)],2)}var Fi=L(Pi,[["render",Li],["__scopeId","data-v-07fa4f38"]]);const Mi="orion-color-mode";var xt;const wt=(xt=localStorage.getItem(Mi))==null?void 0:xt.toLowerCase(),Ui="default-color-mode",Bi=wt?wt+"-color-mode":Ui;document.body.classList.add(Bi);const ee=Ht(xo).use(Kt).use(oo).use(gt).use(pn);ee.component("button-card",qa);ee.component("bread-crumbs",Xa);ee.component("rounded-button",Za);ee.component("drawer",_r);ee.component("list",br);ee.component("list-item",$r);ee.component("deployment-list-item",ri);ee.component("flow-list-item",mi);ee.component("flow-run-list-item",Ii);ee.component("task-run-list-item",ki);ee.component("results-list",Ai);ee.component("row",Fi);ee.mount("#app");export{P as A,Ce as D,B as E,L as _,qi as i,Te as s};
