(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{766:function(e,t,a){"use strict";var n=a(20),r=a(21),o=a(23),c=a(22),s=a(0),i=a.n(s),m=a(121),l=a(16),u=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).loadBarFocus=!0,e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"componentWillUnmount",value:function(){this.loadBarFocus=!1}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,this.props.children)}}]),a}(i.a.Component);t.a=m.a(l.b,u)},767:function(e,t,a){},768:function(e,t,a){},769:function(e,t,a){"use strict";var n=a(4),r=a(20),o=a(21),c=a(23),s=a(22),i=(a(767),a(0)),m=a.n(i),l=(a(59),a(29)),u=a(15),p=a(16),d=(a(43),a(768),a(770)),f=a(121),h=a(19),v=a(766),b=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=Object(h.g)({HubWrapper:!0,gap:this.props.gap});return m.a.createElement(v.a,null,m.a.createElement(d.Helmet,null,m.a.createElement("title",null,"Aim: ".concat(this.props.project.path))),m.a.createElement("div",{className:e},m.a.createElement("div",{className:"HubWrapper__cont"},this.props.children)))}}]),a}(m.a.Component);b.defaultProps={gap:!0};var _=f.a(p.s,b),g=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).getHeaderHeight=function(){return 0},n._renderNav=function(){return n.props.nav.length?m.a.createElement("nav",{className:"ProjectWrapper__navbar"},n.props.nav.map(function(e,t){return m.a.createElement("div",{className:Object(h.g)({ProjectWrapper__navbar__item:!0,active:e.active}),key:t,onClick:function(){return e.onClick||{}}},e.icon,e.title)})):null},n._renderHeader=function(){return null},n._renderContent=function(){n.props.project;return n.props.isUpdating?null:m.a.createElement("div",{className:Object(h.g)({ProjectWrapper:!0,gap:n.props.gap})},m.a.createElement("div",{className:"ProjectWrapper__header",ref:n.projectWrapperHeaderRef},n._renderHeader()),m.a.createElement("div",{className:"ProjectWrapper__body"},!!n.props.navigation&&m.a.createElement("div",{className:"ProjectWrapper__navigation"},m.a.cloneElement(n.props.navigation,{contentWidth:n.props.contentWidth})),m.a.createElement("div",{className:"ProjectWrapper__cont",ref:n.contentRef},n.props.children)))},n.state={notFound:!1,isLoading:!0},n.projectWrapperHeaderRef=m.a.createRef(),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getProjectData().then(function(t){e.props.getProjectParams(),e.props.incProgress()}).catch(function(){e.setState({notFound:!0})}),this.setState(function(e){return Object(n.a)(Object(n.a)({},e),{},{isLoading:!1})})}},{key:"render",value:function(){return this.props.isLoading?null:this.state.notFound?m.a.createElement(l.a,{to:u.v}):m.a.createElement(_,{gap:!1},this._renderContent())}}]),a}(m.a.Component);g.defaultProps={nav:[],gap:!0,size:"fluid"};t.a=f.a(p.q,g)},841:function(e,t,a){},854:function(e,t,a){"use strict";a.r(t);var n=a(38),r=a(1),o=a(4),c=a(20),s=a(21),i=a(23),m=a(22),l=(a(841),a(0)),u=a.n(l),p=a(770),d=a(769),f=a(43),h=a(121),v=a(16),b=a(222),_=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).listTFSummary=function(){s.setState(function(e){return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0})}),s.props.getTFSummaryList().then(function(e){var t=e.map(function(e){return e.split("/").filter(function(e){return e.length})}),a=[];for(var n in t)s.appendPathToTree(a,t[n]);s.setState(function(e){return Object(o.a)(Object(o.a)({},e),{},{tree:a})})}).finally(function(){s.setState(function(e){return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1})})})},s.appendPathToTree=function(e,t){var a=e;for(var n in t){var r=-1;for(var o in a)if(a[o].path===t[n]){r=o;break}if(-1===r){var c={path:t[n],children:[]};parseInt(n)===t.length-1&&(c.fullPath=t,c.showActions=!0,c.showForm=!1),a.push(c),a=a[a.length-1].children}else a=a[r].children}},s.updateTreeNode=function(e,t,a){var n=e,r=null;for(var o in t){var c=-1;for(var s in n)if(n[s].path===t[o]){c=parseInt(s);break}if(-1===c)return;if(parseInt(o)===t.length-1){r=n[c];break}n=n[c].children}null!==r&&Object.assign(r,a)},s.formatPath=function(e){return"/".concat(e.join("/"))},s.setSummary=function(e){var t=null,a=null;(e.endsWith("\n")?e:e+"\n").match(/^(([A-z0-9_\-\.,]+)\s+([A-z0-9_\-\.,]+)\n+)+$/g)&&(t=e.split("\n").map(function(e){return e.trim().split(/\s+/).map(function(e){return e.trim()})}),a={},t.forEach(function(e){e.length>1&&(a[e[0]]=e[1])})),s.setState(function(e){return Object(o.a)(Object(o.a)({},e),{},{formSummary:t,formParams:Object(o.a)(Object(o.a)({},e.formParams),{},{parsedParams:a})})})},s.handleInputChange=function(e){var t=e.target.value,a=e.target.name;s.setState(function(e){return Object(o.a)(Object(o.a)({},e),{},{formParams:Object(o.a)(Object(o.a)({},e.formParams),{},Object(r.a)({},a,t))})}),s.setSummary(t)},s.handleParamBtnClick=function(e){var t=Object(n.a)(s.state.tree);s.state.formPath&&s.updateTreeNode(t,s.state.formPath,{showForm:!1,showActions:!0}),s.updateTreeNode(t,e,{showForm:!1,showActions:!1,isLoading:!0}),s.setState(function(e){return Object(o.a)(Object(o.a)({},e),{},{tree:t,formSaveBtn:{loading:!1,disabled:!1}})});var a=s.formatPath(e);s.props.getTFLogParams(a).then(function(a){s.updateTreeNode(t,e,{showForm:!0,isLoading:!1}),s.setState(function(n){return Object(o.a)(Object(o.a)({},n),{},{tree:t,formPath:e,formParams:{params:a.params||"",parsedParams:{}}})}),s.setSummary(a.params)}).catch(function(){s.updateTreeNode(t,e,{showActions:!0,isLoading:!1,showForm:!1,formSummary:null}),s.setState(function(e){return Object(o.a)(Object(o.a)({},e),{},{tree:t})})})},s.handleSaveBtnClick=function(){s.setState({formSaveBtn:{loading:!0,disabled:!0}});var e=s.formatPath(s.state.formPath),t=s.state.formParams.params,a=s.state.formParams.parsedParams;s.props.postTFLogParams(e,t,a).then(function(e){var t=Object(n.a)(s.state.tree);s.updateTreeNode(t,s.state.formPath,{showForm:!1,showActions:!0}),s.setState(function(e){return Object(o.a)(Object(o.a)({},e),{},{tree:t,formPath:null})})}).finally(function(){s.setState({formSaveBtn:{loading:!1,disabled:!1}})})},s.handleCancelBtnClick=function(){var e=Object(n.a)(s.state.tree);s.updateTreeNode(e,s.state.formPath,{showForm:!1,showActions:!0}),s.setState(function(t){return Object(o.a)(Object(o.a)({},t),{},{tree:e,formPath:null,formSaveBtn:{loading:!1,disabled:!1}})})},s._renderParamsForm=function(e){return u.a.createElement("div",{className:"HubTFSummaryListScreen__node__params"},u.a.createElement(f.a.Text,{type:"grey-dark",spacing:!0},"Set parameters to search and compare run",u.a.createElement(f.a.Text,{type:"grey-darker",inline:!0}," ","`",s.formatPath(e.fullPath),"`"," ")),u.a.createElement("div",{className:"HubTFSummaryListScreen__node__params__form"},u.a.createElement(f.a.Text,{type:"grey",small:!0},"Parameters:"),u.a.createElement(f.a.Text,{type:"grey",small:!0},"Parsed result:"),u.a.createElement("div",{className:"HubTFSummaryListScreen__node__params__input"},u.a.createElement(f.a.Input,{name:"params",multiLine:!0,onChange:s.handleInputChange,value:s.state.formParams.params,placeholder:"lr 0.01\nhidden_dim 256\nconv 1"})),u.a.createElement("div",{className:"HubTFSummaryListScreen__node__params__summary"},null!==s.state.formSummary&&s.state.formSummary.length>0&&s.state.formSummary.map(function(e,t){return e.length>1&&u.a.createElement(f.a.Text,{key:t,small:!0},"params.",e[0]," == ",e[1])}))),u.a.createElement(f.a.Buttons,{className:"HubTFSummaryListScreen__node__params__buttons"},u.a.createElement(f.a.Button,{type:"secondary",onClick:function(){return s.handleCancelBtnClick()}},"Cancel"),(null!==s.state.formSummary||!s.state.formParams.params)&&u.a.createElement(f.a.Button,Object.assign({type:"primary",onClick:function(){return s.handleSaveBtnClick()}},s.state.formSaveBtn),"Save")))},s._renderTree=function(e){return e&&e.length?e.map(function(e,t){return u.a.createElement("div",{key:t,className:"HubTFSummaryListScreen__node"},u.a.createElement("div",{className:"HubTFSummaryListScreen__node__title"},u.a.createElement(f.a.Text,{type:"grey-dark"},e.path)),e.children.length>0?s._renderTree(e.children):u.a.createElement("div",{className:"HubTFSummaryListScreen__node__body"},e.showActions&&u.a.createElement(f.a.Buttons,null,u.a.createElement(f.a.Button,{size:"tiny",type:"positive",onClick:function(){return s.handleParamBtnClick(e.fullPath)}},"Edit params")),e.isLoading&&u.a.createElement(f.a.Text,{type:"grey",small:!0},"Loading.."),e.showForm&&s._renderParamsForm(e)))}):null},s._renderContent=function(){return s.props.project.tf_enabled?s.state.isLoading?u.a.createElement(f.a.Text,{type:"grey",center:!0},"Loading.."):u.a.createElement("div",{className:"HubTFSummaryListScreen__content"},u.a.createElement(f.a.Text,{size:6,header:!0,divided:!0},"TF Summary Logs"),u.a.createElement(f.a.Text,{className:"HubTFSummaryListScreen__desc",type:"grey"},"Configure your TensorFlow logs for fast and easy search or comparison"),u.a.createElement("div",{className:"HubTFSummaryListScreen__tree"},s._renderTree(s.state.tree))):u.a.createElement(f.a.Text,{type:"grey",center:!0},"Can't find TF summary logs directory")},s.state={isLoading:!0,tree:[],formParams:{params:"",parsedParams:{}},formSummary:null,formPath:null,formSaveBtn:{disabled:!1,loading:!1}},s}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.listTFSummary(),b.b("TF summary list")}},{key:"render",value:function(){return u.a.createElement(d.a,null,u.a.createElement(p.Helmet,null,u.a.createElement("meta",{title:"",content:""})),u.a.createElement(f.a.Container,{size:"small"},this._renderContent()))}}]),a}(l.Component);t.default=h.a(v.r,_)}}]);