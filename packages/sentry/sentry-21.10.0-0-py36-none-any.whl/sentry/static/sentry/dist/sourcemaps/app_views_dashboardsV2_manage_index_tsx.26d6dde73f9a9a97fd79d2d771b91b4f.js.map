{"version":3,"file":"chunks/app_views_dashboardsV2_manage_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/actionCreators/dashboards.tsx","webpack:///./app/components/activity/item/avatar.tsx","webpack:///./app/components/sentryDocumentTitle.tsx","webpack:///./app/views/asyncView.tsx","webpack:///./app/views/dashboardsV2/contextMenu.tsx","webpack:///./app/views/dashboardsV2/manage/dashboardCard.tsx","webpack:///./app/views/dashboardsV2/manage/dashboardList.tsx","webpack:///./app/views/dashboardsV2/manage/index.tsx","webpack:///./app/views/dashboardsV2/types.tsx","webpack:///./app/views/dashboardsV2/utils.tsx"],"sourcesContent":["import {addErrorMessage} from 'app/actionCreators/indicator';\nimport {Client} from 'app/api';\nimport {t} from 'app/locale';\nimport {DashboardDetails, Widget} from 'app/views/dashboardsV2/types';\n\nexport function createDashboard(\n  api: Client,\n  orgId: string,\n  newDashboard: DashboardDetails,\n  duplicate?: boolean\n): Promise<DashboardDetails> {\n  const {title, widgets} = newDashboard;\n\n  const promise: Promise<DashboardDetails> = api.requestPromise(\n    `/organizations/${orgId}/dashboards/`,\n    {\n      method: 'POST',\n      data: {title, widgets, duplicate},\n    }\n  );\n\n  promise.catch(response => {\n    const errorResponse = response?.responseJSON ?? null;\n\n    if (errorResponse) {\n      addErrorMessage(errorResponse);\n    } else {\n      addErrorMessage(t('Unable to create dashboard'));\n    }\n  });\n\n  return promise;\n}\n\nexport function updateDashboardVisit(\n  api: Client,\n  orgId: string,\n  dashboardId: string | string[]\n): Promise<void> {\n  const promise = api.requestPromise(\n    `/organizations/${orgId}/dashboards/${dashboardId}/visit/`,\n    {\n      method: 'POST',\n    }\n  );\n\n  return promise;\n}\n\nexport function fetchDashboard(\n  api: Client,\n  orgId: string,\n  dashboardId: string\n): Promise<DashboardDetails> {\n  const promise: Promise<DashboardDetails> = api.requestPromise(\n    `/organizations/${orgId}/dashboards/${dashboardId}/`,\n    {\n      method: 'GET',\n    }\n  );\n\n  promise.catch(response => {\n    const errorResponse = response?.responseJSON ?? null;\n\n    if (errorResponse) {\n      addErrorMessage(errorResponse);\n    } else {\n      addErrorMessage(t('Unable to load dashboard'));\n    }\n  });\n  return promise;\n}\n\nexport function updateDashboard(\n  api: Client,\n  orgId: string,\n  dashboard: DashboardDetails\n): Promise<DashboardDetails> {\n  const data = {\n    title: dashboard.title,\n    widgets: dashboard.widgets,\n  };\n\n  const promise: Promise<DashboardDetails> = api.requestPromise(\n    `/organizations/${orgId}/dashboards/${dashboard.id}/`,\n    {\n      method: 'PUT',\n      data,\n    }\n  );\n\n  promise.catch(response => {\n    const errorResponse = response?.responseJSON ?? null;\n\n    if (errorResponse) {\n      addErrorMessage(errorResponse);\n    } else {\n      addErrorMessage(t('Unable to update dashboard'));\n    }\n  });\n\n  return promise;\n}\n\nexport function deleteDashboard(\n  api: Client,\n  orgId: string,\n  dashboardId: string\n): Promise<undefined> {\n  const promise: Promise<undefined> = api.requestPromise(\n    `/organizations/${orgId}/dashboards/${dashboardId}/`,\n    {\n      method: 'DELETE',\n    }\n  );\n\n  promise.catch(response => {\n    const errorResponse = response?.responseJSON ?? null;\n\n    if (errorResponse) {\n      addErrorMessage(errorResponse);\n    } else {\n      addErrorMessage(t('Unable to delete dashboard'));\n    }\n  });\n\n  return promise;\n}\n\nexport function validateWidget(\n  api: Client,\n  orgId: string,\n  widget: Widget\n): Promise<undefined> {\n  const promise: Promise<undefined> = api.requestPromise(\n    `/organizations/${orgId}/dashboards/widgets/`,\n    {\n      method: 'POST',\n      data: widget,\n    }\n  );\n  return promise;\n}\n","import styled from '@emotion/styled';\n\nimport UserAvatar from 'app/components/avatar/userAvatar';\nimport Placeholder from 'app/components/placeholder';\nimport {IconSentry} from 'app/icons';\nimport {AvatarUser} from 'app/types';\n\ntype Props = {\n  type: 'system' | 'user';\n  user?: AvatarUser;\n  className?: string;\n  size?: number;\n};\n\nfunction ActivityAvatar({className, type, user, size = 38}: Props) {\n  if (user) {\n    return <UserAvatar user={user} size={size} className={className} />;\n  }\n\n  if (type === 'system') {\n    // Return Sentry avatar\n    return (\n      <SystemAvatar className={className} size={size}>\n        <StyledIconSentry size=\"md\" />\n      </SystemAvatar>\n    );\n  }\n\n  return (\n    <Placeholder\n      className={className}\n      width={`${size}px`}\n      height={`${size}px`}\n      shape=\"circle\"\n    />\n  );\n}\n\nexport default ActivityAvatar;\n\ntype SystemAvatarProps = {\n  size: number;\n};\n\nconst SystemAvatar = styled('span')<SystemAvatarProps>`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: ${p => p.size}px;\n  height: ${p => p.size}px;\n  background-color: ${p => p.theme.textColor};\n  color: ${p => p.theme.background};\n  border-radius: 50%;\n`;\n\nconst StyledIconSentry = styled(IconSentry)`\n  padding-bottom: 3px;\n`;\n","import * as React from 'react';\nimport DocumentTitle from 'react-document-title';\n\ntype Props = {\n  // Main page title\n  title: string;\n  orgSlug?: string;\n  projectSlug?: string;\n  children?: React.ReactNode;\n};\n\nfunction SentryDocumentTitle({title, orgSlug, projectSlug, children}: Props) {\n  function getDocTitle() {\n    if (!orgSlug && !projectSlug) {\n      return title;\n    }\n\n    if (orgSlug && projectSlug) {\n      return `${title} - ${orgSlug} - ${projectSlug}`;\n    }\n\n    if (orgSlug) {\n      return `${title} - ${orgSlug}`;\n    }\n\n    return `${title} - ${projectSlug}`;\n  }\n\n  const docTitle = getDocTitle();\n\n  return (\n    <DocumentTitle title={`${docTitle} - Sentry`}>\n      {children as React.ReactChild}\n    </DocumentTitle>\n  );\n}\n\nexport default SentryDocumentTitle;\n","import * as React from 'react';\nimport DocumentTitle from 'react-document-title';\n\nimport AsyncComponent from 'app/components/asyncComponent';\n\ntype AsyncViewState = AsyncComponent['state'];\ntype AsyncViewProps = AsyncComponent['props'];\n\nexport default class AsyncView<\n  P extends AsyncViewProps = AsyncViewProps,\n  S extends AsyncViewState = AsyncViewState\n> extends AsyncComponent<P, S> {\n  getTitle() {\n    return '';\n  }\n\n  render() {\n    const title = this.getTitle();\n    return (\n      <DocumentTitle title={`${title ? `${title} - ` : ''}Sentry`}>\n        {this.renderComponent() as React.ReactChild}\n      </DocumentTitle>\n    );\n  }\n}\n","import {MouseEvent} from 'react';\nimport styled from '@emotion/styled';\nimport classNames from 'classnames';\n\nimport DropdownMenu from 'app/components/dropdownMenu';\nimport {IconEllipsis} from 'app/icons';\n\nconst ContextMenu = ({children}) => (\n  <DropdownMenu>\n    {({isOpen, getRootProps, getActorProps, getMenuProps}) => {\n      const topLevelCx = classNames('dropdown', {\n        'anchor-right': true,\n        open: isOpen,\n      });\n\n      return (\n        <MoreOptions\n          {...getRootProps({\n            className: topLevelCx,\n          })}\n        >\n          <DropdownTarget\n            {...getActorProps<HTMLDivElement>({\n              onClick: (event: MouseEvent) => {\n                event.stopPropagation();\n                event.preventDefault();\n              },\n            })}\n          >\n            <IconEllipsis data-test-id=\"context-menu\" size=\"md\" />\n          </DropdownTarget>\n          {isOpen && (\n            <ul {...getMenuProps({})} className={classNames('dropdown-menu')}>\n              {children}\n            </ul>\n          )}\n        </MoreOptions>\n      );\n    }}\n  </DropdownMenu>\n);\n\nconst MoreOptions = styled('span')`\n  display: flex;\n  color: ${p => p.theme.textColor};\n`;\n\nconst DropdownTarget = styled('div')`\n  display: flex;\n  cursor: pointer;\n  padding: 0 5px;\n`;\n\nexport default ContextMenu;\n","import * as React from 'react';\nimport styled from '@emotion/styled';\n\nimport ActivityAvatar from 'app/components/activity/item/avatar';\nimport Card from 'app/components/card';\nimport Link from 'app/components/links/link';\nimport {t} from 'app/locale';\nimport overflowEllipsis from 'app/styles/overflowEllipsis';\nimport space from 'app/styles/space';\nimport {User} from 'app/types';\n\ntype Props = {\n  title: string;\n  detail: React.ReactNode;\n  to: React.ComponentProps<typeof Link>['to'];\n  renderWidgets: () => React.ReactNode;\n  createdBy?: User;\n  dateStatus?: React.ReactNode;\n  onEventClick?: () => void;\n  renderContextMenu?: () => void;\n};\n\nfunction DashboardCard({\n  title,\n  detail,\n  createdBy,\n  renderWidgets,\n  dateStatus,\n  to,\n  onEventClick,\n  renderContextMenu,\n}: Props) {\n  function onClick() {\n    onEventClick?.();\n  }\n\n  return (\n    <Link data-test-id={`card-${title}`} onClick={onClick} to={to}>\n      <StyledDashboardCard interactive>\n        <CardHeader>\n          <CardContent>\n            <Title>{title}</Title>\n            <Detail>{detail}</Detail>\n          </CardContent>\n          <AvatarWrapper>\n            {createdBy ? (\n              <ActivityAvatar type=\"user\" user={createdBy} size={34} />\n            ) : (\n              <ActivityAvatar type=\"system\" size={34} />\n            )}\n          </AvatarWrapper>\n        </CardHeader>\n        <CardBody>{renderWidgets()}</CardBody>\n        <CardFooter>\n          <DateSelected>\n            {dateStatus ? (\n              <DateStatus>\n                {t('Created')} {dateStatus}\n              </DateStatus>\n            ) : (\n              <DateStatus />\n            )}\n          </DateSelected>\n          {renderContextMenu && renderContextMenu()}\n        </CardFooter>\n      </StyledDashboardCard>\n    </Link>\n  );\n}\n\nconst AvatarWrapper = styled('span')`\n  border: 3px solid ${p => p.theme.border};\n  border-radius: 50%;\n  height: min-content;\n`;\n\nconst CardContent = styled('div')`\n  flex-grow: 1;\n  overflow: hidden;\n  margin-right: ${space(1)};\n`;\n\nconst StyledDashboardCard = styled(Card)`\n  justify-content: space-between;\n  height: 100%;\n  &:focus,\n  &:hover {\n    top: -1px;\n  }\n`;\n\nconst CardHeader = styled('div')`\n  display: flex;\n  padding: ${space(1.5)} ${space(2)};\n`;\n\nconst Title = styled('div')`\n  color: ${p => p.theme.textColor};\n  ${overflowEllipsis};\n`;\n\nconst Detail = styled('div')`\n  font-family: ${p => p.theme.text.familyMono};\n  font-size: ${p => p.theme.fontSizeSmall};\n  color: ${p => p.theme.gray300};\n  ${overflowEllipsis};\n  line-height: 1.5;\n`;\n\nconst CardBody = styled('div')`\n  background: ${p => p.theme.gray100};\n  padding: ${space(1.5)} ${space(2)};\n  max-height: 150px;\n  min-height: 150px;\n  overflow: hidden;\n`;\n\nconst CardFooter = styled('div')`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: ${space(1)} ${space(2)};\n`;\n\nconst DateSelected = styled('div')`\n  font-size: ${p => p.theme.fontSizeSmall};\n  display: grid;\n  grid-column-gap: ${space(1)};\n  color: ${p => p.theme.textColor};\n  ${overflowEllipsis};\n`;\n\nconst DateStatus = styled('span')`\n  color: ${p => p.theme.purple300};\n  padding-left: ${space(1)};\n`;\n\nexport default DashboardCard;\n","import {Fragment} from 'react';\nimport {browserHistory} from 'react-router';\nimport styled from '@emotion/styled';\nimport {Location, Query} from 'history';\n\nimport WidgetArea from 'sentry-images/dashboard/widget-area.svg';\nimport WidgetBar from 'sentry-images/dashboard/widget-bar.svg';\nimport WidgetBigNumber from 'sentry-images/dashboard/widget-big-number.svg';\nimport WidgetLine from 'sentry-images/dashboard/widget-line-1.svg';\nimport WidgetTable from 'sentry-images/dashboard/widget-table.svg';\nimport WidgetWorldMap from 'sentry-images/dashboard/widget-world-map.svg';\n\nimport {\n  createDashboard,\n  deleteDashboard,\n  fetchDashboard,\n} from 'app/actionCreators/dashboards';\nimport {addErrorMessage, addSuccessMessage} from 'app/actionCreators/indicator';\nimport {Client} from 'app/api';\nimport EmptyStateWarning from 'app/components/emptyStateWarning';\nimport MenuItem from 'app/components/menuItem';\nimport Pagination from 'app/components/pagination';\nimport TimeSince from 'app/components/timeSince';\nimport {t, tn} from 'app/locale';\nimport space from 'app/styles/space';\nimport {Organization} from 'app/types';\nimport {trackAnalyticsEvent} from 'app/utils/analytics';\nimport withApi from 'app/utils/withApi';\nimport {DashboardListItem, DisplayType} from 'app/views/dashboardsV2/types';\n\nimport ContextMenu from '../contextMenu';\nimport {cloneDashboard} from '../utils';\n\nimport DashboardCard from './dashboardCard';\n\ntype Props = {\n  api: Client;\n  organization: Organization;\n  location: Location;\n  dashboards: DashboardListItem[] | null;\n  pageLinks: string;\n  onDashboardsChange: () => void;\n};\n\nfunction DashboardList({\n  api,\n  organization,\n  location,\n  dashboards,\n  pageLinks,\n  onDashboardsChange,\n}: Props) {\n  function miniWidget(displayType: DisplayType): string {\n    switch (displayType) {\n      case DisplayType.BAR:\n        return WidgetBar;\n      case DisplayType.AREA:\n      case DisplayType.TOP_N:\n        return WidgetArea;\n      case DisplayType.BIG_NUMBER:\n        return WidgetBigNumber;\n      case DisplayType.TABLE:\n        return WidgetTable;\n      case DisplayType.WORLD_MAP:\n        return WidgetWorldMap;\n      case DisplayType.LINE:\n      default:\n        return WidgetLine;\n    }\n  }\n\n  function handleDelete(dashboard: DashboardListItem) {\n    deleteDashboard(api, organization.slug, dashboard.id)\n      .then(() => {\n        trackAnalyticsEvent({\n          eventKey: 'dashboards_manage.delete',\n          eventName: 'Dashboards Manager: Dashboard Deleted',\n          organization_id: parseInt(organization.id, 10),\n          dashboard_id: parseInt(dashboard.id, 10),\n        });\n        onDashboardsChange();\n        addSuccessMessage(t('Dashboard deleted'));\n      })\n      .catch(() => {\n        addErrorMessage(t('Error deleting Dashboard'));\n      });\n  }\n\n  function handleDuplicate(dashboard: DashboardListItem) {\n    fetchDashboard(api, organization.slug, dashboard.id)\n      .then(dashboardDetail => {\n        const newDashboard = cloneDashboard(dashboardDetail);\n        newDashboard.widgets.map(widget => (widget.id = undefined));\n        createDashboard(api, organization.slug, newDashboard, true).then(() => {\n          trackAnalyticsEvent({\n            eventKey: 'dashboards_manage.duplicate',\n            eventName: 'Dashboards Manager: Dashboard Duplicated',\n            organization_id: parseInt(organization.id, 10),\n            dashboard_id: parseInt(dashboard.id, 10),\n          });\n          onDashboardsChange();\n          addSuccessMessage(t('Dashboard duplicated'));\n        });\n      })\n      .catch(() => addErrorMessage(t('Error duplicating Dashboard')));\n  }\n\n  function renderMiniDashboards() {\n    return dashboards?.map((dashboard, index) => {\n      return (\n        <DashboardCard\n          key={`${index}-${dashboard.id}`}\n          title={\n            dashboard.id === 'default-overview' ? 'Default Dashboard' : dashboard.title\n          }\n          to={{\n            pathname: `/organizations/${organization.slug}/dashboard/${dashboard.id}/`,\n            query: {...location.query},\n          }}\n          detail={tn('%s widget', '%s widgets', dashboard.widgetDisplay.length)}\n          dateStatus={\n            dashboard.dateCreated ? <TimeSince date={dashboard.dateCreated} /> : undefined\n          }\n          createdBy={dashboard.createdBy}\n          renderWidgets={() => (\n            <WidgetGrid>\n              {dashboard.widgetDisplay.map((displayType, i) => {\n                return displayType === DisplayType.BIG_NUMBER ? (\n                  <BigNumberWidgetWrapper key={`${i}-${displayType}`}>\n                    <WidgetImage src={miniWidget(displayType)} />\n                  </BigNumberWidgetWrapper>\n                ) : (\n                  <MiniWidgetWrapper key={`${i}-${displayType}`}>\n                    <WidgetImage src={miniWidget(displayType)} />\n                  </MiniWidgetWrapper>\n                );\n              })}\n            </WidgetGrid>\n          )}\n          renderContextMenu={() => (\n            <ContextMenu>\n              <MenuItem\n                data-test-id=\"dashboard-delete\"\n                onClick={event => {\n                  event.preventDefault();\n                  handleDelete(dashboard);\n                }}\n                disabled={dashboards.length <= 1}\n              >\n                {t('Delete')}\n              </MenuItem>\n              <MenuItem\n                data-test-id=\"dashboard-duplicate\"\n                onClick={event => {\n                  event.preventDefault();\n                  handleDuplicate(dashboard);\n                }}\n              >\n                {t('Duplicate')}\n              </MenuItem>\n            </ContextMenu>\n          )}\n        />\n      );\n    });\n  }\n\n  function renderDashboardGrid() {\n    if (!dashboards?.length) {\n      return (\n        <EmptyStateWarning>\n          <p>{t('Sorry, no Dashboards match your filters.')}</p>\n        </EmptyStateWarning>\n      );\n    }\n    return <DashboardGrid>{renderMiniDashboards()}</DashboardGrid>;\n  }\n\n  return (\n    <Fragment>\n      {renderDashboardGrid()}\n      <PaginationRow\n        pageLinks={pageLinks}\n        onCursor={(cursor, path, query, direction) => {\n          const offset = Number(cursor?.split?.(':')?.[1] ?? 0);\n\n          const newQuery: Query & {cursor?: string} = {...query, cursor};\n          const isPrevious = direction === -1;\n\n          if (offset <= 0 && isPrevious) {\n            delete newQuery.cursor;\n          }\n\n          trackAnalyticsEvent({\n            eventKey: 'dashboards_manage.paginate',\n            eventName: 'Dashboards Manager: Paginate',\n            organization_id: parseInt(organization.id, 10),\n          });\n\n          browserHistory.push({\n            pathname: path,\n            query: newQuery,\n          });\n        }}\n      />\n    </Fragment>\n  );\n}\n\nconst DashboardGrid = styled('div')`\n  display: grid;\n  grid-template-columns: minmax(100px, 1fr);\n  grid-template-rows: repeat(3, max-content);\n  grid-gap: ${space(2)};\n\n  @media (min-width: ${p => p.theme.breakpoints[1]}) {\n    grid-template-columns: repeat(2, minmax(100px, 1fr));\n  }\n\n  @media (min-width: ${p => p.theme.breakpoints[2]}) {\n    grid-template-columns: repeat(3, minmax(100px, 1fr));\n  }\n`;\n\nconst WidgetGrid = styled('div')`\n  display: grid;\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n  grid-auto-flow: row dense;\n  grid-gap: ${space(0.25)};\n\n  @media (min-width: ${p => p.theme.breakpoints[1]}) {\n    grid-template-columns: repeat(4, minmax(0, 1fr));\n  }\n\n  @media (min-width: ${p => p.theme.breakpoints[3]}) {\n    grid-template-columns: repeat(6, minmax(0, 1fr));\n  }\n\n  @media (min-width: ${p => p.theme.breakpoints[4]}) {\n    grid-template-columns: repeat(8, minmax(0, 1fr));\n  }\n`;\n\nconst BigNumberWidgetWrapper = styled('div')`\n  display: flex;\n  align-items: flex-start;\n  width: 100%;\n  height: 100%;\n\n  /* 2 cols */\n  grid-area: span 1 / span 2;\n\n  @media (min-width: ${p => p.theme.breakpoints[0]}) {\n    /* 4 cols */\n    grid-area: span 1 / span 1;\n  }\n\n  @media (min-width: ${p => p.theme.breakpoints[3]}) {\n    /* 6 and 8 cols */\n    grid-area: span 1 / span 2;\n  }\n`;\n\nconst MiniWidgetWrapper = styled('div')`\n  display: flex;\n  align-items: flex-start;\n  width: 100%;\n  height: 100%;\n  grid-area: span 2 / span 2;\n`;\n\nconst WidgetImage = styled('img')`\n  width: 100%;\n  height: 100%;\n`;\n\nconst PaginationRow = styled(Pagination)`\n  margin-bottom: ${space(3)};\n`;\n\nexport default withApi(DashboardList);\n","import {browserHistory, InjectedRouter} from 'react-router';\nimport styled from '@emotion/styled';\nimport pick from 'lodash/pick';\n\nimport {Client} from 'app/api';\nimport Feature from 'app/components/acl/feature';\nimport Alert from 'app/components/alert';\nimport Button from 'app/components/button';\nimport DropdownControl, {DropdownItem} from 'app/components/dropdownControl';\nimport NoProjectMessage from 'app/components/noProjectMessage';\nimport SearchBar from 'app/components/searchBar';\nimport SentryDocumentTitle from 'app/components/sentryDocumentTitle';\nimport {IconAdd} from 'app/icons';\nimport {t} from 'app/locale';\nimport {PageContent} from 'app/styles/organization';\nimport space from 'app/styles/space';\nimport {Organization, SelectValue} from 'app/types';\nimport {trackAnalyticsEvent} from 'app/utils/analytics';\nimport {decodeScalar} from 'app/utils/queryString';\nimport withApi from 'app/utils/withApi';\nimport withOrganization from 'app/utils/withOrganization';\nimport AsyncView from 'app/views/asyncView';\n\nimport {DashboardListItem} from '../types';\n\nimport DashboardList from './dashboardList';\n\nconst SORT_OPTIONS: SelectValue<string>[] = [\n  {label: t('My Dashboards'), value: 'mydashboards'},\n  {label: t('Dashboard Name (A-Z)'), value: 'title'},\n  {label: t('Date Created (Newest)'), value: '-dateCreated'},\n  {label: t('Date Created (Oldest)'), value: 'dateCreated'},\n  {label: t('Most Popular'), value: 'mostPopular'},\n  {label: t('Recently Viewed'), value: 'recentlyViewed'},\n];\n\ntype Props = {\n  api: Client;\n  organization: Organization;\n  location: Location;\n  router: InjectedRouter;\n} & AsyncView['props'];\n\ntype State = {\n  dashboards: DashboardListItem[] | null;\n  dashboardsPageLinks: string;\n} & AsyncView['state'];\n\nclass ManageDashboards extends AsyncView<Props, State> {\n  getEndpoints(): ReturnType<AsyncView['getEndpoints']> {\n    const {organization, location} = this.props;\n    return [\n      [\n        'dashboards',\n        `/organizations/${organization.slug}/dashboards/`,\n        {\n          query: {\n            ...pick(location.query, ['cursor', 'query']),\n            sort: this.getActiveSort().value,\n            per_page: '9',\n          },\n        },\n      ],\n    ];\n  }\n\n  getActiveSort() {\n    const {location} = this.props;\n\n    const urlSort = decodeScalar(location.query.sort, 'mydashboards');\n    return SORT_OPTIONS.find(item => item.value === urlSort) || SORT_OPTIONS[0];\n  }\n\n  onDashboardsChange() {\n    this.reloadData();\n  }\n\n  handleSearch(query: string) {\n    const {location, router} = this.props;\n    trackAnalyticsEvent({\n      eventKey: 'dashboards_manage.search',\n      eventName: 'Dashboards Manager: Search',\n      organization_id: parseInt(this.props.organization.id, 10),\n    });\n\n    router.push({\n      pathname: location.pathname,\n      query: {...location.query, cursor: undefined, query},\n    });\n  }\n\n  handleSortChange = (value: string) => {\n    const {location} = this.props;\n    trackAnalyticsEvent({\n      eventKey: 'dashboards_manage.change_sort',\n      eventName: 'Dashboards Manager: Sort By Changed',\n      organization_id: parseInt(this.props.organization.id, 10),\n      sort: value,\n    });\n    browserHistory.push({\n      pathname: location.pathname,\n      query: {\n        ...location.query,\n        cursor: undefined,\n        sort: value,\n      },\n    });\n  };\n\n  getQuery() {\n    const {query} = this.props.location.query;\n\n    return typeof query === 'string' ? query : undefined;\n  }\n\n  renderActions() {\n    const activeSort = this.getActiveSort();\n\n    return (\n      <StyledActions>\n        <SearchBar\n          defaultQuery=\"\"\n          query={this.getQuery()}\n          placeholder={t('Search Dashboards')}\n          onSearch={query => this.handleSearch(query)}\n        />\n        <DropdownControl buttonProps={{prefix: t('Sort By')}} label={activeSort.label}>\n          {SORT_OPTIONS.map(({label, value}) => (\n            <DropdownItem\n              key={value}\n              onSelect={this.handleSortChange}\n              eventKey={value}\n              isActive={value === activeSort.value}\n            >\n              {label}\n            </DropdownItem>\n          ))}\n        </DropdownControl>\n      </StyledActions>\n    );\n  }\n\n  renderNoAccess() {\n    return (\n      <PageContent>\n        <Alert type=\"warning\">{t(\"You don't have access to this feature\")}</Alert>\n      </PageContent>\n    );\n  }\n\n  renderDashboards() {\n    const {dashboards, dashboardsPageLinks} = this.state;\n    const {organization, location, api} = this.props;\n    return (\n      <DashboardList\n        api={api}\n        dashboards={dashboards}\n        organization={organization}\n        pageLinks={dashboardsPageLinks}\n        location={location}\n        onDashboardsChange={() => this.onDashboardsChange()}\n      />\n    );\n  }\n\n  getTitle() {\n    return t('Dashboards');\n  }\n\n  onCreate() {\n    const {organization, location} = this.props;\n    trackAnalyticsEvent({\n      eventKey: 'dashboards_manage.create.start',\n      eventName: 'Dashboards Manager: Dashboard Create Started',\n      organization_id: parseInt(organization.id, 10),\n    });\n    browserHistory.push({\n      pathname: `/organizations/${organization.slug}/dashboards/new/`,\n      query: location.query,\n    });\n  }\n\n  renderBody() {\n    const {organization} = this.props;\n\n    return (\n      <Feature\n        organization={organization}\n        features={['dashboards-edit']}\n        renderDisabled={this.renderNoAccess}\n      >\n        <SentryDocumentTitle title={t('Dashboards')} orgSlug={organization.slug}>\n          <StyledPageContent>\n            <NoProjectMessage organization={organization}>\n              <PageContent>\n                <StyledPageHeader>\n                  {t('Dashboards')}\n                  <Button\n                    data-test-id=\"dashboard-create\"\n                    onClick={event => {\n                      event.preventDefault();\n                      this.onCreate();\n                    }}\n                    priority=\"primary\"\n                    icon={<IconAdd size=\"xs\" isCircled />}\n                  >\n                    {t('Create Dashboard')}\n                  </Button>\n                </StyledPageHeader>\n                {this.renderActions()}\n                {this.renderDashboards()}\n              </PageContent>\n            </NoProjectMessage>\n          </StyledPageContent>\n        </SentryDocumentTitle>\n      </Feature>\n    );\n  }\n}\n\nconst StyledPageContent = styled(PageContent)`\n  padding: 0;\n`;\n\nconst StyledPageHeader = styled('div')`\n  display: flex;\n  align-items: flex-end;\n  font-size: ${p => p.theme.headerFontSize};\n  color: ${p => p.theme.textColor};\n  justify-content: space-between;\n  margin-bottom: ${space(2)};\n`;\n\nconst StyledActions = styled('div')`\n  display: grid;\n  grid-template-columns: auto max-content;\n  grid-gap: ${space(2)};\n  margin-bottom: ${space(2)};\n\n  @media (max-width: ${p => p.theme.breakpoints[0]}) {\n    grid-template-columns: auto;\n  }\n`;\n\nexport default withApi(withOrganization(ManageDashboards));\n","import {User} from 'app/types';\n\n// Max widgets per dashboard we are currently willing\n// to allow to limit the load on snuba from the\n// parallel requests. Somewhat arbitrary\n// limit that can be changed if necessary.\nexport const MAX_WIDGETS = 30;\n\nexport enum DisplayType {\n  AREA = 'area',\n  BAR = 'bar',\n  LINE = 'line',\n  TABLE = 'table',\n  WORLD_MAP = 'world_map',\n  BIG_NUMBER = 'big_number',\n  STACKED_AREA = 'stacked_area',\n  TOP_N = 'top_n',\n}\n\nexport type WidgetQuery = {\n  name: string;\n  fields: string[];\n  conditions: string;\n  orderby: string;\n};\n\nexport type Widget = {\n  id?: string;\n  title: string;\n  displayType: DisplayType;\n  interval: string;\n  queries: WidgetQuery[];\n};\n\n/**\n * The response shape from dashboard list endpoint\n */\nexport type DashboardListItem = {\n  id: string;\n  title: string;\n  dateCreated?: string;\n  createdBy?: User;\n  widgetDisplay: DisplayType[];\n};\n\n/**\n * Saved dashboard with widgets\n */\nexport type DashboardDetails = {\n  title: string;\n  widgets: Widget[];\n  id: string;\n  dateCreated: string;\n  createdBy?: User;\n};\n\nexport enum DashboardState {\n  VIEW = 'view',\n  EDIT = 'edit',\n  CREATE = 'create',\n  PENDING_DELETE = 'pending_delete',\n}\n","import {Query} from 'history';\nimport cloneDeep from 'lodash/cloneDeep';\nimport pick from 'lodash/pick';\n\nimport {GlobalSelection} from 'app/types';\nimport {getUtcDateString} from 'app/utils/dates';\nimport EventView from 'app/utils/discover/eventView';\n\nimport {DashboardDetails, DisplayType, Widget, WidgetQuery} from './types';\n\nexport function cloneDashboard(dashboard: DashboardDetails): DashboardDetails {\n  return cloneDeep(dashboard);\n}\n\nexport function eventViewFromWidget(\n  title: string,\n  query: WidgetQuery,\n  selection: GlobalSelection,\n  widgetType?: DisplayType\n): EventView {\n  const {start, end, period: statsPeriod} = selection.datetime;\n  const {projects, environments} = selection;\n\n  // World Map requires an additional column (geo.country_code) to display in discover when navigating from the widget\n  const fields =\n    widgetType === DisplayType.WORLD_MAP\n      ? ['geo.country_code', ...query.fields]\n      : query.fields;\n  const conditions =\n    widgetType === DisplayType.WORLD_MAP\n      ? `${query.conditions} has:geo.country_code`\n      : query.conditions;\n\n  return EventView.fromSavedQuery({\n    id: undefined,\n    name: title,\n    version: 2,\n    fields,\n    query: conditions,\n    orderby: query.orderby,\n    projects,\n    range: statsPeriod,\n    start: start ? getUtcDateString(start) : undefined,\n    end: end ? getUtcDateString(end) : undefined,\n    environment: environments,\n  });\n}\n\nfunction coerceStringToArray(value?: string | string[] | null) {\n  return typeof value === 'string' ? [value] : value;\n}\n\nexport function constructWidgetFromQuery(query?: Query): Widget | undefined {\n  if (query) {\n    const queryNames = coerceStringToArray(query.queryNames);\n    const queryConditions = coerceStringToArray(query.queryConditions);\n    const queryFields = coerceStringToArray(query.queryFields);\n    const queries: WidgetQuery[] = [];\n    if (\n      queryConditions &&\n      queryNames &&\n      queryFields &&\n      typeof query.queryOrderby === 'string'\n    )\n      queryConditions.forEach((condition, index) => {\n        queries.push({\n          name: queryNames[index],\n          conditions: condition,\n          fields: queryFields,\n          orderby: query.queryOrderby as string,\n        });\n      });\n    if (query.title && query.displayType && query.interval && queries.length > 0) {\n      const newWidget: Widget = {\n        ...(pick(query, ['title', 'displayType', 'interval']) as {\n          title: string;\n          displayType: DisplayType;\n          interval: string;\n        }),\n        queries,\n      };\n      return newWidget;\n    }\n  }\n  return undefined;\n}\n"],"names":["createDashboard","api","orgId","newDashboard","duplicate","title","widgets","promise","requestPromise","method","data","catch","response","errorResponse","responseJSON","addErrorMessage","t","updateDashboardVisit","dashboardId","fetchDashboard","updateDashboard","dashboard","id","deleteDashboard","validateWidget","widget","ActivityAvatar","className","type","user","size","SystemAvatar","StyledIconSentry","width","height","shape","p","theme","textColor","background","IconSentry","SentryDocumentTitle","orgSlug","projectSlug","children","docTitle","AsyncView","AsyncComponent","getTitle","render","this","renderComponent","ContextMenu","isOpen","getRootProps","getActorProps","getMenuProps","topLevelCx","classNames","open","MoreOptions","DropdownTarget","onClick","event","stopPropagation","preventDefault","DashboardCard","detail","createdBy","renderWidgets","dateStatus","to","onEventClick","renderContextMenu","StyledDashboardCard","interactive","CardHeader","CardContent","Title","Detail","AvatarWrapper","CardBody","CardFooter","DateSelected","DateStatus","border","space","Card","overflowEllipsis","text","familyMono","fontSizeSmall","gray300","gray100","purple300","DashboardList","organization","location","dashboards","pageLinks","onDashboardsChange","miniWidget","displayType","DisplayType","WidgetBar","WidgetArea","WidgetBigNumber","WidgetTable","WidgetWorldMap","WidgetLine","Fragment","length","DashboardGrid","map","index","pathname","slug","query","tn","widgetDisplay","dateCreated","date","undefined","WidgetGrid","i","BigNumberWidgetWrapper","WidgetImage","src","MiniWidgetWrapper","then","trackAnalyticsEvent","eventKey","eventName","organization_id","parseInt","dashboard_id","addSuccessMessage","handleDelete","disabled","dashboardDetail","cloneDashboard","handleDuplicate","PaginationRow","onCursor","cursor","path","direction","newQuery","Number","split","browserHistory","breakpoints","Pagination","withApi","SORT_OPTIONS","label","value","ManageDashboards","props","sort","getEndpoints","pick","getActiveSort","per_page","urlSort","decodeScalar","find","item","reloadData","handleSearch","router","push","getQuery","renderActions","activeSort","StyledActions","defaultQuery","placeholder","onSearch","buttonProps","prefix","onSelect","handleSortChange","isActive","renderNoAccess","renderDashboards","dashboardsPageLinks","state","onCreate","renderBody","features","renderDisabled","StyledPageContent","StyledPageHeader","priority","icon","isCircled","PageContent","headerFontSize","withOrganization","MAX_WIDGETS","DashboardState","cloneDeep","eventViewFromWidget","selection","widgetType","start","end","period","statsPeriod","datetime","projects","environments","fields","conditions","EventView","name","version","orderby","range","getUtcDateString","environment","coerceStringToArray","constructWidgetFromQuery","queryNames","queryConditions","queryFields","queries","queryOrderby","forEach","condition","interval"],"sourceRoot":""}