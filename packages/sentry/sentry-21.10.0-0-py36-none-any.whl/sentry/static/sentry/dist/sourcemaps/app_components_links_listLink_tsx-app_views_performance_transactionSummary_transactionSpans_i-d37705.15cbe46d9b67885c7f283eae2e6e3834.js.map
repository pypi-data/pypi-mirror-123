{"version":3,"file":"chunks/app_components_links_listLink_tsx-app_views_performance_transactionSummary_transactionSpans_i-d37705.xxxxxxxxxxxxxxxxxxxx.js","mappings":"ixBA8BA,MAAMA,UAAiBC,EAAAA,UAAuB,2DAsB7B,KACb,MAAMC,EAAc,IACd,UAACC,EAAD,gBAAYC,GAAmBC,KAAKC,MAU1C,OARIH,IACFD,EAAYC,IAAa,GAGvBE,KAAKE,YAAcH,IACrBF,EAAYE,IAAmB,GAG1BI,GAAAA,CAAWN,MAzBpBK,WACE,MAAM,SAACA,EAAD,GAAWE,EAAX,MAAeC,EAAf,MAAsBC,EAAtB,OAA6BC,GAAUP,KAAKC,MAC5CO,EAAYH,EAAQI,EAAAA,MAASJ,QAASK,EACtCC,EACU,iBAAPP,EAAkB,CAACQ,SAAUR,EAAIC,MAAOG,GAAaJ,EAE9D,MAAwB,mBAAbF,EACFA,EAASS,EAAQL,GAGnBC,EAAOL,SAASS,EAAQL,GAkBjCO,SACE,MAAM,MAACP,EAAD,SAAQQ,EAAR,GAAkBV,EAAlB,SAAsBW,KAAad,GAASD,KAAKC,MACjDe,EAAeC,GAAAA,CACnBhB,EACA,kBACA,MACA,WACA,QACA,SACA,YAGF,OACE,QAACiB,EAAD,CAAUpB,UAAWE,KAAKmB,eAAgBJ,SAAUA,EAApD,UACE,QAAC,OAAD,IAAgBC,EAAcI,kBAAmBd,EAAOF,GAAIW,EAAW,GAAKX,EAA5E,SACGU,OApDLnB,EAAAA,YAAAA,Y,OAAAA,EAAAA,cACiB,a,OADjBA,EAAAA,eAGgC,CAClCI,gBAAiB,SACjBO,OAAO,EACPS,UAAU,IAqDd,SAAeM,EAAAA,EAAAA,YAAW1B,GAEpBuB,GAAW,OAAO,KAAP,CACfI,kBAAmBC,GAAiB,aAATA,EADZ,qBAGbC,GACAA,EAAET,UAAF,8BAGQS,EAAEC,MAAMV,SAHhB,+EAMWS,EAAEC,MAAMV,SANnB,iCAJU,M,8lBChFd,SAASW,EAAaC,GACpB,OAAO,gCADAD,EAAAA,YAAAA,eAIT,UCMA,SAASE,EAAiB3B,GACxB,MAAM,SAAC4B,EAAD,aAAWC,EAAX,SAAyBC,GAAY9B,EAE3C,OACE,QAAC,IAAD,CACE4B,SAAUA,EACVC,aAAcA,EACdC,SAAUA,EACVC,IAAKC,EAAAA,EAAAA,MACLC,iBAAkBA,EAClBC,kBAAmBA,EACnBC,eAAgBV,IAKtB,SAASS,EAAkBN,EAAoBQ,GAC7C,MAAMhC,GAAQiC,EAAAA,EAAAA,IAAaT,EAASxB,MAAMA,MAAO,IAC3CkC,EAAa,IAAIC,EAAAA,GAAcnC,GAMrC,OAJAkC,EACGE,gBAAgB,aAAc,CAAC,gBAC/BA,gBAAgB,cAAe,CAACJ,IAE5BK,EAAAA,GAAAA,yBACL,CACEC,QAAIjC,EACJkC,QAAS,EACTC,KAAMR,EACNS,OAAQ,CAAC,WACTzC,MAAOkC,EAAWQ,eAClBhB,SAAU,IAEZF,GAIJ,SAASK,EAAiBG,GAIxB,MAF6B,iBAApBA,GAAgCW,OAAOX,GAAiBY,OAAOC,OAAS,EAGxE,CAACF,OAAOX,GAAiBY,QAAQE,EAAAA,EAAAA,GAAE,gBAAgBC,KAAK,OAG1D,EAACD,EAAAA,EAAAA,GAAE,YAAYA,EAAAA,EAAAA,GAAE,gBAAgBC,KAAK,OA7CtCxB,EAAAA,YAAAA,mBAgDT,SAAeyB,EAAAA,EAAAA,IAAaC,EAAAA,EAAAA,GAAiB1B","sources":["webpack:///./app/components/links/listLink.tsx","webpack:///./app/views/performance/transactionSummary/transactionSpans/content.tsx","webpack:///./app/views/performance/transactionSummary/transactionSpans/index.tsx"],"sourcesContent":["import * as React from 'react';\nimport {Link as RouterLink, withRouter, WithRouterProps} from 'react-router';\nimport styled from '@emotion/styled';\nimport classNames from 'classnames';\nimport {LocationDescriptor} from 'history';\nimport omit from 'lodash/omit';\nimport * as qs from 'query-string';\n\ntype DefaultProps = {\n  index: boolean;\n  activeClassName: string;\n  disabled: boolean;\n};\n\ntype LinkProps = Omit<React.ComponentProps<typeof RouterLink>, 'to'>;\n\ntype Props = WithRouterProps &\n  Partial<DefaultProps> &\n  LinkProps & {\n    /**\n     * Link target. We don't want to expose the ToLocationFunction on this component.\n     */\n    to: LocationDescriptor;\n    query?: string;\n    // If supplied by parent component, decides whether link element\n    // is \"active\" or not ... overriding default behavior of strict\n    // route matching\n    isActive?: (location: LocationDescriptor, indexOnly?: boolean) => boolean;\n  };\n\nclass ListLink extends React.Component<Props> {\n  static displayName = 'ListLink';\n\n  static defaultProps: DefaultProps = {\n    activeClassName: 'active',\n    index: false,\n    disabled: false,\n  };\n\n  isActive() {\n    const {isActive, to, query, index, router} = this.props;\n    const queryData = query ? qs.parse(query) : undefined;\n    const target: LocationDescriptor =\n      typeof to === 'string' ? {pathname: to, query: queryData} : to;\n\n    if (typeof isActive === 'function') {\n      return isActive(target, index);\n    }\n\n    return router.isActive(target, index);\n  }\n\n  getClassName = () => {\n    const _classNames = {};\n    const {className, activeClassName} = this.props;\n\n    if (className) {\n      _classNames[className] = true;\n    }\n\n    if (this.isActive() && activeClassName) {\n      _classNames[activeClassName] = true;\n    }\n\n    return classNames(_classNames);\n  };\n\n  render() {\n    const {index, children, to, disabled, ...props} = this.props;\n    const carriedProps = omit(\n      props,\n      'activeClassName',\n      'css',\n      'isActive',\n      'index',\n      'router',\n      'location'\n    );\n\n    return (\n      <StyledLi className={this.getClassName()} disabled={disabled}>\n        <RouterLink {...carriedProps} onlyActiveOnIndex={index} to={disabled ? '' : to}>\n          {children}\n        </RouterLink>\n      </StyledLi>\n    );\n  }\n}\n\nexport default withRouter(ListLink);\n\nconst StyledLi = styled('li', {\n  shouldForwardProp: prop => prop !== 'disabled',\n})<{disabled?: boolean}>`\n  ${p =>\n    p.disabled &&\n    `\n   a {\n    color:${p.theme.disabled} !important;\n    pointer-events: none;\n    :hover {\n      color: ${p.theme.disabled}  !important;\n    }\n   }\n`}\n`;\n","import {Location} from 'history';\n\nimport {Organization} from 'app/types';\nimport EventView from 'app/utils/discover/eventView';\n\ntype Props = {\n  location: Location;\n  organization: Organization;\n  eventView: EventView;\n};\n\nfunction SpansContent(_props: Props) {\n  return <p>spans</p>;\n}\n\nexport default SpansContent;\n","import {Location} from 'history';\n\nimport {t} from 'app/locale';\nimport {Organization, Project} from 'app/types';\nimport EventView from 'app/utils/discover/eventView';\nimport {decodeScalar} from 'app/utils/queryString';\nimport {MutableSearch} from 'app/utils/tokenizeSearch';\nimport withOrganization from 'app/utils/withOrganization';\nimport withProjects from 'app/utils/withProjects';\n\nimport PageLayout from '../pageLayout';\nimport Tab from '../tabs';\n\nimport SpansContent from './content';\n\ntype Props = {\n  location: Location;\n  organization: Organization;\n  projects: Project[];\n};\n\nfunction TransactionSpans(props: Props) {\n  const {location, organization, projects} = props;\n\n  return (\n    <PageLayout\n      location={location}\n      organization={organization}\n      projects={projects}\n      tab={Tab.Spans}\n      getDocumentTitle={getDocumentTitle}\n      generateEventView={generateEventView}\n      childComponent={SpansContent}\n    />\n  );\n}\n\nfunction generateEventView(location: Location, transactionName: string): EventView {\n  const query = decodeScalar(location.query.query, '');\n  const conditions = new MutableSearch(query);\n  // TODO: what should this event type be?\n  conditions\n    .setFilterValues('event.type', ['transaction'])\n    .setFilterValues('transaction', [transactionName]);\n\n  return EventView.fromNewQueryWithLocation(\n    {\n      id: undefined,\n      version: 2,\n      name: transactionName,\n      fields: ['count()'],\n      query: conditions.formatString(),\n      projects: [],\n    },\n    location\n  );\n}\n\nfunction getDocumentTitle(transactionName: string): string {\n  const hasTransactionName =\n    typeof transactionName === 'string' && String(transactionName).trim().length > 0;\n\n  if (hasTransactionName) {\n    return [String(transactionName).trim(), t('Performance')].join(' - ');\n  }\n\n  return [t('Summary'), t('Performance')].join(' - ');\n}\n\nexport default withProjects(withOrganization(TransactionSpans));\n"],"names":["ListLink","React","_classNames","className","activeClassName","this","props","isActive","classNames","to","query","index","router","queryData","qs","undefined","target","pathname","render","children","disabled","carriedProps","omit","StyledLi","getClassName","onlyActiveOnIndex","withRouter","shouldForwardProp","prop","p","theme","SpansContent","_props","TransactionSpans","location","organization","projects","tab","Tab","getDocumentTitle","generateEventView","childComponent","transactionName","decodeScalar","conditions","MutableSearch","setFilterValues","EventView","id","version","name","fields","formatString","String","trim","length","t","join","withProjects","withOrganization"],"sourceRoot":""}