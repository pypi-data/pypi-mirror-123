"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_views_settings_account_accountSecurity_accountSecurityDetails_tsx"],{"./app/views/asyncView.tsx":(e,t,n)=>{n.d(t,{Z:()=>r}),n("../node_modules/react/index.js");var s=n("../node_modules/react-document-title/index.js"),o=n.n(s),i=n("./app/components/asyncComponent.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class r extends i.Z{getTitle(){return""}render(){const e=this.getTitle();return(0,a.tZ)(o(),{title:"".concat(e?"".concat(e," - "):"","Sentry"),children:this.renderComponent()})}}r.displayName="AsyncView"},"./app/views/settings/account/accountSecurity/accountSecurityDetails.tsx":(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/core-js/modules/es.symbol.description.js"),n("../node_modules/react/index.js")),a=n("./app/actionCreators/indicator.tsx"),r=n("./app/components/button.tsx"),c=n("./app/components/circleIndicator.tsx"),d=n("./app/components/dateTime.tsx"),l=n("./app/components/tooltip.tsx"),m=n("./app/locale.tsx"),p=n("./app/styles/space.tsx"),u=n("./app/views/asyncView.tsx"),h=n("./app/components/clipboard.tsx"),Z=n("./app/components/confirm.tsx"),g=n("./app/components/panels/index.tsx"),v=n("./app/icons/index.tsx"),y=n("./app/views/settings/components/emptyMessage.tsx"),f=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const x=({className:e,isEnrolled:t,codes:n,onRegenerateBackupCodes:s})=>{if(!t||!n)return null;const o=n.join(" \n");return(0,f.BX)(b,{className:e,children:[(0,f.BX)(g.V9,{hasButtons:!0,children:[(0,m.t)("Unused Codes"),(0,f.BX)(j,{children:[(0,f.tZ)(h.Z,{hideUnsupported:!0,value:o,children:(0,f.tZ)(r.ZP,{size:"small",label:(0,m.t)("copy"),children:(0,f.tZ)(v.vU,{})})}),(0,f.tZ)(r.ZP,{size:"small",onClick:()=>{const e=window.frames.printable;e.document.write(n.join("<br>")),e.print(),e.document.close()},label:(0,m.t)("print"),children:(0,f.tZ)(v.nS,{})}),(0,f.tZ)(r.ZP,{size:"small",download:"sentry-recovery-codes.txt",href:"data:text/plain;charset=utf-8,".concat(o),label:(0,m.t)("download"),children:(0,f.tZ)(v.Dj,{})}),(0,f.tZ)(Z.Z,{onConfirm:s,message:(0,m.t)("Are you sure you want to regenerate recovery codes? Your old codes will no longer work."),children:(0,f.tZ)(r.ZP,{priority:"danger",size:"small",children:(0,m.t)("Regenerate Codes")})})]})]}),(0,f.BX)(g.N,{children:[(0,f.tZ)(g.aU,{type:"warning",children:(0,m.t)("Make sure to save a copy of your recovery codes and store them in a safe place.")}),(0,f.tZ)("div",{children:!!n.length&&n.map((e=>(0,f.tZ)(B,{children:e},e)))}),!n.length&&(0,f.tZ)(y.Z,{children:(0,m.t)("You have no more recovery codes to use")})]}),(0,f.tZ)("iframe",{name:"printable",style:{display:"none"}})]})};x.displayName="RecoveryCodes";const w=x,b=(0,o.Z)(g.s_,{target:"e1nntg9l2"})("margin-top:",(0,p.Z)(4),";"),j=(0,o.Z)("div",{target:"e1nntg9l1"})("display:grid;grid-auto-flow:column;grid-gap:",(0,p.Z)(1),";"),B=(0,o.Z)(g.Lv,{target:"e1nntg9l0"})("font-family:",(e=>e.theme.text.familyMono),";padding:",(0,p.Z)(2),";");var k=n("./app/views/settings/account/accountSecurity/components/removeConfirm.tsx"),C=n("./app/views/settings/account/accountSecurity/components/confirmHeader.tsx"),_=n("./app/views/settings/components/text/textBlock.tsx");function S({className:e,isEnrolled:t,devices:n,id:s,onRemoveU2fDevice:o}){if("u2f"!==s||!t)return null;const a=null==n?void 0:n.length,c=1===a;return(0,f.BX)(g.s_,{className:e,children:[(0,f.tZ)(g.V9,{children:(0,m.t)("Device name")}),(0,f.BX)(g.N,{children:[!a&&(0,f.tZ)(y.Z,{children:(0,m.t)("You have not added any U2F devices")}),a&&(null==n?void 0:n.map((e=>(0,f.BX)(E,{children:[(0,f.BX)(X,{children:[(0,f.tZ)(D,{children:e.name}),(0,f.tZ)(R,{date:e.timestamp})]}),(0,f.tZ)(z,{children:(0,f.tZ)(Z.Z,{onConfirm:()=>o(e),disabled:c,message:(0,f.BX)(i.Fragment,{children:[(0,f.tZ)(C.Z,{children:(0,m.t)("Do you want to remove U2F device?")}),(0,f.tZ)(_.Z,{children:(0,m.t)('Are you sure you want to remove the U2F device "'.concat(e.name,'"?'))})]}),children:(0,f.tZ)(r.ZP,{size:"small",priority:"danger",children:(0,f.tZ)(l.Z,{disabled:!c,title:(0,m.t)("Can not remove last U2F device"),children:(0,f.tZ)(v.Fz,{size:"xs"})})})})})]},e.name)))),(0,f.tZ)(P,{children:(0,f.tZ)(r.ZP,{type:"button",to:"/settings/account/security/mfa/u2f/enroll/",size:"small",children:(0,m.t)("Add Another Device")})})]})]})}S.displayName="U2fEnrolledDetails";const E=(0,o.Z)(g.Lv,{target:"eisv0kh6"})({name:"1hcx8jb",styles:"padding:0"}),X=(0,o.Z)("div",{target:"eisv0kh5"})("display:flex;align-items:center;flex:1;padding:",(0,p.Z)(2),";padding-right:0;"),R=(0,o.Z)(d.Z,{target:"eisv0kh4"})("font-size:",(e=>e.theme.fontSizeRelativeSmall),";opacity:0.6;"),D=(0,o.Z)("div",{target:"eisv0kh3"})({name:"82a6rk",styles:"flex:1"}),z=(0,o.Z)("div",{target:"eisv0kh2"})("margin:",(0,p.Z)(2),";"),P=(0,o.Z)(g.Lv,{target:"eisv0kh1"})("justify-content:flex-end;padding:",(0,p.Z)(2),";"),U=(0,o.Z)(S,{target:"eisv0kh0"})("margin-top:",(0,p.Z)(4),";");var N=n("./app/views/settings/components/settingsPageHeader.tsx");const F="/users/me/authenticators/";function A({label:e,date:t}){return(0,f.BX)(i.Fragment,{children:[(0,f.tZ)(H,{children:e}),(0,f.tZ)("div",{children:t?(0,f.tZ)(d.Z,{date:t}):(0,m.t)("never")})]})}A.displayName="AuthenticatorDate";class q extends u.Z{constructor(...e){super(...e),(0,s.Z)(this,"handleRemove",(async e=>{const{authenticator:t}=this.state;if(!t||!t.authId)return;const n=e?"".concat(e.key_handle,"/"):"",s=e?e.name:(0,m.t)("Authenticator");this.setState({loading:!0});try{await this.api.requestPromise("".concat(F).concat(t.authId,"/").concat(n),{method:"DELETE"}),this.props.router.push("/settings/account/security"),(0,a.S9)((0,m.t)("%s has been removed",s))}catch{this.setState({loading:!1}),(0,a.Iw)((0,m.t)("Error removing %s",s))}}))}getTitle(){return(0,m.t)("Security")}getEndpoints(){const{params:e}=this.props,{authId:t}=e;return[["authenticator","".concat(F).concat(t,"/")]]}renderBody(){const{authenticator:e}=this.state;if(!e)return null;const{deleteDisabled:t,onRegenerateBackupCodes:n}=this.props;return(0,f.BX)(i.Fragment,{children:[(0,f.tZ)(N.Z,{title:(0,f.BX)(i.Fragment,{children:[(0,f.tZ)("span",{children:e.name}),(0,f.tZ)(T,{enabled:e.isEnrolled})]}),action:(0,f.BX)(L,{children:[e.isEnrolled&&e.allowRotationInPlace&&(0,f.tZ)(r.ZP,{to:"/settings/account/security/mfa/".concat(e.id,"/enroll/"),children:(0,m.t)("Rotate Secret Key")}),e.isEnrolled&&e.removeButton&&(0,f.tZ)(l.Z,{title:(0,m.t)("Two-factor authentication is required for at least one organization you're a member of."),disabled:!t,children:(0,f.tZ)(k.Z,{onConfirm:this.handleRemove,disabled:t,children:(0,f.tZ)(r.ZP,{priority:"danger",children:e.removeButton})})})]})}),(0,f.tZ)(_.Z,{children:e.description}),(0,f.BX)(V,{children:[(0,f.tZ)(A,{label:(0,m.t)("Created at"),date:e.createdAt}),(0,f.tZ)(A,{label:(0,m.t)("Last used"),date:e.lastUsedAt})]}),(0,f.tZ)(U,{isEnrolled:e.isEnrolled,id:e.id,devices:e.devices,onRemoveU2fDevice:this.handleRemove}),e.isEnrolled&&e.phone&&(0,f.BX)(M,{children:[(0,m.t)("Confirmation codes are sent to the following phone number"),":",(0,f.tZ)(Y,{children:e.phone})]}),(0,f.tZ)(w,{onRegenerateBackupCodes:n,isEnrolled:e.isEnrolled,codes:e.codes})]})}}const I=q,T=(0,o.Z)(c.Z,{target:"e19qrwsm5"})("margin-left:",(0,p.Z)(1),";"),L=(0,o.Z)("div",{target:"e19qrwsm4"})("display:flex;justify-content:center;align-items:center;>*{margin-left:",(0,p.Z)(1),";}"),V=(0,o.Z)("div",{target:"e19qrwsm3"})("display:grid;grid-gap:",(0,p.Z)(2),";grid-template-columns:max-content auto;"),H=(0,o.Z)("span",{target:"e19qrwsm2"})({name:"1efi8gv",styles:"font-weight:bold"}),M=(0,o.Z)("div",{target:"e19qrwsm1"})("margin-top:",(0,p.Z)(4),";"),Y=(0,o.Z)("span",{target:"e19qrwsm0"})("font-weight:bold;margin-left:",(0,p.Z)(1),";")},"./app/views/settings/account/accountSecurity/components/confirmHeader.tsx":(e,t,n)=>{n.d(t,{Z:()=>s});const s=(0,n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js").Z)("div",{target:"e1er9gj10"})({name:"73b5fw",styles:"font-size:1.2em;margin-bottom:10px"})},"./app/views/settings/account/accountSecurity/components/removeConfirm.tsx":(e,t,n)=>{n.d(t,{Z:()=>m});var s=n("../node_modules/react/index.js"),o=n("./app/components/confirm.tsx"),i=n("./app/locale.tsx"),a=n("./app/views/settings/account/accountSecurity/components/confirmHeader.tsx"),r=n("./app/views/settings/components/text/textBlock.tsx"),c=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const d=(0,c.BX)(s.Fragment,{children:[(0,c.tZ)(a.Z,{children:(0,i.t)("Do you want to remove this method?")}),(0,c.tZ)(r.Z,{children:(0,i.t)("Removing the last authentication method will disable two-factor authentication completely.")})]}),l=e=>(0,c.tZ)(o.Z,{...e,message:d});l.displayName="RemoveConfirm";const m=l}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_account_accountSecurity_accountSecurityDetails_tsx.360f4809102b42b22c4bef75ad998238.js.map