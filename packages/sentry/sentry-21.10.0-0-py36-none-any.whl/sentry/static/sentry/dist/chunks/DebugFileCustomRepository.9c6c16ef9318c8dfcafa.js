"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["DebugFileCustomRepository"],{"./app/components/alertLink.tsx":(e,t,n)=>{n.d(t,{Z:()=>u});var a=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(n("../node_modules/react/index.js"),n("../node_modules/lodash/omit.js")),i=n.n(o),r=n("./app/components/links/externalLink.tsx"),s=n("./app/components/links/link.tsx"),l=n("./app/icons/index.tsx"),c=n("./app/styles/space.tsx"),d=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p({size:e="normal",priority:t="warning",icon:n,children:a,onClick:o,withoutMarginBottom:i=!1,openInNewTab:r=!1,to:s,href:c,"data-test-id":p}){return(0,d.BX)(m,{"data-test-id":p,to:s,href:c,onClick:o,size:e,priority:t,withoutMarginBottom:i,openInNewTab:r,children:[n&&(0,d.tZ)(h,{children:n}),(0,d.tZ)(g,{children:a}),(0,d.tZ)(y,{children:(0,d.tZ)(l.g6,{direction:"right"})})]})}p.displayName="AlertLink";const u=p,m=(0,a.Z)((({openInNewTab:e,to:t,href:n,...a})=>{const o=i()(a,["withoutMarginBottom","priority","size"]);return n?(0,d.tZ)(r.Z,{...o,href:n,openInNewTab:e}):(0,d.tZ)(s.Z,{...o,to:t||""})}),{target:"ear9tuy3"})("display:flex;background-color:",(e=>e.theme.alert[e.priority].backgroundLight),";color:",(e=>e.theme.textColor),";border:1px dashed ",(e=>e.theme.alert[e.priority].border),";padding:",(e=>"small"===e.size?"".concat((0,c.Z)(1)," ").concat((0,c.Z)(1.5)):(0,c.Z)(2)),";margin-bottom:",(e=>e.withoutMarginBottom?0:(0,c.Z)(3)),";border-radius:0.25em;transition:0.2s border-color;&.focus-visible{outline:none;box-shadow:",(e=>e.theme.alert[e.priority].border),"7f 0 0 0 2px;}"),h=(0,a.Z)("span",{target:"ear9tuy2"})("display:flex;margin:",(0,c.Z)(.5)," ",(0,c.Z)(1.5)," ",(0,c.Z)(.5)," 0;"),y=(0,a.Z)(h,{target:"ear9tuy1"})("margin:",(0,c.Z)(.5)," 0;"),g=(0,a.Z)("div",{target:"ear9tuy0"})({name:"19lh9qo",styles:"line-height:1.5;flex-grow:1"})},"./app/components/modals/debugFileCustomRepository/index.tsx":(e,t,n)=>{n.r(t),n.d(t,{default:()=>Se,modalCss:()=>Ze});var a=n("../node_modules/react/index.js"),o=n("../node_modules/react-router/es/index.js");const i={native:"Platform-Specific (SymStore / GDB / LLVM)",symstore:"Microsoft SymStore",symstore_index2:"Microsoft SymStore (with index2.txt)",ssqp:"Microsoft SSQP",unified:"Unified Symbol Server Layout",debuginfod:"debuginfod"},r={default:"Default (mixed case)",uppercase:"Uppercase",lowercase:"Lowercase"},s=[["us-east-2","US East (Ohio)"],["us-east-1","US East (N. Virginia)"],["us-west-1","US West (N. California)"],["us-west-2","US West (Oregon)"],["ap-east-1","Asia Pacific (Hong Kong)"],["ap-south-1","Asia Pacific (Mumbai)"],["ap-northeast-2","Asia Pacific (Seoul)"],["ap-southeast-1","Asia Pacific (Singapore)"],["ap-southeast-2","Asia Pacific (Sydney)"],["ap-northeast-1","Asia Pacific (Tokyo)"],["ca-central-1","Canada (Central)"],["cn-north-1","China (Beijing)"],["cn-northwest-1","China (Ningxia)"],["eu-central-1","EU (Frankfurt)"],["eu-west-1","EU (Ireland)"],["eu-west-2","EU (London)"],["eu-west-3","EU (Paris)"],["eu-north-1","EU (Stockholm)"],["sa-east-1","South America (SÃ£o Paulo)"],["us-gov-east-1","AWS GovCloud (US-East)"],["us-gov-west-1","AWS GovCloud (US)"]],l={gcs:"Google Cloud Storage",http:"SymbolServer (HTTP)",s3:"Amazon S3",appStoreConnect:"App Store Connect"};function c(e){var t;return null!==(t=l[e])&&void 0!==t?t:"Unknown"}var d=n("./app/locale.tsx"),p=n("./app/types/debugFiles.tsx"),u=n("./app/views/settings/components/forms/fieldFromConfig.tsx"),m=n("./app/views/settings/components/forms/form.tsx"),h=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),y=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./app/actionCreators/indicator.tsx")),g=n("./app/components/alert.tsx"),f=n("./app/components/alertLink.tsx"),v=n("./app/components/button.tsx"),S=n("./app/components/buttonBar.tsx"),Z=n("./app/components/loadingIndicator.tsx"),b=n("./app/components/projects/appStoreConnectContext/utils.tsx"),w=n("./app/icons/index.tsx"),x=n("./app/styles/space.tsx"),C=n("./app/utils/withApi.tsx"),k=n("./app/views/settings/components/forms/selectField.tsx"),T=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function I({appleStoreOrgs:e,stepFifthData:t,onSetStepFifthData:n}){var a,o;return(0,T.tZ)(A,{name:"organization",label:(0,d.t)("iTunes Organization"),options:e.map((e=>({value:e.organizationId,label:e.name}))),placeholder:(0,d.t)("Select organization"),onChange:t=>{const a=e.find((e=>e.organizationId===t));n({org:a})},value:null!==(a=null===(o=t.org)||void 0===o?void 0:o.organizationId)&&void 0!==a?a:"",inline:!1,flexibleControlStateSize:!0,stacked:!0,required:!0})}I.displayName="StepFifth";const P=I,A=(0,h.Z)(k.Z,{target:"eb6t37s0"})({name:"jjyo93",styles:"padding-right:0"});var E=n("./app/views/settings/components/forms/controls/input.tsx"),N=n("./app/views/settings/components/forms/field/index.tsx");function j({onStartItunesAuthentication:e,onStartSmsAuthentication:t,stepFourData:n,onSetStepFourData:o}){return(0,T.BX)(a.Fragment,{children:[(0,T.tZ)(z,{type:"info",icon:(0,T.tZ)(w.aU,{}),children:(0,T.BX)(_,{children:[(0,d.t)("Did not get a verification code?"),(0,T.BX)(S.ZP,{gap:1,children:[(0,T.tZ)(v.ZP,{size:"small",title:(0,d.t)("Get a new verification code"),onClick:()=>e(!1),icon:(0,T.tZ)(w.tr,{}),children:(0,d.t)("Resend code")}),(0,T.tZ)(v.ZP,{size:"small",title:(0,d.t)("Get a text message with a code"),onClick:()=>t(),icon:(0,T.tZ)(w.yC,{}),children:(0,d.t)("Text me")})]})]})}),(0,T.tZ)(N.Z,{label:(0,d.t)("Two Factor authentication code"),inline:!1,flexibleControlStateSize:!0,stacked:!0,required:!0,children:(0,T.tZ)(E.Z,{type:"text",name:"two-factor-authentication-code",placeholder:(0,d.t)("Enter your code"),value:n.authenticationCode,onChange:e=>o({...n,authenticationCode:e.target.value})})})]})}j.displayName="StepFour";const D=j,z=(0,h.Z)(g.Z,{target:"e1es9r981"})("div{align-items:flex-start;}@media (min-width: ",(e=>e.theme.breakpoints[0]),"){div{align-items:center;}}"),_=(0,h.Z)("div",{target:"e1es9r980"})("display:grid;grid-template-columns:1fr;align-items:center;grid-gap:",(0,x.Z)(2),";@media (min-width: ",(e=>e.theme.breakpoints[0]),"){grid-template-columns:1fr max-content;}");var B=n("./app/components/links/externalLink.tsx"),F=n("./app/views/settings/components/forms/controls/textarea.tsx");function O({stepOneData:e,onSetStepOneData:t}){return(0,T.BX)(a.Fragment,{children:[(0,T.tZ)(g.Z,{type:"info",children:(0,d._N)('Please enter the [docLink:App Store Connect API Key] details. The key needs to have the "Developer" role for Sentry to discover the app builds.',{docLink:(0,T.tZ)(B.Z,{href:"https://developer.apple.com/documentation/appstoreconnectapi/creating_api_keys_for_app_store_connect_api"})})}),(0,T.tZ)(N.Z,{label:(0,d.t)("Issuer"),inline:!1,flexibleControlStateSize:!0,stacked:!0,required:!0,children:(0,T.tZ)(E.Z,{type:"text",name:"issuer",placeholder:(0,d.t)("Issuer"),value:e.issuer,onChange:n=>t({...e,issuer:n.target.value})})}),(0,T.tZ)(N.Z,{label:(0,d.t)("Key ID"),inline:!1,flexibleControlStateSize:!0,stacked:!0,required:!0,children:(0,T.tZ)(E.Z,{type:"text",name:"keyId",placeholder:(0,d.t)("Key Id"),value:e.keyId,onChange:n=>t({...e,keyId:n.target.value})})}),(0,T.tZ)(N.Z,{label:(0,d.t)("Private Key"),inline:!1,flexibleControlStateSize:!0,stacked:!0,required:!0,children:(0,T.tZ)(F.Z,{name:"privateKey",value:e.privateKey,rows:5,autosize:!0,placeholder:void 0===e.privateKey?(0,d.t)("(Private Key unchanged)"):"-----BEGIN PRIVATE KEY-----\n[PRIVATE-KEY]\n-----END PRIVATE KEY-----",onChange:n=>t({...e,privateKey:n.target.value})})})]})}O.displayName="StepOne";const q=O;function K({stepThreeData:e,onSetStepOneData:t}){return(0,T.BX)(a.Fragment,{children:[(0,T.tZ)(g.Z,{type:"info",children:(0,d._N)('Please enter the iTunes credentials that Sentry should use to download dSYMs from App Store Connect. It is recommended to [docLink:create a new Apple ID] with the "Developer" role for this.',{docLink:(0,T.tZ)(B.Z,{href:"https://support.apple.com/en-us/HT204316"})})}),(0,T.tZ)(N.Z,{label:(0,d.t)("Username"),inline:!1,flexibleControlStateSize:!0,stacked:!0,required:!0,children:(0,T.tZ)(E.Z,{type:"text",name:"username",placeholder:(0,d.t)("Username"),value:e.username,onChange:n=>t({...e,username:n.target.value})})}),(0,T.tZ)(N.Z,{label:(0,d.t)("Password"),inline:!1,flexibleControlStateSize:!0,stacked:!0,required:!0,children:(0,T.tZ)(E.Z,{name:"password",type:void 0===e.password?"text":"password",value:e.password,placeholder:void 0===e.password?(0,d.t)("(Password unchanged)"):(0,d.t)("Password"),onChange:n=>t({...e,password:n.target.value})})})]})}K.displayName="StepThree";const U=K;function R({stepTwoData:e,onSetStepTwoData:t,appStoreApps:n}){var a,o;return(0,T.tZ)(L,{name:"application",label:(0,d.t)("App Store Connect application"),options:n.map((e=>({value:e.appId,label:e.name}))),placeholder:(0,d.t)("Select application"),onChange:e=>{const a=n.find((t=>t.appId===e));t({app:a})},value:null!==(a=null===(o=e.app)||void 0===o?void 0:o.appId)&&void 0!==a?a:"",inline:!1,flexibleControlStateSize:!0,stacked:!0,required:!0})}R.displayName="StepTwo";const M=R,L=(0,h.Z)(k.Z,{target:"e18v4sr80"})({name:"jjyo93",styles:"padding-right:0"});var X=n("../node_modules/@sentry/minimal/esm/index.js");const H=(0,d.t)("An unexpected error occurred while configuring the app store connect");function G(e){var t,n,a,o;if("string"==typeof e)return e;if(null!==(t=e.responseJSON)&&void 0!==t&&t.code)return null!==(a=null===(o=e.responseJSON)||void 0===o?void 0:o.code[0])&&void 0!==a?a:H;switch(null===(n=e.responseJSON)||void 0===n?void 0:n.detail.code){case"app-connect-authentication-error":return(0,d.t)("We could not establish a connection with App Store Connect. Please check the entered App Store Connect credentials");case"app-connect-multiple-sources-error":return(0,d.t)("Only one Apple App Store Connect application is allowed in this project");case"itunes-authentication-error":return(0,d.t)("The iTunes authentication failed. Please check the provided credentials");case"itunes-sms-blocked-error":return(0,d.t)("Blocked from requesting more SMS codes for an unspecified period of time");case"itunes-2fa-required":return(0,d.t)("The two factor authentication failed. Please check the entered code");default:return X.Tb(new Error("Unknown app store connect error")),H}}const Y=[(0,d.t)("App Store Connect credentials"),(0,d.t)("Choose an application"),(0,d.t)("Enter iTunes credentials"),(0,d.t)("Enter authentication code"),(0,d.t)("Choose an organization")];function V({Header:e,Body:t,Footer:n,api:o,initialData:i,orgSlug:r,projectSlug:s,onSubmit:l,location:c,appStoreConnectContext:p}){const{updateAlertMessage:u}=null!=p?p:{},[m,h]=(0,a.useState)(c.query.revalidateItunesSession),[x,C]=(0,a.useState)(!1),[k,I]=(0,a.useState)(m?3:0),[A,E]=(0,a.useState)([]),[N,j]=(0,a.useState)([]),[z,_]=(0,a.useState)(void 0),[B,F]=(0,a.useState)({issuer:null==i?void 0:i.appconnectIssuer,keyId:null==i?void 0:i.appconnectKey,privateKey:"object"==typeof(null==i?void 0:i.appconnectPrivateKey)?void 0:""}),[O,K]=(0,a.useState)({app:null!=i&&i.appId&&null!=i&&i.appName?{appId:i.appId,name:i.appName,bundleId:i.bundleId}:void 0}),[R,L]=(0,a.useState)({username:null==i?void 0:i.itunesUser,password:"object"==typeof(null==i?void 0:i.itunesPassword)?void 0:""}),[X,H]=(0,a.useState)({authenticationCode:void 0}),[V,W]=(0,a.useState)({org:null!=i&&i.orgPublicId&&null!=i&&i.name?{organizationId:i.orgPublicId,name:i.name}:void 0});async function ie(e=!1){C(!0);try{const t=await o.requestPromise("/projects/".concat(r,"/").concat(s,"/appstoreconnect/2fa/"),{method:"POST",data:{code:X.authenticationCode,sessionContext:z}}),{organizations:n,sessionContext:a}=t;if(e)return void re(a);_(a),j(n),W({org:n[0]}),C(!1),le()}catch(e){C(!1),(0,y.Iw)(G(e))}}async function re(e){if(!O.app||!V.org||!R.username)return;C(!0);let t="/projects/".concat(r,"/").concat(s,"/appstoreconnect/"),n=(0,d.t)("An error occurred while adding the custom repository"),a=(0,d.t)("Successfully added custom repository");i&&(t="".concat(t).concat(i.id,"/"),n=(0,d.t)("An error occurred while updating the custom repository"),a=(0,d.t)("Successfully updated custom repository"));try{await o.requestPromise(t,{method:"POST",data:{itunesUser:R.username,itunesPassword:R.password,appconnectIssuer:B.issuer,appconnectKey:B.keyId,appconnectPrivateKey:B.privateKey,appName:O.app.name,appId:O.app.appId,bundleId:O.app.bundleId,orgId:V.org.organizationId,orgName:V.org.name,sessionContext:null!=e?e:z}}),(0,y.S9)(a),l()}catch(e){var c,p;if(C(!1),"string"!=typeof e&&"app-connect-multiple-sources-error"===(null===(c=e.responseJSON)||void 0===c||null===(p=c.detail)||void 0===p?void 0:p.code))return void(0,y.Iw)(G(e));(0,y.Iw)(n)}}function se(){switch(k){case 0:return Object.keys(B).some((e=>("privateKey"!==e||void 0!==B[e])&&!B[e]));case 1:return Object.keys(O).some((e=>!O[e]));case 2:return Object.keys(R).some((e=>("password"!==e||void 0!==R[e])&&!R[e]));case 3:return Object.keys(X).some((e=>!X[e]));case 4:return Object.keys(V).some((e=>!V[e]));default:return!1}}function le(){I(k+1)}async function ce(e=!0){e&&C(!0);try{const t=await o.requestPromise("/projects/".concat(r,"/").concat(s,"/appstoreconnect/start/"),{method:"POST",data:{id:void 0!==R.password||null==i?void 0:i.id,itunesUser:R.username,itunesPassword:R.password}});if(_(t.sessionContext),e)return C(!1),void le();(0,y.S9)((0,d.t)("An iTunes verification code has been sent"))}catch(t){e&&C(!1),(0,y.Iw)(G(t))}}async function de(){try{const e=await o.requestPromise("/projects/".concat(r,"/").concat(s,"/appstoreconnect/requestSms/"),{method:"POST",data:{sessionContext:z}});_(e.sessionContext),(0,y.S9)((0,d.t)("We've sent a SMS code to your phone"))}catch(e){(0,y.Iw)(G(e))}}function pe(){switch(k){case 0:return(0,T.tZ)(q,{stepOneData:B,onSetStepOneData:F});case 1:return(0,T.tZ)(M,{appStoreApps:A,stepTwoData:O,onSetStepTwoData:K});case 2:return(0,T.tZ)(U,{stepThreeData:R,onSetStepOneData:L});case 3:return(0,T.tZ)(D,{stepFourData:X,onSetStepFourData:H,onStartItunesAuthentication:ce,onStartSmsAuthentication:de});case 4:return(0,T.tZ)(P,{appleStoreOrgs:N,stepFifthData:V,onSetStepFifthData:W});default:return(0,T.tZ)(g.Z,{type:"error",icon:(0,T.tZ)(w.FC,{}),children:(0,d.t)("This step could not be found.")})}}function ue(){const e=function(){const e=[];return m?(!u&&m&&e.push((0,T.tZ)(oe,{type:"warning",icon:(0,T.tZ)(w.FC,{}),children:(0,d.t)("Your iTunes session has already been re-validated.")})),e):(0!==k||(u===b.R.appStoreCredentialsInvalid&&e.push((0,T.tZ)(oe,{type:"warning",icon:(0,T.tZ)(w.FC,{}),children:(0,d.t)("Your App Store Connect credentials are invalid. To reconnect, update your credentials.")})),u===b.R.iTunesSessionInvalid&&e.push((0,T.tZ)(f.Z,{withoutMarginBottom:!0,icon:(0,T.tZ)(w.FC,{}),to:{pathname:c.pathname,query:{...c.query,revalidateItunesSession:!0}},children:(0,d.t)("Your iTunes session has expired. To reconnect, revalidate the session.")}))),e)}();return(0,T.BX)(a.Fragment,{children:[!!e.length&&(0,T.tZ)(ae,{marginBottom:3===k?1.5:3,children:e.map(((e,t)=>(0,T.tZ)(a.Fragment,{children:e},t)))}),pe()]})}return(0,a.useEffect)((()=>{c.query.revalidateItunesSession&&!m&&(C(!0),h(c.query.revalidateItunesSession))}),[c.query]),(0,a.useEffect)((()=>{if(m)return ce(!1),3!==k&&I(3),void C(!1);C(!1)}),[m]),i&&!p?(0,T.tZ)(Z.Z,{}):m?(0,T.BX)(a.Fragment,{children:[(0,T.tZ)(e,{closeButton:!0,children:(0,T.tZ)($,{children:(0,d.t)("Revalidate iTunes session")})}),(0,T.tZ)(t,{children:ue()}),(0,T.tZ)(n,{children:(0,T.tZ)(ne,{priority:"primary",onClick:()=>ie(!0),disabled:x||se(),children:(0,d.t)("Revalidate")})})]}):(0,T.BX)(a.Fragment,{children:[(0,T.tZ)(e,{closeButton:!0,children:(0,T.BX)(J,{children:[(0,T.tZ)(Q,{children:k+1}),(0,T.tZ)($,{children:Y[k]}),(0,T.tZ)(ee,{children:(0,d._N)("[currentStep] of [totalSteps]",{currentStep:k+1,totalSteps:Y.length})})]})}),(0,T.tZ)(t,{children:ue()}),(0,T.tZ)(n,{children:(0,T.BX)(S.ZP,{gap:1,children:[0!==k&&(0,T.tZ)(v.ZP,{onClick:function(){const e=k-1;switch(e){case 3:ce(!1),H({authenticationCode:void 0})}I(e)},children:(0,d.t)("Back")}),(0,T.BX)(ne,{priority:"primary",onClick:function(){switch(k){case 0:!async function(){C(!0);try{const e=await o.requestPromise("/projects/".concat(r,"/").concat(s,"/appstoreconnect/apps/"),{method:"POST",data:{id:void 0!==B.privateKey||null==i?void 0:i.id,appconnectIssuer:B.issuer,appconnectKey:B.keyId,appconnectPrivateKey:B.privateKey}});E(e.apps),K({app:e.apps[0]}),C(!1),le()}catch(e){C(!1),(0,y.Iw)(G(e))}}();break;case 1:le();break;case 2:ce();break;case 3:ie();break;case 4:re()}},disabled:x||se(),children:[x&&(0,T.tZ)(te,{children:(0,T.tZ)(Z.Z,{mini:!0})}),k+1===Y.length?i?(0,d.t)("Update"):(0,d.t)("Save"):Y[k+1]]})]})})]})}V.displayName="AppStoreConnect";const W=(0,C.Z)(V),J=(0,h.Z)("div",{target:"e1sz93bw7"})("display:grid;grid-template-columns:max-content max-content 1fr;align-items:center;grid-gap:",(0,x.Z)(1),";"),Q=(0,h.Z)("div",{target:"e1sz93bw6"})("border-radius:50%;display:flex;align-items:center;justify-content:center;width:24px;height:24px;font-weight:700;font-size:",(e=>e.theme.fontSizeMedium),";background-color:",(e=>e.theme.yellow300),";"),$=(0,h.Z)("div",{target:"e1sz93bw5"})("font-weight:700;font-size:",(e=>e.theme.fontSizeExtraLarge),";"),ee=(0,h.Z)("div",{target:"e1sz93bw4"})("color:",(e=>e.theme.gray300),";display:flex;justify-content:flex-end;"),te=(0,h.Z)("div",{target:"e1sz93bw3"})({name:"34k26a",styles:"height:100%;position:absolute;width:100%;top:0;left:0;display:flex;align-items:center;justify-content:center"}),ne=(0,h.Z)(v.ZP,{target:"e1sz93bw2"})({name:"bjn8wh",styles:"position:relative"}),ae=(0,h.Z)("div",{target:"e1sz93bw1"})("display:grid;grid-gap:",(0,x.Z)(1.5),";margin-bottom:",(e=>(0,x.Z)(e.marginBottom)),";"),oe=(0,h.Z)(g.Z,{target:"e1sz93bw0"})({name:"ti75j2",styles:"margin:0"});var ie=n("./app/components/actions/button.tsx"),re=n("./app/icons/iconClose.tsx"),se=n("./app/styles/input.tsx"),le=n("./app/utils/guid.tsx");const ce=se.c+22;function de({Header:e,Body:t,Footer:n,onSubmit:o,...s}){var c,p,u,m,h,y,g,f;const S={name:null===(c=s.initialData)||void 0===c?void 0:c.name,url:null===(p=s.initialData)||void 0===p?void 0:p.url,username:null===(u=s.initialData)||void 0===u?void 0:u.username,password:"object"==typeof(null===(m=s.initialData)||void 0===m?void 0:m.password)?void 0:"","layout.type":null!==(h=null===(y=s.initialData)||void 0===y?void 0:y.layout.type)&&void 0!==h?h:"native","layout.casing":null!==(g=null===(f=s.initialData)||void 0===f?void 0:f.layout.casing)&&void 0!==g?g:"default"},[Z,b]=(0,a.useState)(S);return(0,T.BX)(a.Fragment,{children:[(0,T.tZ)(e,{closeButton:!0,children:S?(0,d._N)("Update [name] Repository",{name:l.http}):(0,d._N)("Add [name] Repository",{name:l.http})}),(0,T.BX)(t,{children:[(0,T.tZ)(N.Z,{label:(0,d.t)("Name"),inline:!1,help:(0,d.t)("A display name for this repository"),flexibleControlStateSize:!0,stacked:!0,required:!0,children:(0,T.tZ)(E.Z,{type:"text",name:"name",placeholder:(0,d.t)("New Repository"),value:Z.name,onChange:e=>b({...Z,name:e.target.value})})}),(0,T.tZ)("hr",{}),(0,T.tZ)(N.Z,{label:(0,d.t)("Download Url"),inline:!1,help:(0,d.t)("Full URL to the symbol server"),flexibleControlStateSize:!0,stacked:!0,required:!0,children:(0,T.tZ)(E.Z,{type:"text",name:"url",placeholder:"https://msdl.microsoft.com/download/symbols/",value:Z.url,onChange:e=>b({...Z,url:e.target.value})})}),(0,T.tZ)(N.Z,{label:(0,d.t)("User"),inline:!1,help:(0,d.t)("User for HTTP basic auth"),flexibleControlStateSize:!0,stacked:!0,children:(0,T.tZ)(E.Z,{type:"text",name:"username",placeholder:"admin",value:Z.username,onChange:e=>b({...Z,username:e.target.value})})}),(0,T.BX)(N.Z,{label:(0,d.t)("Password"),inline:!1,help:(0,d.t)("Password for HTTP basic auth"),flexibleControlStateSize:!0,stacked:!0,children:[(0,T.tZ)(me,{type:void 0===Z.password?"text":"password",name:"url",placeholder:void 0===Z.password?(0,d.t)("(Password unchanged)"):"open-sesame",value:Z.password,onChange:e=>b({...Z,password:e.target.value})}),(void 0===Z.password||"string"==typeof Z.password&&!!Z.password)&&(0,T.tZ)(he,{onClick:function(){b({...Z,password:""})},icon:(0,T.tZ)(re.b,{size:"14px"}),size:"xsmall",title:(0,d.t)("Clear password"),label:(0,d.t)("Clear password"),borderless:!0})]}),(0,T.tZ)("hr",{}),(0,T.tZ)(ue,{name:"layout.type",label:(0,d.t)("Directory Layout"),help:(0,d.t)("The layout of the folder structure."),options:Object.keys(i).map((e=>({value:e,label:i[e]}))),value:Z["layout.type"],onChange:e=>b({...Z,"layout.type":e}),inline:!1,flexibleControlStateSize:!0,stacked:!0}),(0,T.tZ)(ue,{name:"layout.casing",label:(0,d.t)("Path Casing"),help:(0,d.t)("The case of files and folders."),options:Object.keys(r).map((e=>({value:e,label:r[e]}))),value:Z["layout.casing"],onChange:e=>b({...Z,"layout.casing":e}),inline:!1,flexibleControlStateSize:!0,stacked:!0})]}),(0,T.tZ)(n,{children:(0,T.tZ)(v.ZP,{onClick:function(){const e=Z;o({id:(0,le.E)(),name:e.name,url:e.url,"layout.type":e["layout.type"],"layout.casing":e["layout.casing"],username:e.username,password:void 0===e.password?{"hidden-secret":!0}:e.password?e.password:void 0})},priority:"primary",disabled:!Z.name||!Z.url||Z===S,children:(0,d.t)("Save changes")})})]})}de.displayName="Http";const pe=de,ue=(0,h.Z)(k.Z,{target:"e1hkzht82"})({name:"jjyo93",styles:"padding-right:0"}),me=(0,h.Z)(E.Z,{target:"e1hkzht81"})("padding-right:",ce,"px;"),he=(0,h.Z)(ie.Z,{target:"e1hkzht80"})("background:transparent;height:",22,"px;width:",22,"px;padding:0;position:absolute;top:50%;right:",(0,x.Z)(.75),";transform:translateY(-50%);svg{color:",(e=>e.theme.gray400),";:hover{color:hsl(0, 0%, 60%);}}");function ye(e){return Object.entries(e).map((([e,t])=>[e,(0,d.t)(t)]))}const ge={id:{name:"id",type:"hidden",required:!0,defaultValue:()=>Math.random().toString(36).substring(2)},name:{name:"name",type:"string",required:!0,label:(0,d.t)("Name"),placeholder:(0,d.t)("New Repository"),help:(0,d.t)("A display name for this repository")},layoutType:{name:"layout.type",type:"select",label:(0,d.t)("Directory Layout"),help:(0,d.t)("The layout of the folder structure."),defaultValue:"native",choices:ye(i)},layoutCasing:{name:"layout.casing",type:"select",label:(0,d.t)("Path Casing"),help:(0,d.t)("The case of files and folders."),defaultValue:"default",choices:ye(r)},prefix:{name:"prefix",type:"string",label:"Root Path",placeholder:"/",help:(0,d.t)("The path at which files are located within this repository.")},separator:{name:"",type:"separator"}};function fe(e,t){var n,a;if(e===p.Et.HTTP||e===p.Et.APP_STORE_CONNECT)return t;switch(e){case"s3":return{...t,secret_key:null!==(n=t.secret_key)&&void 0!==n?n:{"hidden-secret":!0}};case"gcs":return{...t,private_key:null!==(a=t.private_key)&&void 0!==a?a:{"hidden-secret":!0}};default:return X.Tb(new Error("Unknown custom repository type")),{}}}function ve({Header:e,Body:t,Footer:n,onSave:o,sourceConfig:i,sourceType:r,params:{orgId:l,projectId:h},location:y,appStoreConnectContext:g,closeModal:f}){function v(e){if(!e)return f(),void window.location.reload();o({...fe(r,e),type:r}).then((()=>{f()}))}if(r===p.Et.APP_STORE_CONNECT)return(0,T.tZ)(W,{Header:e,Body:t,Footer:n,orgSlug:l,projectSlug:h,onSubmit:v,initialData:i,location:y,appStoreConnectContext:g});if(r===p.Et.HTTP)return(0,T.tZ)(pe,{Header:e,Body:t,Footer:n,onSubmit:v,initialData:i});const{initialData:S,fields:Z}=function(e,t){if(e===p.Et.HTTP||e===p.Et.APP_STORE_CONNECT)return{};const{secret_key:n,layout:a,private_key:o,...i}=null!=t?t:{},r=a?{...i,"layout.casing":a.casing,"layout.type":a.type}:i;switch(e){case"s3":return{fields:[ge.id,ge.name,ge.separator,{name:"bucket",type:"string",required:!0,label:(0,d.t)("Bucket"),placeholder:"s3-bucket-name",help:(0,d.t)("Name of the S3 bucket. Read permissions are required to download symbols.")},{name:"region",type:"select",required:!0,label:(0,d.t)("Region"),help:(0,d.t)("The AWS region and availability zone of the bucket."),choices:s.map((([e,t])=>[e,(0,T.BX)("span",{children:[(0,T.tZ)("code",{children:e})," ",t]},e)]))},{name:"access_key",type:"string",required:!0,label:(0,d.t)("Access Key ID"),placeholder:"AKIAIOSFODNN7EXAMPLE",help:(0,d._N)("Access key to the AWS account. Credentials can be managed in the [link].",{link:(0,T.tZ)(B.Z,{href:"https://console.aws.amazon.com/iam/",children:"IAM console"})})},{name:"secret_key",type:"string",required:!0,label:(0,d.t)("Secret Access Key"),placeholder:"object"==typeof n?(0,d.t)("(Secret Access Key unchanged)"):"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"},ge.separator,ge.prefix,ge.layoutType,ge.layoutCasing],initialData:r?{...r,secret_key:void 0}:void 0};case"gcs":return{fields:[ge.id,ge.name,ge.separator,{name:"bucket",type:"string",required:!0,label:(0,d.t)("Bucket"),placeholder:"gcs-bucket-name",help:(0,d.t)("Name of the GCS bucket. Read permissions are required to download symbols.")},{name:"client_email",type:"email",required:!0,label:(0,d.t)("Client Email"),placeholder:"user@project.iam.gserviceaccount.com",help:(0,d.t)("Email address of the GCS service account.")},{name:"private_key",type:"string",required:!0,multiline:!0,autosize:!0,maxRows:5,rows:3,label:(0,d.t)("Private Key"),placeholder:"object"==typeof o?(0,d.t)("(Private Key unchanged)"):"-----BEGIN PRIVATE KEY-----\n[PRIVATE-KEY]\n-----END PRIVATE KEY-----",help:(0,d._N)("The service account key. Credentials can be managed on the [link].",{link:(0,T.tZ)(B.Z,{href:"https://console.cloud.google.com/project/_/iam-admin",children:"IAM & Admin Page"})})},ge.separator,ge.prefix,ge.layoutType,ge.layoutCasing],initialData:r?{...r,private_key:void 0}:void 0};default:return X.Tb(new Error("Unknown custom repository type")),{}}}(r,i);return(0,T.BX)(a.Fragment,{children:[(0,T.tZ)(e,{closeButton:!0,children:i?(0,d._N)("Update [name] Repository",{name:c(r)}):(0,d._N)("Add [name] Repository",{name:c(r)})}),Z&&(0,T.tZ)(m.Z,{allowUndo:!0,requireChanges:!0,initialData:S,onSubmit:v,footerClass:"modal-footer",children:Z.map(((e,t)=>(0,T.tZ)(u.Z,{field:e,inline:!1,stacked:!0},e.name||t)))})]})}ve.displayName="DebugFileCustomRepository";const Se=(0,o.withRouter)(ve),Ze={name:"16o92yp",styles:"width:100%;max-width:680px"}},"./app/components/projects/appStoreConnectContext/utils.tsx":(e,t,n)=>{n.d(t,{R:()=>o,t:()=>i});var a=n("./app/locale.tsx");const o={iTunesSessionInvalid:(0,a.t)("The iTunes session of your configured App Store Connect needs to be refreshed."),appStoreCredentialsInvalid:(0,a.t)("The credentials of your configured App Store Connect are invalid.")};function i(e){return e.promptItunesSession?o.iTunesSessionInvalid:!1===e.appstoreCredentialsValid?o.appStoreCredentialsInvalid:void 0}},"./app/types/debugFiles.tsx":(e,t,n)=>{let a,o,i;n.d(t,{BQ:()=>a,Wi:()=>o,Et:()=>i}),function(e){e.EXE="exe",e.DBG="dbg",e.LIB="lib"}(a||(a={})),function(e){e.SYMTAB="symtab",e.DEBUG="debug",e.UNWIND="unwind",e.SOURCES="sources"}(o||(o={})),function(e){e.HTTP="http",e.S3="s3",e.GCS="gcs",e.APP_STORE_CONNECT="appStoreConnect"}(i||(i={}))},"./app/utils/useApi.tsx":(e,t,n)=>{n.d(t,{Z:()=>i});var a=n("../node_modules/react/index.js"),o=n("./app/api.tsx");const i=function({persistInFlight:e,api:t}={}){const n=(0,a.useRef)();void 0===n.current&&void 0===t&&(n.current=new o.KU);const i=null!=t?t:n.current;function r(){!e&&i.clear()}return(0,a.useEffect)((()=>r),[]),i}},"./app/utils/withApi.tsx":(e,t,n)=>{n.d(t,{Z:()=>r});var a=n("./app/utils/getDisplayName.tsx"),o=n("./app/utils/useApi.tsx"),i=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const r=(e,t={})=>{const n=({api:n,...a})=>{const r=(0,o.Z)({api:n,...t});return(0,i.tZ)(e,{...a,api:r})};return n.displayName="withApi(".concat((0,a.Z)(e),")"),n}}}]);
//# sourceMappingURL=../sourcemaps/DebugFileCustomRepository.71567adeab7221b10451708a05ad9e41.js.map