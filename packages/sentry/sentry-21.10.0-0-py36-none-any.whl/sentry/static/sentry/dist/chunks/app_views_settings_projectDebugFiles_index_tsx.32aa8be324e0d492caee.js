(self.webpackChunk=self.webpackChunk||[]).push([["app_views_settings_projectDebugFiles_index_tsx"],{"./app/components/acl/role.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var o=s("../node_modules/react/index.js"),i=s("./app/stores/configStore.tsx"),n=s("./app/utils/isActiveSuperuser.tsx"),r=s("./app/utils/isRenderFunc.tsx"),a=s("./app/utils/withOrganization.tsx");class l extends o.Component{hasRole(){var e;const t=i.Z.get("user"),{organization:s,role:o}=this.props,{availableRoles:r}=s,a=null!==(e=s.role)&&void 0!==e?e:"";if(!t)return!1;if((0,n.M)())return!0;if(!Array.isArray(r))return!1;const l=r.map((e=>e.id));if(!l.includes(o)||!l.includes(a))return!1;const c=l.indexOf(o);return l.indexOf(a)>=c}render(){const{children:e}=this.props,t=this.hasRole();return(0,r.l)(e)?e({hasRole:t}):t&&e?e:null}}l.displayName="Role";const c=(0,a.Z)(l)},"./app/components/confirmDelete.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var o=s("../node_modules/react/index.js"),i=s("./app/components/alert.tsx"),n=s("./app/components/confirm.tsx"),r=s("./app/locale.tsx"),a=s("./app/views/settings/components/forms/controls/input.tsx"),l=s("./app/views/settings/components/forms/field/index.tsx"),c=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const d=({message:e,confirmInput:t,...s})=>(0,c.tZ)(n.Z,{...s,bypass:!1,disableConfirmButton:!0,renderMessage:({disableConfirmButton:s})=>(0,c.BX)(o.Fragment,{children:[(0,c.tZ)(i.Z,{type:"error",children:e}),(0,c.tZ)(l.Z,{flexibleControlStateSize:!0,inline:!1,label:(0,r.t)("Please enter %s to confirm the deletion",(0,c.tZ)("code",{children:t})),children:(0,c.tZ)(a.Z,{type:"text",placeholder:t,onChange:e=>s(e.target.value!==t)})})]})});d.displayName="ConfirmDelete";const p=d},"./app/components/fileSize.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=s("./app/utils.tsx"),n=s("./app/utils/getDynamicText.tsx"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){const{className:t,bytes:s}=e;return(0,r.tZ)(l,{className:t,children:(0,n.Z)({value:(0,i.F)(s),fixed:"xx KB"})})}a.displayName="FileSize";const l=(0,o.Z)("span",{target:"e1xn0mc30"})({name:"kow0uz",styles:"font-variant-numeric:tabular-nums"}),c=a},"./app/components/notAvailable.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(s("../node_modules/react/index.js"),s("./app/components/tooltip.tsx")),n=s("./app/utils.tsx"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a({tooltip:e,className:t}){return(0,r.tZ)(l,{className:t,children:(0,r.tZ)(i.Z,{title:e,disabled:!(0,n.ri)(e),children:"—"})})}a.displayName="NotAvailable";const l=(0,o.Z)("div",{target:"e1ickyb10"})("color:",(e=>e.theme.gray200),";"),c=a},"./app/components/projects/appStoreConnectContext/index.tsx":(e,t,s)=>{"use strict";s.d(t,{zt:()=>l,ZP:()=>c}),s("../node_modules/core-js/modules/web.dom-collections.iterator.js");var o=s("../node_modules/react/index.js"),i=s("./app/utils/useApi.tsx"),n=s("./app/components/projects/appStoreConnectContext/utils.tsx"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const a=(0,o.createContext)(void 0),l=({children:e,project:t,organization:s})=>{const l=(0,i.Z)(),[c,d]=(0,o.useState)(),[p,u]=(0,o.useState)(void 0),m=s.slug;return(0,o.useEffect)((()=>{!async function(){if(t&&!c)if(t.symbolSources)d(t);else try{const e=await l.requestPromise("/projects/".concat(m,"/").concat(t.slug,"/"));d(e)}catch{}}()}),[t]),(0,o.useEffect)((()=>{!async function(){if(!c)return;const e=null===(s=((t=c.symbolSources)?JSON.parse(t):[]).find((e=>"appstoreconnect"===e.type.toLowerCase())))||void 0===s?void 0:s.id;var t,s;if(e)try{const t=await l.requestPromise("/projects/".concat(m,"/").concat(c.slug,"/appstoreconnect/validate/").concat(e,"/"));u({id:e,...t})}catch{}}()}),[c]),(0,r.tZ)(a.Provider,{value:p?{...p,updateAlertMessage:(0,n.t)(p)}:void 0,children:e})};l.displayName="Provider",a.Consumer;const c=a},"./app/components/projects/appStoreConnectContext/utils.tsx":(e,t,s)=>{"use strict";s.d(t,{R:()=>i,t:()=>n});var o=s("./app/locale.tsx");const i={iTunesSessionInvalid:(0,o.t)("The iTunes session of your configured App Store Connect needs to be refreshed."),appStoreCredentialsInvalid:(0,o.t)("The credentials of your configured App Store Connect are invalid.")};function n(e){return e.promptItunesSession?i.iTunesSessionInvalid:!1===e.appstoreCredentialsValid?i.appStoreCredentialsInvalid:void 0}},"./app/types/debugFiles.tsx":(e,t,s)=>{"use strict";let o,i,n;s.d(t,{BQ:()=>o,Wi:()=>i,Et:()=>n}),function(e){e.EXE="exe",e.DBG="dbg",e.LIB="lib"}(o||(o={})),function(e){e.SYMTAB="symtab",e.DEBUG="debug",e.UNWIND="unwind",e.SOURCES="sources"}(i||(i={})),function(e){e.HTTP="http",e.S3="s3",e.GCS="gcs",e.APP_STORE_CONNECT="appStoreConnect"}(n||(n={}))},"./app/utils/isActiveSuperuser.tsx":(e,t,s)=>{"use strict";s.d(t,{M:()=>r});var o=s("../node_modules/js-cookie/src/js.cookie.js"),i=s.n(o),n=s("./app/stores/configStore.tsx");function r(){const{isSuperuser:e}=n.Z.get("user")||{};return!(!e||(i().set("su","test"),void 0!==i().get("su")))}},"./app/utils/routeTitle.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const o=function(e,t,s=!0,o){const i="".concat(e," - ").concat(t),n=o?"".concat(i," - ").concat(o):i;return s?"".concat(n," - Sentry"):n}},"./app/views/asyncView.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a}),s("../node_modules/react/index.js");var o=s("../node_modules/react-document-title/index.js"),i=s.n(o),n=s("./app/components/asyncComponent.tsx"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class a extends n.Z{getTitle(){return""}render(){const e=this.getTitle();return(0,r.tZ)(i(),{title:"".concat(e?"".concat(e," - "):"","Sentry"),children:this.renderComponent()})}}a.displayName="AsyncView"},"./app/views/settings/project/permissionAlert.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c}),s("../node_modules/react/index.js");var o=s("./app/components/acl/access.tsx"),i=s("./app/components/alert.tsx"),n=s("./app/icons/index.tsx"),r=s("./app/locale.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=({access:e=["project:write"],...t})=>(0,a.tZ)(o.Z,{access:e,children:({hasAccess:e})=>!e&&(0,a.tZ)(i.Z,{type:"warning",icon:(0,a.tZ)(n.FC,{size:"xs"}),...t,children:(0,r.t)("These settings can only be edited by users with the organization owner, manager, or admin role.")})});l.displayName="PermissionAlert";const c=l},"./app/views/settings/projectDebugFiles/index.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>tt});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=(s("../node_modules/core-js/modules/web.dom-collections.iterator.js"),s("../node_modules/react/index.js")),r=s("./app/actionCreators/indicator.tsx"),a=s("./app/actions/projectActions.tsx"),l=s("./app/components/checkbox.tsx"),c=s("./app/components/pagination.tsx"),d=s("./app/components/panels/index.tsx"),p=s("./app/components/searchBar.tsx"),u=s("./app/locale.tsx"),m=s("./app/styles/space.tsx"),g=s("./app/utils/routeTitle.tsx"),h=s("./app/views/asyncView.tsx"),y=s("./app/views/settings/components/settingsPageHeader.tsx"),Z=s("./app/views/settings/components/text/textBlock.tsx"),f=s("./app/views/settings/project/permissionAlert.tsx"),b=s("./app/components/acl/access.tsx"),x=s("./app/components/acl/role.tsx"),v=s("./app/components/button.tsx"),S=s("./app/components/buttonBar.tsx"),w=s("./app/components/confirm.tsx"),C=s("./app/components/fileSize.tsx"),j=s("./app/components/tag.tsx"),E=s("./app/components/timeSince.tsx"),T=s("./app/components/tooltip.tsx"),D=s("./app/icons/index.tsx"),_=s("./app/styles/overflowEllipsis.tsx"),N=s("./app/views/settings/projectDebugFiles/utils.tsx"),B=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const z=({debugFile:e,showDetails:t,downloadUrl:s,downloadRole:o,onDelete:i})=>{const{id:r,data:a,debugId:l,uuid:c,size:d,dateCreated:p,objectName:m,cpuName:g,symbolType:h,codeId:y}=e,Z=(0,N.J)(e),{features:f}=a||{};return(0,B.BX)(n.Fragment,{children:[(0,B.BX)(k,{children:[(0,B.tZ)("div",{children:(0,B.tZ)(O,{children:l||c})}),(0,B.BX)(F,{children:[(0,B.tZ)(M,{bytes:d}),(0,B.BX)(X,{children:[(0,B.tZ)(D.jo,{size:"xs"}),(0,B.tZ)(E.Z,{date:p})]})]})]}),(0,B.BX)(k,{children:[(0,B.tZ)(q,{children:"proguard"===h&&"proguard-mapping"===m?"―":m}),(0,B.BX)(L,{children:[(0,B.tZ)(R,{children:"proguard"===h&&"any"===g?(0,u.t)("proguard mapping"):"".concat(g," (").concat(h).concat(Z?" ".concat(Z):"",")")}),f&&(0,B.tZ)(P,{children:f.map((e=>(0,B.tZ)(A,{tooltipText:(0,N.V)(e),children:e},e)))}),t&&(0,B.tZ)("div",{children:y&&(0,B.BX)(U,{children:[(0,u.t)("Code ID"),": ",y]})})]})]}),(0,B.tZ)(I,{children:(0,B.BX)(S.ZP,{gap:.5,children:[(0,B.tZ)(x.Z,{role:o,children:({hasRole:e})=>(0,B.tZ)(T.Z,{disabled:e,title:(0,u.t)("You do not have permission to download debug files."),children:(0,B.tZ)(v.ZP,{size:"xsmall",icon:(0,B.tZ)(D.Dj,{size:"xs"}),href:s,disabled:!e,children:(0,u.t)("Download")})})}),(0,B.tZ)(b.Z,{access:["project:write"],children:({hasAccess:e})=>(0,B.tZ)(T.Z,{disabled:e,title:(0,u.t)("You do not have permission to delete debug files."),children:(0,B.tZ)(w.Z,{confirmText:(0,u.t)("Delete"),message:(0,u.t)("Are you sure you wish to delete this file?"),onConfirm:()=>i(r),disabled:!e,children:(0,B.tZ)(v.ZP,{priority:"danger",icon:(0,B.tZ)(D.Fz,{size:"xs"}),size:"xsmall",disabled:!e,"data-test-id":"delete-dif"})})})})]})})]})};z.displayName="DebugFileRow";const R=(0,i.Z)("span",{target:"e1imnv3r11"})("display:inline-flex;margin:0 ",(0,m.Z)(1)," ",(0,m.Z)(1)," 0;"),P=(0,i.Z)("div",{target:"e1imnv3r10"})("display:inline-flex;flex-wrap:wrap;margin:-",(0,m.Z)(.5),";"),A=(0,i.Z)(j.Z,{target:"e1imnv3r9"})("padding:",(0,m.Z)(.5),";"),k=(0,i.Z)("div",{target:"e1imnv3r8"})({name:"6kz1wu",styles:"display:flex;flex-direction:column;align-items:flex-start"}),I=(0,i.Z)("div",{target:"e1imnv3r7"})("display:flex;justify-content:flex-end;align-items:flex-start;margin-top:",(0,m.Z)(1),";"),O=(0,i.Z)("code",{target:"e1imnv3r6"})("font-size:",(e=>e.theme.fontSizeSmall),";"),F=(0,i.Z)("div",{target:"e1imnv3r5"})("width:100%;display:flex;font-size:",(e=>e.theme.fontSizeSmall),";margin-top:",(0,m.Z)(1),";color:",(e=>e.theme.subText),";align-items:center;"),M=(0,i.Z)(C.Z,{target:"e1imnv3r4"})("flex:1;padding-left:",(0,m.Z)(.5),";"),X=(0,i.Z)("div",{target:"e1imnv3r3"})("display:grid;grid-gap:",(0,m.Z)(.5),";grid-template-columns:min-content 1fr;flex:2;align-items:center;padding-left:",(0,m.Z)(.5),";"),q=(0,i.Z)("div",{target:"e1imnv3r2"})("font-size:",(e=>e.theme.fontSizeMedium),";margin-bottom:",(0,m.Z)(1),";"),L=(0,i.Z)("div",{target:"e1imnv3r1"})("font-size:",(e=>e.theme.fontSizeSmall),";color:",(e=>e.theme.subText),";@media (max-width: ",(e=>e.theme.breakpoints[2]),"){line-height:1.7;}"),U=(0,i.Z)("div",{target:"e1imnv3r0"})(_.Z," margin-top:",(0,m.Z)(1),";"),V=z;var G=s("./app/views/settings/components/forms/selectField.tsx");function W({api:e,organization:t,builtinSymbolSourceOptions:s,builtinSymbolSources:o,projSlug:i}){return(0,B.BX)(d.s_,{children:[(0,B.tZ)(d.V9,{children:(0,u.t)("Built-in Repositories")}),(0,B.tZ)(d.N,{children:(0,B.tZ)(G.Z,{name:"builtinSymbolSources",label:(0,u.t)("Built-in Repositories"),help:(0,u.t)("Configures which built-in repositories Sentry should use to resolve debug files."),placeholder:(0,u.t)("Select built-in repository"),value:o,onChange:async function(s){const{successMessage:n,errorMessage:l}=0===(c=(null!=s?s:[]).length)?{errorMessage:(0,u.t)("This field requires at least one built-in repository")}:c>o.length?{successMessage:(0,u.t)("Successfully added built-in repository"),errorMessage:(0,u.t)("An error occurred while adding new built-in repository")}:{successMessage:(0,u.t)("Successfully removed built-in repository"),errorMessage:(0,u.t)("An error occurred while removing built-in repository")};var c;try{const o=await e.requestPromise("/projects/".concat(t.slug,"/").concat(i,"/"),{method:"PUT",data:{builtinSymbolSources:s}});a.Z.updateSuccess(o),(0,r.S9)(n)}catch{(0,r.Iw)(l)}},choices:null==s?void 0:s.filter((e=>!e.hidden)).map((e=>[e.sentry_key,(0,u.t)(e.name)])),getValue:e=>null===e?[]:e,flexibleControlStateSize:!0,multiple:!0})})]})}W.displayName="BuiltInRepositories";const Q=W;var Y=s("./app/actionCreators/modal.tsx"),H=s("./app/components/dropdownAutoComplete/index.tsx"),K=s("./app/components/dropdownButton.tsx"),J=s("./app/components/emptyStateWarning.tsx"),$=s("./app/components/hookOrDefault.tsx"),ee=s("./app/components/menuItem.tsx"),te=s("./app/components/projects/appStoreConnectContext/index.tsx"),se=s("./app/types/debugFiles.tsx"),oe=s("./app/utils.tsx"),ie=s("./app/components/actions/button.tsx"),ne=s("./app/components/actions/menuItemActionLink.tsx"),re=s("./app/components/confirmDelete.tsx"),ae=s("./app/components/dropdownLink.tsx"),le=s("./app/icons/iconEllipsis.tsx");function ce({repositoryName:e,repositoryType:t,isDetailsExpanded:s,isDetailsDisabled:o,onToggleDetails:i,onEdit:r,onDelete:a,showDetails:l}){function c(s){return(0,B.tZ)(re.Z,{confirmText:(0,u.t)("Delete Repository"),message:t===se.Et.APP_STORE_CONNECT?(0,B.BX)(n.Fragment,{children:[(0,B.tZ)(Z.Z,{children:(0,B.tZ)("strong",{children:(0,u.t)("Removing App Store Connect symbol source does not remove current dSYMs.")})}),(0,B.tZ)(Z.Z,{children:(0,u.t)('The App Store Connect symbol source periodically imports dSYMs into the "Uploaded debug information files". Removing this symbol source does not delete those files and they will remain available for symbolication until deleted directly.')})]}):(0,B.BX)(n.Fragment,{children:[(0,B.tZ)(Z.Z,{children:(0,B.tZ)("strong",{children:(0,u.t)("Removing this repository applies instantly to new events.")})}),(0,B.tZ)(Z.Z,{children:(0,u.t)("Debug files from this repository will not be used to symbolicate future events. This may create new issues and alert members in your organization.")})]}),confirmInput:e,priority:"danger",onConfirm:a,children:s})}return(0,B.BX)(me,{gap:1,children:[l&&(0,B.tZ)(ue,{isOpen:s,size:"small",onClick:o?void 0:i,hideBottomBorder:!1,disabled:o,children:(0,u.t)("Details")}),(0,B.tZ)(ge,{onClick:r,size:"small",children:(0,u.t)("Configure")}),c((0,B.tZ)(ge,{size:"small",children:(0,u.t)("Delete")})),(0,B.tZ)(he,{children:(0,B.BX)(ae.Z,{caret:!1,customTitle:(0,B.tZ)(pe,{label:(0,u.t)("Actions"),icon:(0,B.tZ)(le.Y,{})}),anchorRight:!0,children:[(0,B.tZ)(ne.Z,{title:(0,u.t)("Configure"),onClick:r,children:(0,u.t)("Configure")}),c((0,B.tZ)(ne.Z,{title:(0,u.t)("Delete"),children:(0,u.t)("Delete")}))]})})]})}ce.displayName="Actions";const de=ce,pe=(0,i.Z)(ie.Z,{target:"e13e2cy4"})({name:"s0vnfv",styles:"height:32px"}),ue=(0,i.Z)(K.Z,{target:"e13e2cy3"})("border-bottom-right-radius:",(e=>e.theme.borderRadius),";border-bottom-left-radius:",(e=>e.theme.borderRadius),";"),me=(0,i.Z)(S.ZP,{target:"e13e2cy2"})("@media (min-width: ",(e=>e.theme.breakpoints[0]),"){grid-row:1/3;}@media (max-width: ",(e=>e.theme.breakpoints[0]),"){grid-auto-flow:row;grid-gap:",(0,m.Z)(1),";margin-top:",(0,m.Z)(.5),";}"),ge=(0,i.Z)(v.ZP,{target:"e13e2cy1"})("@media (min-width: ",(e=>e.theme.breakpoints[0]),"){display:none;}"),he=(0,i.Z)("div",{target:"e13e2cy0"})("@media (max-width: ",(e=>e.theme.breakpoints[0]),"){display:none;}");var ye=s("./app/components/dateTime.tsx"),Ze=s("./app/components/notAvailable.tsx");function fe({details:e}){const{latestBuildVersion:t,latestBuildNumber:s,lastCheckedBuilds:o}=null!=e?e:{};return(0,B.BX)(xe,{children:[(0,u.t)("Last detected version"),(0,B.tZ)(ve,{children:t?(0,u._N)("v[version]",{version:t}):(0,B.tZ)(Ze.Z,{tooltip:(0,u.t)("Not available")})}),(0,u.t)("Last detected build"),(0,B.tZ)(ve,{children:null!=s?s:(0,B.tZ)(Ze.Z,{tooltip:(0,u.t)("Not available")})}),(0,u.t)("Detected last build on"),(0,B.tZ)(ve,{children:o?(0,B.tZ)(ye.Z,{date:o}):(0,B.tZ)(Ze.Z,{tooltip:(0,u.t)("Not available")})})]})}fe.displayName="Details";const be=fe,xe=(0,i.Z)("div",{target:"e16lztiv1"})("display:grid;grid-gap:",(0,m.Z)(1),";margin-top:",(0,m.Z)(.5),";align-items:center;font-size:",(e=>e.theme.fontSizeSmall),";font-weight:700;@media (min-width: ",(e=>e.theme.breakpoints[0]),"){margin-top:",(0,m.Z)(1),";grid-template-columns:max-content 1fr;grid-gap:",(0,m.Z)(1),";grid-row:3/3;grid-column:1/-1;}"),ve=(0,i.Z)("div",{target:"e16lztiv0"})("font-weight:400;white-space:pre-wrap;word-break:break-all;padding:",(0,m.Z)(1)," ",(0,m.Z)(1.5),";font-family:",(e=>e.theme.text.familyMono),";background-color:",(e=>e.theme.backgroundSecondary),";@media (max-width: ",(e=>e.theme.breakpoints[0]),"){:not(:last-child){margin-bottom:",(0,m.Z)(1),";}}");var Se=s("../node_modules/@emotion/react/dist/emotion-element-a8309070.browser.esm.js"),we=s("./app/components/placeholder.tsx"),Ce=s("./app/icons/iconDownload.tsx"),je=s("./app/icons/iconRefresh.tsx"),Ee=s("./app/icons/iconWarning.tsx");const Te=function({details:e,onEditRepository:t,onRevalidateItunesSession:s}){const o=(0,Se.u)();if(!e)return(0,B.tZ)(we.Z,{height:"14px"});const{pendingDownloads:i,promptItunesSession:n,appstoreCredentialsValid:r,lastCheckedBuilds:a}=null!=e?e:{};return n?(0,B.BX)(De,{color:o.red300,onClick:s,children:[(0,B.tZ)(_e,{title:(0,u.t)("Revalidate your iTunes session"),containerDisplayMode:"inline-flex",children:(0,B.tZ)(Ee.F,{size:"sm"})}),(0,u.t)("iTunes Authentication required")]}):!1===r?(0,B.BX)(De,{color:o.red300,onClick:t,children:[(0,B.tZ)(_e,{title:(0,u.t)("Recheck your App Store Credentials"),containerDisplayMode:"inline-flex",children:(0,B.tZ)(Ee.F,{size:"sm"})}),(0,u.t)("Credentials are invalid")]}):i?(0,B.BX)(De,{color:o.gray400,children:[(0,B.tZ)(Ne,{children:(0,B.tZ)(Ce.D,{size:"sm"})}),(0,u.tn)("%s build pending","%s builds pending",i)]}):a?(0,B.BX)(De,{color:o.gray400,children:[(0,B.tZ)(Ne,{children:(0,B.tZ)(je.t,{size:"sm"})}),(0,B.tZ)(E.Z,{date:a})]}):null},De=(0,i.Z)("div",{target:"e1d42htv2"})("display:grid;grid-template-columns:repeat(2, max-content);align-items:center;grid-gap:",(0,m.Z)(.75),";color:",(e=>e.color),";font-size:",(e=>e.theme.fontSizeMedium),";height:14px;",(e=>e.onClick&&"cursor: pointer"),";"),_e=(0,i.Z)(T.Z,{target:"e1d42htv1"})({name:"m44gc5",styles:"margin-top:-5px;height:14px"}),Ne=(0,i.Z)("div",{target:"e1d42htv0"})({name:"m44gc5",styles:"margin-top:-5px;height:14px"});var Be=s("../node_modules/lodash/forEach.js"),ze=s.n(Be),Re=s("../node_modules/lodash/set.js"),Pe=s.n(Re);const Ae={[se.Et.APP_STORE_CONNECT]:"App Store Connect",[se.Et.HTTP]:"SymbolServer (HTTP)",[se.Et.S3]:"Amazon S3",[se.Et.GCS]:"Google Cloud Storage"},ke=[{value:se.Et.S3,label:Ae[se.Et.S3],searchKey:(0,u.t)("aws amazon s3 bucket")},{value:se.Et.GCS,label:Ae[se.Et.GCS],searchKey:(0,u.t)("gcs google cloud storage bucket")},{value:se.Et.HTTP,label:Ae[se.Et.HTTP],searchKey:(0,u.t)("http symbol server ssqp symstore symsrv")}];function Ie(e){const t={};return ze()(e,((e,s)=>{Pe()(t,s.split("."),e)})),t}function Oe({repository:e,onDelete:t,onEdit:s}){const[o,i]=(0,n.useState)(!1),{id:r,name:a,type:l}=e;return(0,B.BX)(Me,{children:[(0,B.tZ)(Xe,{children:a}),(0,B.BX)(qe,{children:[Ae[l],e.type===se.Et.APP_STORE_CONNECT&&(0,B.tZ)(Te,{details:e.details,onEditRepository:()=>s(r),onRevalidateItunesSession:()=>s(r,!0)})]}),(0,B.tZ)(de,{repositoryName:a,repositoryType:l,onDelete:()=>t(r),onEdit:()=>s(r),showDetails:e.type===se.Et.APP_STORE_CONNECT,isDetailsDisabled:e.type===se.Et.APP_STORE_CONNECT&&void 0===e.details,isDetailsExpanded:o,onToggleDetails:()=>i(!o)}),e.type===se.Et.APP_STORE_CONNECT&&o&&(0,B.tZ)(be,{details:e.details})]})}Oe.displayName="Repository";const Fe=Oe,Me=(0,i.Z)(d.Lv,{target:"e12m310s2"})("display:grid;grid-template-columns:1fr;row-gap:",(0,m.Z)(1),";@media (min-width: ",(e=>e.theme.breakpoints[0]),"){grid-template-columns:1fr max-content;grid-template-rows:repeat(2, max-content);}"),Xe=(0,i.Z)("div",{target:"e12m310s1"})("@media (min-width: ",(e=>e.theme.breakpoints[0]),"){grid-row:1/2;}"),qe=(0,i.Z)("div",{target:"e12m310s0"})("color:",(e=>e.theme.gray400),";font-size:",(e=>e.theme.fontSizeMedium),";display:grid;grid-gap:",(0,m.Z)(1.5),";align-items:center;@media (min-width: ",(e=>e.theme.breakpoints[0]),"){grid-template-columns:max-content minmax(200px, max-content);grid-row:2/3;grid-gap:",(0,m.Z)(1),";}"),Le=(0,$.Z)({hookName:"component:disabled-app-store-connect-item",defaultComponent:({children:e})=>(0,B.tZ)(n.Fragment,{children:e})});function Ue({api:e,organization:t,customRepositories:s,projSlug:o,router:i,location:l}){var c;const p=(0,n.useContext)(te.ZP);(0,n.useEffect)((()=>{!function(){const{customRepository:e}=l.query;if(!e)return;const t=s.findIndex((t=>t.id===e)),o=s[t];o&&(0,Y.openDebugFileSourceModal)({sourceConfig:o,sourceType:o.type,appStoreConnectContext:p,onSave:e=>y({updatedItem:e,index:t}),onClose:Z})}()}),[l.query,p]);const m=t.slug,g=!(null===(c=t.features)||void 0===c||!c.includes("app-store-connect-multiple")),h=!!s.find((e=>e.type===se.Et.APP_STORE_CONNECT));function y({updatedItems:t,updatedItem:i,index:n,refresh:l}){let c=null!=t?t:[];i&&(0,oe.ri)(n)&&(c=[...s],c.splice(n,1,i));const{successMessage:d,errorMessage:p}=(g=c.length)>(h=s.length)?{successMessage:(0,u.t)("Successfully added custom repository"),errorMessage:(0,u.t)("An error occurred while adding a new custom repository")}:g<h?{successMessage:(0,u.t)("Successfully removed custom repository"),errorMessage:(0,u.t)("An error occurred while removing the custom repository")}:{successMessage:(0,u.t)("Successfully updated custom repository"),errorMessage:(0,u.t)("An error occurred while updating the custom repository")};var g,h;const y=JSON.stringify(c.map(Ie)),Z=e.requestPromise("/projects/".concat(m,"/").concat(o,"/"),{method:"PUT",data:{symbolSources:y}});return Z.catch((()=>{(0,r.Iw)(p)})),Z.then((e=>{a.Z.updateSuccess(e),(0,r.S9)(d),l&&window.location.reload()})),Z}function Z(){i.push({...l,query:{...l.query,customRepository:void 0,revalidateItunesSession:void 0}})}function f(e){(0,Y.openDebugFileSourceModal)({sourceType:e,onSave:e=>y({updatedItems:[...s,e]})})}function b(e){const t=[...s],o=t.findIndex((t=>t.id===e));t.splice(o,1),y({updatedItems:t,refresh:s[o].type===se.Et.APP_STORE_CONNECT})}function x(e,t){i.push({...l,query:{...l.query,customRepository:e,revalidateItunesSession:t}})}return p||ke.find((e=>e.value===se.Et.APP_STORE_CONNECT))||ke.push({value:se.Et.APP_STORE_CONNECT,label:Ae[se.Et.APP_STORE_CONNECT],searchKey:(0,u.t)("apple store connect itunes ios")}),(0,B.BX)(d.s_,{children:[(0,B.BX)(d.V9,{hasButtons:!0,children:[(0,u.t)("Custom Repositories"),(0,B.tZ)(H.Z,{alignMenu:"right",onSelect:e=>{f(e.value)},items:ke.map((e=>{const t=e.value===se.Et.APP_STORE_CONNECT&&h&&!g;return{...e,value:e.value,disabled:t,label:(0,B.tZ)(Le,{disabled:t,onTrialStarted:()=>{f(e.value)},children:(0,B.tZ)(Ge,{disabled:t,children:e.label})})}})),children:({isOpen:e})=>(0,B.tZ)(K.Z,{isOpen:e,size:"small",children:(0,u.t)("Add Repository")})})]}),(0,B.tZ)(d.N,{children:s.length?s.map(((e,t)=>{const s={...e};return s.type===se.Et.APP_STORE_CONNECT&&s.id===(null==p?void 0:p.id)&&(s.details=p),(0,B.tZ)(Fe,{repository:s,onDelete:b,onEdit:x},t)})):(0,B.tZ)(J.Z,{children:(0,B.tZ)("p",{children:(0,u.t)("No custom repositories configured")})})})]})}Ue.displayName="CustomRepositories";const Ve=Ue,Ge=(0,i.Z)(ee.Z,{target:"eyit68d0"})("color:",(e=>e.theme.textColor),";font-size:",(e=>e.theme.fontSizeMedium),";font-weight:400;text-transform:none;span{padding:0;}");function We({api:e,organization:t,customRepositories:s,builtinSymbolSources:o,builtinSymbolSourceOptions:i,projSlug:r,location:a,router:l}){return(0,B.BX)(n.Fragment,{children:[(0,B.tZ)(Q,{api:e,organization:t,builtinSymbolSources:o,builtinSymbolSourceOptions:i,projSlug:r}),(0,B.tZ)(Ve,{api:e,location:a,router:l,organization:t,customRepositories:s,projSlug:r})]})}We.displayName="ExternalSources";const Qe=We;class Ye extends h.Z{constructor(...e){super(...e),(0,o.Z)(this,"handleDelete",(e=>{const{orgId:t,projectId:s}=this.props.params;this.setState({loading:!0}),this.api.request("/projects/".concat(t,"/").concat(s,"/files/dsyms/?id=").concat(e),{method:"DELETE",complete:()=>this.fetchData()})})),(0,o.Z)(this,"handleSearch",(e=>{const{location:t,router:s}=this.props;s.push({...t,query:{...t.query,cursor:void 0,query:e}})}))}getTitle(){const{projectId:e}=this.props.params;return(0,g.Z)((0,u.t)("Debug Files"),e,!1)}getDefaultState(){return{...super.getDefaultState(),project:this.props.project,showDetails:!1}}getEndpoints(){const{organization:e,params:t,location:s}=this.props,{builtinSymbolSources:o}=this.state||{},{orgId:i,projectId:n}=t,{query:r}=s.query,a=[["debugFiles","/projects/".concat(i,"/").concat(n,"/files/dsyms/"),{query:{query:r,file_formats:["breakpad","macho","elf","pe","pdb","sourcebundle","wasm","bcsymbolmap","uuidmap"]}}]];return!o&&e.features.includes("symbol-sources")&&a.push(["builtinSymbolSources","/builtin-symbol-sources/",{}]),a}async fetchProject(){const{params:e}=this.props,{orgId:t,projectId:s}=e;try{const e=await this.api.requestPromise("/projects/".concat(t,"/").concat(s,"/"));a.Z.updateSuccess(e)}catch{(0,r.Iw)((0,u.t)("An error occured while fetching project data"))}}getQuery(){const{query:e}=this.props.location.query;return"string"==typeof e?e:void 0}getEmptyMessage(){return this.getQuery()?(0,u.t)("There are no debug symbols that match your search."):(0,u.t)("There are no debug symbols for this project.")}renderLoading(){return this.renderBody()}renderDebugFiles(){const{debugFiles:e,showDetails:t}=this.state,{organization:s,params:o}=this.props,{orgId:i,projectId:n}=o;return null!=e&&e.length?e.map((e=>{const o="".concat(this.api.baseUrl,"/projects/").concat(i,"/").concat(n,"/files/dsyms/?id=").concat(e.id);return(0,B.tZ)(V,{debugFile:e,showDetails:t,downloadUrl:o,downloadRole:s.debugFilesRole,onDelete:this.handleDelete},e.id)})):null}renderBody(){var e;const{organization:t,project:s,router:o,location:i}=this.props,{loading:r,showDetails:a,builtinSymbolSources:d,debugFiles:m,debugFilesPageLinks:g}=this.state,{features:h}=t;return(0,B.BX)(n.Fragment,{children:[(0,B.tZ)(y.Z,{title:(0,u.t)("Debug Information Files")}),(0,B.tZ)(Z.Z,{children:(0,u.t)("\n            Debug information files are used to convert addresses and minified\n            function names from native crash reports into function names and\n            locations.\n          ")}),h.includes("symbol-sources")&&(0,B.BX)(n.Fragment,{children:[(0,B.tZ)(f.Z,{}),(0,B.tZ)(Qe,{api:this.api,location:i,router:o,projSlug:s.slug,organization:t,customRepositories:s.symbolSources?JSON.parse(s.symbolSources):[],builtinSymbolSources:null!==(e=s.builtinSymbolSources)&&void 0!==e?e:[],builtinSymbolSourceOptions:null!=d?d:[]})]}),(0,B.BX)(Je,{children:[(0,B.tZ)(Z.Z,{noMargin:!0,children:(0,u.t)("Uploaded debug information files")}),(0,B.BX)($e,{children:[(0,B.BX)(et,{children:[(0,B.tZ)(l.Z,{checked:a,onChange:e=>{this.setState({showDetails:e.target.checked})}}),(0,u.t)("show details")]}),(0,B.tZ)(p.Z,{placeholder:(0,u.t)("Search DIFs"),onSearch:this.handleSearch,query:this.getQuery()})]})]}),(0,B.tZ)(He,{headers:[(0,u.t)("Debug ID"),(0,u.t)("Information"),(0,B.tZ)(Ke,{children:(0,u.t)("Actions")},"actions")],emptyMessage:this.getEmptyMessage(),isEmpty:0===(null==m?void 0:m.length),isLoading:r,children:this.renderDebugFiles()}),(0,B.tZ)(c.Z,{pageLinks:g})]})}}const He=(0,i.Z)(d.KB,{target:"e1l178ju4"})({name:"l40ow2",styles:"grid-template-columns:37% 1fr auto"}),Ke=(0,i.Z)("div",{target:"e1l178ju3"})({name:"2qga7i",styles:"text-align:right"}),Je=(0,i.Z)("div",{target:"e1l178ju2"})("display:grid;grid-template-columns:auto 1fr;grid-gap:",(0,m.Z)(4),";align-items:center;margin-top:",(0,m.Z)(4),";margin-bottom:",(0,m.Z)(1),";@media (max-width: ",(e=>e.theme.breakpoints[0]),"){display:block;}"),$e=(0,i.Z)("div",{target:"e1l178ju1"})("display:grid;grid-template-columns:min-content minmax(200px, 400px);align-items:center;justify-content:flex-end;grid-gap:",(0,m.Z)(2),";@media (max-width: ",(e=>e.theme.breakpoints[0]),"){grid-template-columns:min-content 1fr;}"),et=(0,i.Z)("label",{target:"e1l178ju0"})("font-weight:normal;display:flex;margin-bottom:0;white-space:nowrap;input{margin-top:0;margin-right:",(0,m.Z)(1),";}"),tt=Ye},"./app/views/settings/projectDebugFiles/utils.tsx":(e,t,s)=>{"use strict";s.d(t,{J:()=>n,V:()=>r});var o=s("./app/locale.tsx"),i=s("./app/types/debugFiles.tsx");function n(e){var t;switch(null===(t=e.data)||void 0===t?void 0:t.type){case i.BQ.EXE:return(0,o.t)("executable");case i.BQ.DBG:return(0,o.t)("debug companion");case i.BQ.LIB:return(0,o.t)("dynamic library");default:return null}}function r(e){switch(e){case i.Wi.SYMTAB:return(0,o.t)("Symbol tables are used as a fallback when full debug information is not available");case i.Wi.DEBUG:return(0,o.t)("Debug information provides function names and resolves inlined frames during symbolication");case i.Wi.UNWIND:return(0,o.t)("Stack unwinding information improves the quality of stack traces extracted from minidumps");case i.Wi.SOURCES:return(0,o.t)("Source code information allows Sentry to display source code context for stack frames");default:return null}}},"../node_modules/lodash/forEach.js":(e,t,s)=>{var o=s("../node_modules/lodash/_arrayEach.js"),i=s("../node_modules/lodash/_baseEach.js"),n=s("../node_modules/lodash/_castFunction.js"),r=s("../node_modules/lodash/isArray.js");e.exports=function(e,t){return(r(e)?o:i)(e,n(t))}}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_projectDebugFiles_index_tsx.44fe74b133b7416f73cacf721428a0d2.js.map