"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["app_views_settings_organizationAuditLog_index_tsx"],{"./app/utils/routeTitle.tsx":(e,t,n)=>{n.d(t,{Z:()=>i});const i=function(e,t,n=!0,i){const s="".concat(e," - ").concat(t),r=i?"".concat(s," - ").concat(i):s;return n?"".concat(r," - Sentry"):r}},"./app/views/asyncView.tsx":(e,t,n)=>{n.d(t,{Z:()=>o}),n("../node_modules/react/index.js");var i=n("../node_modules/react-document-title/index.js"),s=n.n(i),r=n("./app/components/asyncComponent.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class o extends r.Z{getTitle(){return""}render(){const e=this.getTitle();return(0,a.tZ)(s(),{title:"".concat(e?"".concat(e," - "):"","Sentry"),children:this.renderComponent()})}}o.displayName="AsyncView"},"./app/views/settings/organizationAuditLog/index.tsx":(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var i=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=(n("../node_modules/core-js/modules/web.dom-collections.iterator.js"),n("../node_modules/react-router/es/index.js")),r=n("./app/locale.tsx"),a=n("./app/utils/routeTitle.tsx"),o=n("./app/utils/withOrganization.tsx"),d=n("./app/views/asyncView.tsx"),c=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),l=n("./app/components/avatar/userAvatar.tsx"),p=n("./app/components/dateTime.tsx"),m=n("./app/components/forms/selectField.tsx"),h=n("./app/components/pagination.tsx"),u=n("./app/components/panels/index.tsx"),g=n("./app/components/tooltip.tsx"),v=n("./app/styles/overflowEllipsis.tsx"),y=n("./app/styles/space.tsx"),Z=n("./app/views/settings/components/emptyMessage.tsx"),x=n("./app/views/settings/components/settingsPageHeader.tsx"),b=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const w={width:36,height:36,marginRight:8},f=({pageLinks:e,entries:t,eventType:n,eventTypes:i,onEventSelect:s})=>{const a=t&&t.length>0,o=[{value:"",label:(0,r.t)("Any action"),clearableVaue:!1},...i.map((e=>({label:e,value:e,clearableValue:!1})))],d=(0,b.tZ)("form",{children:(0,b.tZ)(m.Z,{name:"event",onChange:s,value:n,style:{width:250},options:o})});return(0,b.BX)("div",{children:[(0,b.tZ)(x.Z,{title:(0,r.t)("Audit Log"),action:d}),(0,b.BX)(u.s_,{children:[(0,b.BX)(A,{disablePadding:!0,children:[(0,b.tZ)("div",{children:(0,r.t)("Member")}),(0,b.tZ)("div",{children:(0,r.t)("Action")}),(0,b.tZ)("div",{children:(0,r.t)("IP")}),(0,b.tZ)("div",{children:(0,r.t)("Time")})]}),(0,b.BX)(u.N,{children:[!a&&(0,b.tZ)(Z.Z,{children:(0,r.t)("No audit entries available")}),a&&t.map((e=>(0,b.BX)(T,{center:!0,children:[(0,b.BX)(j,{children:[(0,b.tZ)("div",{children:e.actor.email&&(0,b.tZ)(l.Z,{style:w,user:e.actor})}),(0,b.BX)(k,{children:[(0,b.tZ)(q,{"data-test-id":"actor-name",children:e.actor.isSuperuser?(0,r.t)("%s (Sentry Staff)",e.actor.name):e.actor.name}),(0,b.tZ)(L,{children:e.note})]})]}),(0,b.tZ)("div",{children:(0,b.tZ)(_,{children:e.event})}),(0,b.tZ)(z,{children:(0,b.tZ)(g.Z,{title:e.ipAddress,disabled:e.ipAddress&&e.ipAddress.length<=15,children:(0,b.tZ)(_,{children:e.ipAddress})})}),(0,b.BX)(S,{children:[(0,b.tZ)(p.Z,{dateOnly:!0,date:e.dateCreated}),(0,b.tZ)(p.Z,{timeOnly:!0,format:"LT zz",date:e.dateCreated})]})]},e.id)))]})]}),e&&(0,b.tZ)(h.Z,{pageLinks:e})]})};f.displayName="AuditLogList";const j=(0,c.Z)("div",{target:"e1haq54w8"})({name:"1euw9bb",styles:"display:flex;line-height:1.2;font-size:13px;flex:1"}),k=(0,c.Z)("div",{target:"e1haq54w7"})({name:"16mmcnu",styles:"display:flex;flex-direction:column;justify-content:center"}),q=(0,c.Z)("div",{target:"e1haq54w6"})({name:"75grts",styles:"font-weight:600;font-size:15px"}),L=(0,c.Z)("div",{target:"e1haq54w5"})({name:"1kjqhvu",styles:"font-size:13px;word-break:break-word"}),z=(0,c.Z)("div",{target:"e1haq54w4"})(v.Z,";"),_=(0,c.Z)("code",{target:"e1haq54w3"})("font-size:",(e=>e.theme.fontSizeMedium),";"),A=(0,c.Z)(u.V9,{target:"e1haq54w2"})("display:grid;grid-template-columns:1fr max-content 130px 150px;grid-column-gap:",(0,y.Z)(2),";padding:",(0,y.Z)(2),";"),T=(0,c.Z)(u.Lv,{target:"e1haq54w1"})("display:grid;grid-template-columns:1fr max-content 130px 150px;grid-column-gap:",(0,y.Z)(2),";padding:",(0,y.Z)(2),";"),S=(0,c.Z)("div",{target:"e1haq54w0"})("display:grid;grid-template-rows:auto auto;grid-gap:",(0,y.Z)(1),";font-size:",(e=>e.theme.fontSizeMedium),";"),B=f,X=["member.invite","member.add","member.accept-invite","member.remove","member.edit","member.join-team","member.leave-team","member.pending","team.create","team.edit","team.remove","project.create","project.edit","project.remove","project.set-public","project.set-private","project.request-transfer","project.accept-transfer","org.create","org.edit","org.remove","org.restore","tagkey.remove","projectkey.create","projectkey.edit","projectkey.remove","projectkey.enable","projectkey.disable","sso.enable","sso.disable","sso.edit","sso-identity.link","api-key.create","api-key.edit","api-key.remove","rule.create","rule.edit","rule.remove","servicehook.create","servicehook.edit","servicehook.remove","servicehook.enable","servicehook.disable","integration.add","integration.edit","integration.remove","ondemand.edit","trial.started","plan.changed","plan.cancelled"];class C extends d.Z{constructor(...e){super(...e),(0,i.Z)(this,"handleEventSelect",(e=>{this.props.location.query.event!==e&&s.browserHistory.push({pathname:this.props.location.pathname,search:"?event=".concat(e)})}))}getEndpoints(){return[["entryList","/organizations/".concat(this.props.params.orgId,"/audit-logs/"),{query:this.props.location.query}]]}getTitle(){return(0,a.Z)((0,r.t)("Audit Log"),this.props.organization.slug,!1)}renderBody(){const e=this.props.location.query.event;return(0,b.tZ)(B,{entries:this.state.entryList,pageLinks:this.state.entryListPageLinks,eventType:e,eventTypes:X,onEventSelect:this.handleEventSelect,...this.props})}}const E=(0,o.Z)(C)}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_organizationAuditLog_index_tsx.06164b3388a699218cb2d2c0a000f3a4.js.map