(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{766:function(e,t,a){"use strict";var n=a(20),r=a(21),i=a(23),c=a(22),o=a(0),l=a.n(o),s=a(121),u=a(16),p=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).loadBarFocus=!0,e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"componentWillUnmount",value:function(){this.loadBarFocus=!1}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.props.children)}}]),a}(l.a.Component);t.a=s.a(u.b,p)},767:function(e,t,a){},768:function(e,t,a){},769:function(e,t,a){"use strict";var n=a(4),r=a(20),i=a(21),c=a(23),o=a(22),l=(a(767),a(0)),s=a.n(l),u=(a(59),a(29)),p=a(15),m=a(16),d=(a(43),a(768),a(770)),h=a(121),f=a(19),v=a(766),b=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=Object(f.g)({HubWrapper:!0,gap:this.props.gap});return s.a.createElement(v.a,null,s.a.createElement(d.Helmet,null,s.a.createElement("title",null,"Aim: ".concat(this.props.project.path))),s.a.createElement("div",{className:e},s.a.createElement("div",{className:"HubWrapper__cont"},this.props.children)))}}]),a}(s.a.Component);b.defaultProps={gap:!0};var g=h.a(m.s,b),E=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).getHeaderHeight=function(){return 0},n._renderNav=function(){return n.props.nav.length?s.a.createElement("nav",{className:"ProjectWrapper__navbar"},n.props.nav.map(function(e,t){return s.a.createElement("div",{className:Object(f.g)({ProjectWrapper__navbar__item:!0,active:e.active}),key:t,onClick:function(){return e.onClick||{}}},e.icon,e.title)})):null},n._renderHeader=function(){return null},n._renderContent=function(){n.props.project;return n.props.isUpdating?null:s.a.createElement("div",{className:Object(f.g)({ProjectWrapper:!0,gap:n.props.gap})},s.a.createElement("div",{className:"ProjectWrapper__header",ref:n.projectWrapperHeaderRef},n._renderHeader()),s.a.createElement("div",{className:"ProjectWrapper__body"},!!n.props.navigation&&s.a.createElement("div",{className:"ProjectWrapper__navigation"},s.a.cloneElement(n.props.navigation,{contentWidth:n.props.contentWidth})),s.a.createElement("div",{className:"ProjectWrapper__cont",ref:n.contentRef},n.props.children)))},n.state={notFound:!1,isLoading:!0},n.projectWrapperHeaderRef=s.a.createRef(),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.getProjectData().then(function(t){e.props.getProjectParams(),e.props.incProgress()}).catch(function(){e.setState({notFound:!0})}),this.setState(function(e){return Object(n.a)(Object(n.a)({},e),{},{isLoading:!1})})}},{key:"render",value:function(){return this.props.isLoading?null:this.state.notFound?s.a.createElement(u.a,{to:p.v}):s.a.createElement(g,{gap:!1},this._renderContent())}}]),a}(s.a.Component);E.defaultProps={nav:[],gap:!0,size:"fluid"};t.a=h.a(m.q,E)},790:function(e,t,a){"use strict";var n=a(1),r=a(4),i=a(20),c=a(21),o=a(23),l=a(22),s=(a(791),a(0)),u=a.n(s),p=a(43),m=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var c;return Object(i.a)(this,a),(c=t.call(this,e)).getForm=function(){return Object(r.a)({},c.state)},c.handleInputChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=e.target.value,r=e.target.name;c.setState(Object(n.a)({},r,a),function(){t&&t(e)})},c.parseParameter=function(e){if(null==e)return[];for(var t=e.split(" ").filter(function(e){return""!==e}),a=0;a<t.length;a++)t[a].startsWith("--")&&a+1<t.length&&(t[a]=t[a].concat(" ",t[a+1]));for(var n=t.filter(function(e){return e.includes("-")}),r=0,i=0;i<n.length;i++){var c=n[i].length;n[i]={value:n[i],start:r,end:r+c+1,index:i},r+=c+1}return n},c.parseEV=function(e){if(null==e)return[];for(var t=e.split(" ").filter(function(e){return""!==e}),a=0,n=0;n<t.length;n++){var r=t[n].length;t[n]={value:t[n],start:a,end:a+r+1,index:n},a+=r+1}return t},c.appendParameters=function(e){c.setState({parameterLists:c.parseParameter(c.state.parameter)})},c.appendEV=function(e){c.setState({environmentVariableLists:c.parseEV(c.state.environmentVariable)})},c.parseInputToTag=function(e){return e.startsWith("--")?e.substring(2).replace(" ",": "):e.startsWith("-")?e.substring(1):void 0},c.removeTag=function(e,t,a){var r,i=e.end-e.start;c.setState((r={},Object(n.a)(r,a,c.state[a].filter(function(t){return t!==e}).map(function(t,a){return a>=e.index?{value:t.value,start:t.start-i,end:t.end-i,index:t.index-1}:t})),Object(n.a)(r,t,c.state[t].substring(0,e.start)+c.state[t].substring(e.end)),r))},c.selectTag=function(e,t){t.current.setSelectionRange(e.start,e.end),t.current.focus()},c.state={name:c.props.name,parameter:c.props.parameter,environmentVariable:c.props.environmentVariable,scriptPath:c.props.scriptPath,interpreterPath:c.props.interpreterPath,workingDir:c.props.workingDir,aimExperiment:c.props.aimExperiment,aimIntegrate:c.props.aimIntegrate,parameterLists:[],environmentVariableLists:[]},c.parameterInputRef=u.a.createRef(),c.evInputRef=u.a.createRef(),c}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.appendEV(null),this.appendParameters(null)}},{key:"render",value:function(){var e=this,t=this.state.parameterLists.map(function(t){return u.a.createElement(p.a.Label,{key:t.value,onClick:function(){return e.selectTag(t,e.parameterInputRef)}},e.parseInputToTag(t.value),u.a.createElement("div",{className:"ExecutableViewForm__FormGroup__icon__wrapper",onClick:function(){return e.removeTag(t,"parameter","parameterLists")}},u.a.createElement(p.a.Icon,{i:"delete",className:"ExecutableViewForm__FormGroup__icon"})))}),a=this.state.environmentVariableLists.map(function(t){return u.a.createElement(p.a.Label,{key:t.value,onClick:function(){return e.selectTag(t,e.evInputRef)}},t.value,u.a.createElement("div",{className:"ExecutableViewForm__FormGroup__icon__wrapper",onClick:function(){return e.removeTag(t,"environmentVariable","environmentVariableLists")}},u.a.createElement(p.a.Icon,{i:"delete",className:"ExecutableViewForm__FormGroup__icon"})))}),n=this.state.parameterLists.length>0?u.a.createElement("div",{className:"ExecutableViewForm__FormGroup__row"},t):null,r=this.state.environmentVariableLists.length>0?u.a.createElement("div",{className:"ExecutableViewForm__FormGroup__row"},a):null;return u.a.createElement(u.a.Fragment,null,!this.props.processForm&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"ExecutableViewForm__FormGroup"},u.a.createElement(p.a.Input,{onChange:this.handleInputChange,name:"name",value:this.state.name,label:"Name",placeholder:"Name"})),u.a.createElement(p.a.Line,null)),u.a.createElement("div",{className:"ExecutableViewForm__FormGroup"},u.a.createElement(p.a.Text,{type:"grey",spacing:!0},"Python Command"),!this.props.processForm&&u.a.createElement(p.a.Input,{onChange:this.handleInputChange,name:"scriptPath",value:this.state.scriptPath,label:"Script path",placeholder:"train.py"}),u.a.createElement("div",null,u.a.createElement(p.a.Input,{id:"parameterInput",reference:this.parameterInputRef,onChange:function(t){return e.handleInputChange(t,e.appendParameters)},name:"parameter",value:this.state.parameter,label:"Arguments",placeholder:"--batch_size 32 --dropout 0.5"}),n)),u.a.createElement(p.a.Line,null),u.a.createElement("div",{className:"ExecutableViewForm__FormGroup"},u.a.createElement(p.a.Text,{type:"grey",spacing:!0},"Environment"),!this.props.processForm&&u.a.createElement(p.a.Input,{onChange:this.handleInputChange,name:"interpreterPath",value:this.state.interpreterPath,label:"Python interpreter path",placeholder:"/usr/local/bin/python3"}),u.a.createElement("div",null,u.a.createElement(p.a.Input,{id:"evInput",reference:this.evInputRef,onChange:function(t){return e.handleInputChange(t,e.appendEV)},name:"environmentVariable",value:this.state.environmentVariable,label:"Environment variables",placeholder:"CUDA_VISIBLE_DEVICES=0"}),r),!this.props.processForm&&u.a.createElement(p.a.Input,{onChange:this.handleInputChange,name:"workingDir",value:this.state.workingDir,label:"Working directory full path",placeholder:"/workspace"})),u.a.createElement(p.a.Line,null),u.a.createElement("div",{className:"ExecutableViewForm__FormGroup"},u.a.createElement(p.a.Text,{type:"grey",spacing:!0},"Integrate with aim"),u.a.createElement(p.a.Input,{onChange:this.handleInputChange,name:"aimExperiment",value:this.state.aimExperiment,label:"Experiment name",placeholder:"default"})))}}]),a}(s.Component);m.defaultProps={name:"",parameter:"",environmentVariable:"",scriptPath:"",interpreterPath:"",workingDir:"",aimExperiment:"",aimIntegrate:!0,processForm:!1},t.a=m},791:function(e,t,a){},844:function(e,t,a){},855:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(20),i=a(21),c=a(23),o=a(22),l=(a(844),a(0)),s=a.n(l),u=a(59),p=a(29),m=a(43),d=a(16),h=a(15),f=a(769),v=a(121),b=a(790),g=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).handleCreateBtnClick=function(){if(i.form){var e=i.form.current.getForm();i.setState({createBtn:{loading:!0,disabled:!0}}),i.props.createExecutable({name:e.name,script_path:e.scriptPath,arguments:e.parameter,env_vars:e.environmentVariable,interpreter_path:e.interpreterPath,working_dir:e.workingDir,aim_experiment:e.aimExperiment}).then(function(e){i.setState(function(e){return Object(n.a)(Object(n.a)({},e),{},{redirectMain:!0})})}).catch(function(e){}).finally(function(){i.setState(function(e){return Object(n.a)(Object(n.a)({},e),{},{createBtn:{loading:!1,disabled:!1}})})})}},i.handleExecuteBtnClick=function(){if(i.form){var e=i.form.current.getForm();i.setState(function(e){return Object(n.a)(Object(n.a)({},e),{},{executeBtn:Object(n.a)(Object(n.a)({},e.executeBtn),{},{loading:!0,disabled:!0})})}),i.props.executeExecutable({name:e.name,script_path:e.scriptPath,arguments:e.parameter,env_vars:e.environmentVariable,interpreter_path:e.interpreterPath,working_dir:e.workingDir,aim_experiment:e.aimExperiment}).then(function(){i.setState(function(e){return Object(n.a)(Object(n.a)({},e),{},{redirectMain:!0})})}).finally(function(){i.setState(function(e){return Object(n.a)(Object(n.a)({},e),{},{executeBtn:Object(n.a)(Object(n.a)({},e.executeBtn),{},{loading:!1,disabled:!1})})})})}},i._renderContent=function(){return s.a.createElement("div",{className:"HubExecutableCreateScreen__FormGroup__wrapper"},s.a.createElement(m.a.Text,{size:6,header:!0,divided:!0}," ","Create Process Template"," "),s.a.createElement(b.a,{ref:i.form}),s.a.createElement(m.a.Buttons,null,s.a.createElement(m.a.Button,Object.assign({onClick:function(){return i.handleCreateBtnClick()},type:"positive"},i.state.createBtn),"Save as template"),s.a.createElement(u.b,{to:h.i},s.a.createElement(m.a.Button,{type:"secondary"}," Cancel "))))},i.state={redirectMain:!1,createBtn:{loading:!1,disabled:!1},executeBtn:{loading:!1,disabled:!1}},i.form=s.a.createRef(),i}return Object(i.a)(a,[{key:"render",value:function(){return this.state.redirectMain?s.a.createElement(p.a,{to:h.i,push:!0}):s.a.createElement(f.a,null,s.a.createElement(m.a.Container,{size:"small"},this._renderContent()))}}]),a}(s.a.Component);t.default=v.a(d.g,g)}}]);