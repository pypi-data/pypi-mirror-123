var Mt=Object.defineProperty,Tt=Object.defineProperties;var jt=Object.getOwnPropertyDescriptors;var _t=Object.getOwnPropertySymbols;var Et=Object.prototype.hasOwnProperty,Ht=Object.prototype.propertyIsEnumerable;var st=(o,s,n)=>s in o?Mt(o,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[s]=n,m=(o,s)=>{for(var n in s||(s={}))Et.call(s,n)&&st(o,n,s[n]);if(_t)for(var n of _t(s))Ht.call(s,n)&&st(o,n,s[n]);return o},h=(o,s)=>Tt(o,jt(s));var R=(o,s,n)=>(st(o,typeof s!="symbol"?s+"":s,n),n);import{c as Ct,u as Dt,d as y,w as k,o as p,a as f,b as e,e as a,f as t,N as $,I as T,A as ct,g as S,L as pt,B as ft,G as mt,h as g,t as v,C as L,i as X,j as A,k as j,r as P,l as E,S as H,m as C,n as ht,p as gt,q as nt,s as Y,v as qt,x as Ot,y as I,R as Rt,z as vt,D as c,E as lt,F as ot,H as z,J as V,K as zt,M as Vt,O as Ft,P as Gt,Q as Kt,T as Z,U as F,V as rt,W as yt,X as G,Y as x,Z as K,_ as Wt,$ as Jt,a0 as Qt,a1 as $t,a2 as W,a3 as ut,a4 as Xt,a5 as it,a6 as M,a7 as tt,a8 as D,a9 as et,aa as bt,ab as xt,ac as q,ad as Yt,ae as dt,af as Zt,ag as te,ah as wt,ai as ee,aj as ae,ak as Nt,al as se,am as J,an as kt,ao as ne,ap as le,aq as oe}from"./vendor.555bae34.js";const re=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const i of d.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerpolicy&&(d.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?d.credentials="include":r.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(r){if(r.ep)return;r.ep=!0;const d=n(r);fetch(r.href,d)}};re();function O(o){return(o==null?void 0:o.startsWith("./"))||(o==null?void 0:o.startsWith("../"))||o=="."||o==".."}class ue{constructor(s){R(this,"baseUrl");this.baseUrl=s}async all(){return await(await fetch(`${this.baseUrl}/index.json`)).json()}async get(s){let l=await(await fetch(`${this.baseUrl}/${s}/index.json`)).json();return h(m({},l),{metadata:h(m({},l.metadata),{creation:new Date(l.metadata.creation.toString()),modification:new Date(l.metadata.modification.toString())})})}notes(s){return new ie(`${this.baseUrl}/${s}/notes`)}async update(s){let n=h(m({},s),{metadata:h(m({},s.metadata),{creation:s.metadata.creation.toISOString(),modification:s.metadata.modification.toISOString()})});await fetch(`${this.baseUrl}/`,{body:JSON.stringify(n),method:"POST",headers:{"Content-Type":"application/json"}})}async delete(s){await fetch(`${this.baseUrl}/${s}`,{method:"DELETE"})}resolveRelativeUrl(s,n="."){return O(n)?`${this.baseUrl}/${s}/${n}`:n}}class ie{constructor(s){R(this,"baseUrl");this.baseUrl=s}async all(){return await(await fetch(`${this.baseUrl}/index.json`)).json()}async get(s){let l=await(await fetch(`${this.baseUrl}/${s}/index.json`)).json();return h(m({},l),{metadata:h(m({},l.metadata),{creation:new Date(l.metadata.creation.toString()),modification:new Date(l.metadata.modification.toString())})})}async update(s){let n=h(m({},s),{metadata:h(m({},s.metadata),{creation:s.metadata.creation.toISOString(),modification:s.metadata.modification.toISOString()})});await fetch(`${this.baseUrl}/`,{body:JSON.stringify(n),method:"POST",headers:{"Content-Type":"application/json"}})}async delete(s){await fetch(`${this.baseUrl}/${s}/`,{method:"DELETE"})}}class St{constructor(s){R(this,"baseUrl");R(this,"materials");this.baseUrl=s,this.materials=new ue(`${this.baseUrl}/materials`)}async metadata(){return await(await fetch(`${this.baseUrl}/index.json`)).json()}}const It=Symbol(),de="/api",_e=Ct({state(){return{api:new St(de)}},mutations:{setApiUrl(o,s){o.api=new St(s)}}});function w(){return Dt(It)}const ce=g("a",{href:"https://www.stardustdl.top/",style:{"text-decoration":"none",color:"inherit"}},"StardustDL",-1),pe=g("a",{href:"https://github.com/StardustDL/paperead/blob/master/LICENSE",style:{"text-decoration":"none",color:"inherit"}},"MPL-2.0",-1),fe=g("a",{href:"https://github.com/StardustDL/paperead",style:{"text-decoration":"none",color:"inherit"}},"GitHub",-1),me=["href"];async function he(o){let s,n;const l=([s,n]=k(async()=>([s,n]=k(()=>fetch("/build.json")),s=await s,n(),s).json()),s=await s,n(),s);return(r,d)=>(p(),f(t(A),null,{default:e(()=>[a(t(S),{text:""},{icon:e(()=>[a(t($),null,{default:e(()=>[a(t(T),null,{default:e(()=>[a(t(ct))]),_:1})]),_:1})]),default:e(()=>[ce]),_:1}),a(t(S),{text:""},{icon:e(()=>[a(t($),null,{default:e(()=>[a(t(T),null,{default:e(()=>[a(t(pt))]),_:1})]),_:1})]),default:e(()=>[pe]),_:1}),a(t(S),{text:""},{icon:e(()=>[a(t($),null,{default:e(()=>[a(t(T),null,{default:e(()=>[a(t(ft))]),_:1})]),_:1})]),default:e(()=>[fe]),_:1}),a(t(S),{text:""},{icon:e(()=>[a(t($),null,{default:e(()=>[a(t(T),null,{default:e(()=>[a(t(mt))]),_:1})]),_:1})]),default:e(()=>[g("a",{href:`https://github.com/StardustDL/paperead/commit/${t(l).commit}`,style:{"text-decoration":"none",color:"inherit"}},v(t(l).shortCommit),9,me)]),_:1}),a(t(S),{text:""},{icon:e(()=>[a(t($),null,{default:e(()=>[a(t(T),null,{default:e(()=>[a(t(L))]),_:1})]),_:1})]),default:e(()=>[a(t(X),{time:new Date(t(l).date),type:"relative"},null,8,["time"])]),_:1})]),_:1}))}const ge={components:{Icon:T,BrandGithub:ft,At:ct,License:pt,GitCommit:mt,Clock:L}},ve=y(h(m({},ge),{setup:he}));var N=(o,s)=>{for(const[n,l]of s)o[n]=l;return o};const ye={class:"status"},$e=c("Reading"),be=c("\xA0and "),xe=c("Notes");function we(o){const s=j();function n(i){return()=>lt($,null,{default:()=>lt(i)})}const l=P("home"),r=[{label:"Home",key:"home",icon:n(z),route:"/"},{label:"Materials",key:"materials",icon:n(ot),route:"/materials"}];async function d(i,u){await s.push(u.route)}return(i,u)=>(p(),f(t(Y),{style:{height:"100%"}},{default:e(()=>[a(t(nt),{style:{padding:"8px",height:"55px"},bordered:""},{default:e(()=>[a(t(E),{subtitle:"\u9605\u8BFB\u4E0E\u7B14\u8BB0"},{extra:e(()=>[g("div",ye,[(p(),f(H,null,{default:e(()=>[a(ve)]),_:1}))])]),avatar:e(()=>[a(t(C),{size:"large"},{default:e(()=>[a(t($),null,{default:e(()=>[a(t(ht))]),_:1})]),_:1})]),title:e(()=>[a(t(gt),{type:"info"},{default:e(()=>[$e]),_:1}),be,a(t(gt),{type:"success"},{default:e(()=>[xe]),_:1})]),_:1})]),_:1}),a(t(I),{style:{height:"calc(100% - 55px)"}},{default:e(()=>[a(t(Y),{"has-sider":"",style:{height:"100%"}},{default:e(()=>[a(t(qt),{"collapse-mode":"width","collapsed-width":48,width:180,"show-trigger":"bar",bordered:"","default-collapsed":!0,"native-scrollbar":!1},{default:e(()=>[a(t(Ot),{value:l.value,"onUpdate:value":[u[0]||(u[0]=_=>l.value=_),d],options:r},null,8,["value"])]),_:1}),a(t(I),{"content-style":"padding: 15px;"},{default:e(()=>[(p(),f(H,null,{default:e(()=>[a(t(Rt))]),fallback:e(()=>[a(t(vt),{size:80,id:"loading-spin",style:{width:"100%"}})]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}))}const Ne={components:{Notebook:ht}},ke=y(h(m({},Ne),{setup:we}));var Se=N(ke,[["__scopeId","data-v-6f732496"]]);const Ie=y({setup(o){V();const s=zt();return(n,l)=>(p(),f(t(Ft),{style:{height:"100%"},theme:t(s)=="dark"?t(Vt):null},{default:e(()=>[a(t(Kt),null,{default:e(()=>[a(t(Gt)),(p(),f(H,null,{default:e(()=>[a(Se)]),fallback:e(()=>[a(t(vt),{size:80,id:"loading-spin"})]),_:1}))]),_:1})]),_:1},8,["theme"]))}});var Ue=N(Ie,[["__scopeId","data-v-3afbaa00"]]);const Ae=y({props:{headerHeight:{type:Number,required:!1},floatHeader:{type:Boolean,required:!1}},setup(o){const s=o,n=Z(()=>{var r;return(r=s.headerHeight)!=null?r:130}),l=Z(()=>{var r;return(r=s.floatHeader)!=null?r:!1});return(r,d)=>t(l)?(p(),f(t(Y),{key:0,style:{height:"100%"},"native-scrollbar":!1},{default:e(()=>[a(t(nt),{bordered:"",style:rt({height:`${t(n)}px`})},{default:e(()=>[F(r.$slots,"header",{},void 0,!0)]),_:3},8,["style"]),a(t(I),null,{default:e(()=>[F(r.$slots,"default",{},void 0,!0)]),_:3}),a(t(yt),{right:100})]),_:3})):(p(),f(t(Y),{key:1,style:{height:"100%"}},{default:e(()=>[a(t(nt),{bordered:"",style:rt({height:`${t(n)}px`})},{default:e(()=>[F(r.$slots,"header",{},void 0,!0)]),_:3},8,["style"]),a(t(I),{style:rt({height:`calc(100% - ${t(n)}px)`}),"native-scrollbar":!1},{default:e(()=>[F(r.$slots,"default",{},void 0,!0),a(t(yt),{right:100})]),_:3},8,["style"])]),_:3}))}});var Q=N(Ae,[["__scopeId","data-v-36d5200f"]]);const Be=c("Home"),Le=c("Paperead"),Pe=c(" Server:\xA0 "),Me=["href"],Te=c(" Client Version:\xA0 "),je=["href"],Ee=c(" Server Version:\xA0 "),He=["href"];async function Ce(o){let s,n;const l=w(),r=j(),d="0.0.6",i=([s,n]=k(()=>l.state.api.metadata()),s=await s,n(),s);return(u,_)=>(p(),f(Q,null,{header:e(()=>[a(t(E),{subtitle:"\u4E3B\u9875",onBack:_[0]||(_[0]=()=>t(r).back())},{title:e(()=>[Be]),header:e(()=>[a(t(G),null,{default:e(()=>[a(t(x),null,{default:e(()=>[Le]),_:1})]),_:1})]),avatar:e(()=>[a(t(C),null,{default:e(()=>[a(t($),null,{default:e(()=>[a(t(z))]),_:1})]),_:1})]),_:1})]),default:e(()=>[a(t(I),{"content-style":"padding: 10px;"},{default:e(()=>[a(t(A),{vertical:""},{default:e(()=>[g("span",null,[Pe,g("a",{href:t(l).state.api.baseUrl},v(t(l).state.api.baseUrl),9,Me)]),g("span",null,[Te,g("a",{href:`https://github.com/StardustDL/paperead/releases/tag/v${t(d)}`},v(t(d)),9,je)]),g("span",null,[Ee,g("a",{href:`https://github.com/StardustDL/paperead/releases/tag/v${t(i).version}`},v(t(i).version),9,He)])]),_:1})]),_:1})]),_:1}))}const De={components:{Home:z}},qe=y(h(m({},De),{setup:Ce}));var Oe=N(qe,[["__scopeId","data-v-773e4e53"]]);const Re=c("Home");function ze(o){w();const n=V().params;return(l,r)=>(p(),f(t(Wt),{status:"404",title:"Not Found",description:`Path: /${t(n).path.join("/")}`},{footer:e(()=>[a(t(S),null,{icon:e(()=>[a(t($),null,{default:e(()=>[a(t(z))]),_:1})]),default:e(()=>[a(t(K),{to:"/"},{default:e(()=>[Re]),_:1})]),_:1})]),_:1},8,["description"]))}const Ve={components:{Home:z,AlertCircle:Jt}},Fe=y(h(m({},Ve),{setup:ze}));var Ge=N(Fe,[["__scopeId","data-v-32e9239b"]]);const Ke=g("span",null,"Creation:",-1),We=c("\xA0"),Je=g("br",null,null,-1),Qe=g("span",null,"Modification:",-1),Xe=c("\xA0");function Ye(o){const s=o;return(n,l)=>(p(),f(t(Qt),null,{trigger:e(()=>[a(t(A),null,{default:e(()=>[a(t($),{size:"large"},{default:e(()=>[a(t(L))]),_:1}),a(t(X),{time:s.creation,type:"relative"},null,8,["time"])]),_:1})]),default:e(()=>[Ke,We,a(t(X),{time:s.creation},null,8,["time"]),Je,Qe,Xe,a(t(X),{time:o.modification},null,8,["time"])]),_:1}))}const Ze={components:{Clock:L}},ta=y(h(m({},Ze),{props:{creation:{type:Date,required:!0},modification:{type:Date,required:!0}},setup:Ye}));function ea(o){const s=o;return(n,l)=>(p(),f(t(A),null,{default:e(()=>[a(t($),{size:"large"},{default:e(()=>[a(t($t))]),_:1}),(p(!0),W(it,null,ut(s.tags,r=>(p(),f(t(Xt),{key:r,size:"small"},{default:e(()=>[c(v(r),1)]),_:2},1024))),128))]),_:1}))}const aa={components:{Tag:$t}},sa=y(h(m({},aa),{props:{tags:{type:Array,required:!0}},setup:ea})),at=y({props:{data:{type:null,required:!0}},setup(o){return(s,n)=>(p(),f(t(A),null,{default:e(()=>[a(ta,{creation:o.data.creation,modification:o.data.modification},null,8,["creation","modification"]),o.data.tags.length>0?(p(),f(sa,{key:0,tags:o.data.tags},null,8,["tags"])):M("",!0)]),_:1}))}});function na(o){const s=o,n=w(),l=P();async function r(){l.value=await n.state.api.materials.get(s.id)}return tt(r),D(s,r),(d,i)=>{const u=et("router-link");return l.value?(p(),f(t(xt),{key:0},{header:e(()=>[a(u,{to:`/materials/${l.value.id}`},{default:e(()=>[c(v(l.value.metadata.name),1)]),_:1},8,["to"])]),"header-extra":e(()=>[]),action:e(()=>[a(at,{data:l.value.metadata},null,8,["data"])]),default:e(()=>[l.value.content.length>0?(p(),f(t(bt),{key:0,tooltip:!1,"line-clamp":5},{default:e(()=>[c(v(l.value.content),1)]),_:1})):M("",!0)]),_:1})):M("",!0)}}const la={components:{Book:q,Clock:L}},oa=y(h(m({},la),{props:{id:{type:String,required:!0}},setup:na}));var ra=N(oa,[["__scopeId","data-v-3adcbada"]]);function ua(o){const s=o;w();const n=P([]),l=P(1),r=P(5);function d(){let i=(l.value-1)*r.value;n.value=s.items.slice(i,i+r.value)}return D(l,d),D(r,d),tt(d),D(s,()=>l.value=1),(i,u)=>(p(),f(t(A),{vertical:""},{default:e(()=>[(p(!0),W(it,null,ut(n.value,_=>(p(),f(H,{key:_},{default:e(()=>[F(i.$slots,"default",{item:_})]),fallback:e(()=>[a(t(dt),{text:"",repeat:2})]),_:2},1024))),128)),a(t(Yt),{style:{"justify-content":"center","margin-top":"20px"},"item-count":o.items.length,"page-size":r.value,"onUpdate:page-size":u[0]||(u[0]=_=>r.value=_),page:l.value,"onUpdate:page":u[1]||(u[1]=_=>l.value=_),"page-sizes":[5,10,20],"show-quick-jumper":"","show-size-picker":""},null,8,["item-count","page-size","page"])]),_:3}))}const ia={components:{Book:q,Clock:L}},Ut=y(h(m({},ia),{props:{items:{type:Array,required:!0}},setup:ua}));const da=c("Materials"),_a=c("Paperead"),ca=c("Materials");async function pa(o){let s,n;const l=w(),r=j(),d=([s,n]=k(()=>l.state.api.materials.all()),s=await s,n(),s);return(i,u)=>(p(),f(Q,null,{header:e(()=>[a(t(E),{subtitle:"\u6240\u6709\u6750\u6599",onBack:u[0]||(u[0]=()=>t(r).back())},{title:e(()=>[da]),header:e(()=>[a(t(G),null,{default:e(()=>[a(t(x),null,{default:e(()=>[a(t(K),{to:"/"},{default:e(()=>[_a]),_:1})]),_:1}),a(t(x),null,{default:e(()=>[ca]),_:1})]),_:1})]),avatar:e(()=>[a(t(C),null,{default:e(()=>[a(t($),null,{default:e(()=>[a(t(ot))]),_:1})]),_:1})]),footer:e(()=>[c("Totally "+v(t(d).length)+" material"+v(t(d).length>1?"s":"")+".",1)]),_:1})]),default:e(()=>[a(t(I),{"content-style":"padding: 10px;"},{default:e(()=>[a(Ut,{items:t(d)},{default:e(_=>[a(ra,{id:_.item},null,8,["id"])]),_:1},8,["items"])]),_:1})]),_:1}))}const fa={components:{Files:ot}},ma=y(h(m({},fa),{setup:pa}));var ha=N(ma,[["__scopeId","data-v-b9b683e8"]]);const At=y({props:{value:{type:String,required:!0},baseUrl:{type:String,required:!1}},setup(o){const s=o;w();const n=Z(()=>{var d;return(d=s.baseUrl)!=null?d:""}),l=P();async function r(){await Zt.preview(l.value,s.value);let d=l.value.getElementsByTagName("a");for(let i=0;i<d.length;i++){let u=d.item(i),_=u==null?void 0:u.getAttribute("href");O(_)&&(u==null||u.setAttribute("href",`${n.value}/${_}`))}{let i=l.value.getElementsByTagName("img");for(let u=0;u<i.length;u++){let _=i.item(u),b=_==null?void 0:_.getAttribute("src");O(b)&&(_==null||_.setAttribute("src",`${n.value}/${b}`))}}{let i=l.value.getElementsByTagName("video");for(let u=0;u<i.length;u++){let _=i.item(u),b=_==null?void 0:_.getAttribute("src");O(b)&&(_==null||_.setAttribute("src",`${n.value}/${b}`))}}{let i=l.value.getElementsByTagName("audio");for(let u=0;u<i.length;u++){let _=i.item(u),b=_==null?void 0:_.getAttribute("src");O(b)&&(_==null||_.setAttribute("src",`${n.value}/${b}`))}}}return tt(r),D(s,r),(d,i)=>(p(),W("div",{ref:(u,_)=>{_.element=u,l.value=u}},null,512))}}),ga=g("thead",null,[g("tr",null,[g("th",null,"Key"),g("th",null,"Value")])],-1);function va(o){const s=o;w();const n=Z(()=>{let l=[];for(let r in s.data.targets){let d=s.data.targets[r],i=O(d)?`${s.targetBaseUrl}/${d}`:d;l.push({label:()=>lt("a",{target:"_blank",href:i},r),key:r})}return l});return(l,r)=>(p(),f(t(A),null,{default:e(()=>[Object.keys(o.data.extra).length>0?(p(),f(t(te),{key:0,placement:"bottom-start",trigger:"hover"},{trigger:e(()=>[a(t(S),{bordered:!1},{icon:e(()=>[a(t($),null,{default:e(()=>[a(t(wt))]),_:1})]),_:1})]),default:e(()=>[a(t(ee),null,{default:e(()=>[ga,g("tbody",null,[(p(!0),W(it,null,ut(o.data.extra,(d,i)=>(p(),W("tr",{key:i},[g("td",null,v(i),1),g("td",null,v(d),1)]))),128))])]),_:1})]),_:1})):M("",!0),Object.keys(o.data.targets).length>0?(p(),f(t(ae),{key:1,options:t(n),placement:"bottom-start"},{default:e(()=>[a(t(S),{bordered:!1},{icon:e(()=>[a(t($),null,{default:e(()=>[a(t(Nt))]),_:1})]),_:1})]),_:1},8,["options"])):M("",!0)]),_:1}))}const ya={components:{Book:q,ArrowRight:se,ExternalLink:Nt,InfoSquare:wt,Notes:J}},Bt=y(h(m({},ya),{props:{data:{type:null,required:!0},targetBaseUrl:{type:String,required:!0}},setup:va}));const $a=c("Paperead"),ba=c("Materials");async function xa(o){let s,n;const l=V(),r=j(),d=w(),i=l.params,u=([s,n]=k(()=>d.state.api.materials.get(i.id)),s=await s,n(),s);return document.title=`${u.metadata.name} - Materials - Paperead`,(_,b)=>{const U=et("router-link");return p(),f(Q,{"float-header":""},{header:e(()=>[a(t(E),{subtitle:t(u).id,onBack:b[1]||(b[1]=()=>t(r).back())},{title:e(()=>[c(v(t(u).metadata.name),1)]),header:e(()=>[a(t(G),null,{default:e(()=>[a(t(x),null,{default:e(()=>[a(U,{to:"/"},{default:e(()=>[$a]),_:1})]),_:1}),a(t(x),null,{default:e(()=>[a(U,{to:"/materials"},{default:e(()=>[ba]),_:1})]),_:1}),a(t(x),null,{default:e(()=>[c(v(t(u).id),1)]),_:1})]),_:1})]),avatar:e(()=>[a(t(C),null,{default:e(()=>[a(t($),null,{default:e(()=>[a(t(q))]),_:1})]),_:1})]),extra:e(()=>[a(t(A),null,{default:e(()=>[a(t(S),{bordered:!1,onClick:b[0]||(b[0]=B=>t(r).push(`/materials/${t(u).id}/notes`))},{icon:e(()=>[a(t($),null,{default:e(()=>[a(t(J))]),_:1})]),_:1}),a(Bt,{"target-base-url":t(d).state.api.materials.resolveRelativeUrl(t(u).id),data:t(u).metadata},null,8,["target-base-url","data"])]),_:1})]),footer:e(()=>[a(at,{data:t(u).metadata},null,8,["data"])]),_:1},8,["subtitle"])]),default:e(()=>[a(t(I),{"content-style":"padding: 10px;"},{default:e(()=>[(p(),f(H,null,{default:e(()=>[a(At,{value:t(u).content,"base-url":t(d).state.api.materials.resolveRelativeUrl(t(u).id)},null,8,["value","base-url"])]),fallback:e(()=>[a(t(dt),{text:"",repeat:10})]),_:1}))]),_:1})]),_:1})}}const wa={components:{Book:q,Notes:J}},Na=y(h(m({},wa),{setup:xa}));var ka=N(Na,[["__scopeId","data-v-3f17546c"]]);function Sa(o){const s=o,n=w(),l=P();async function r(){l.value=await n.state.api.materials.notes(s.id).get(s.noteId)}return tt(r),D(s,r),(d,i)=>{const u=et("router-link");return l.value?(p(),f(t(xt),{key:0},{header:e(()=>[a(u,{to:`/materials/${s.id}/notes/${l.value.id}`},{default:e(()=>[c(v(l.value.metadata.name),1)]),_:1},8,["to"])]),"header-extra":e(()=>[]),action:e(()=>[a(at,{data:l.value.metadata},null,8,["data"])]),default:e(()=>[l.value.content.length>0?(p(),f(t(bt),{key:0,tooltip:!1,"line-clamp":5},{default:e(()=>[c(v(l.value.content),1)]),_:1})):M("",!0)]),_:1})):M("",!0)}}const Ia={components:{Book:q,Clock:L}},Ua=y(h(m({},Ia),{props:{id:{type:String,required:!0},noteId:{type:String,required:!0}},setup:Sa}));var Aa=N(Ua,[["__scopeId","data-v-b101c3d4"]]);const Ba=c("Notes"),La=c("Paperead"),Pa=c("Materials"),Ma=c("Notes");async function Ta(o){let s,n;const l=w(),r=j(),i=V().params,u=([s,n]=k(()=>l.state.api.materials.notes(i.id).all()),s=await s,n(),s),_=([s,n]=k(()=>l.state.api.materials.get(i.id)),s=await s,n(),s);return document.title=`Notes - ${_.metadata.name} - Materials - Paperead`,(b,U)=>(p(),f(Q,null,{header:e(()=>[a(t(E),{subtitle:"\u6240\u6709\u7B14\u8BB0",onBack:U[0]||(U[0]=()=>t(r).back())},{title:e(()=>[Ba]),header:e(()=>[a(t(G),null,{default:e(()=>[a(t(x),null,{default:e(()=>[a(t(K),{to:"/"},{default:e(()=>[La]),_:1})]),_:1}),a(t(x),null,{default:e(()=>[a(t(K),{to:"/materials"},{default:e(()=>[Pa]),_:1})]),_:1}),a(t(x),null,{default:e(()=>[a(t(K),{to:`/materials/${t(i).id}`},{default:e(()=>[c(v(t(i).id),1)]),_:1},8,["to"])]),_:1}),a(t(x),null,{default:e(()=>[Ma]),_:1})]),_:1})]),avatar:e(()=>[a(t(C),null,{default:e(()=>[a(t($),null,{default:e(()=>[a(t(J))]),_:1})]),_:1})]),footer:e(()=>[c("Totally "+v(t(u).length)+" note"+v(t(u).length>1?"s":"")+".",1)]),_:1})]),default:e(()=>[a(t(I),{"content-style":"padding: 10px;"},{default:e(()=>[a(Ut,{items:t(u)},{default:e(B=>[a(Aa,{id:t(i).id,noteId:B.item},null,8,["id","noteId"])]),_:1},8,["items"])]),_:1})]),_:1}))}const ja={components:{Notes:J}},Ea=y(h(m({},ja),{setup:Ta}));var Ha=N(Ea,[["__scopeId","data-v-4fdaa906"]]);const Ca=c("Paperead"),Da=c("Materials"),qa=c("Notes");async function Oa(o){let s,n;const l=V(),r=j(),d=w(),i=l.params,u=([s,n]=k(()=>d.state.api.materials.notes(i.id).get(i.noteId)),s=await s,n(),s),_=([s,n]=k(()=>d.state.api.materials.get(i.id)),s=await s,n(),s);return document.title=`${u.metadata.name} - Notes - ${_.metadata.name} - Materials - Paperead`,(b,U)=>{const B=et("router-link");return p(),f(Q,{"float-header":""},{header:e(()=>[a(t(E),{subtitle:t(u).id,onBack:U[0]||(U[0]=()=>t(r).back())},{title:e(()=>[c(v(t(u).metadata.name),1)]),header:e(()=>[a(t(G),null,{default:e(()=>[a(t(x),null,{default:e(()=>[a(B,{to:"/"},{default:e(()=>[Ca]),_:1})]),_:1}),a(t(x),null,{default:e(()=>[a(B,{to:"/materials"},{default:e(()=>[Da]),_:1})]),_:1}),a(t(x),null,{default:e(()=>[a(B,{to:`/materials/${t(i).id}`},{default:e(()=>[c(v(t(i).id),1)]),_:1},8,["to"])]),_:1}),a(t(x),null,{default:e(()=>[a(B,{to:`/materials/${t(i).id}/notes`},{default:e(()=>[qa]),_:1},8,["to"])]),_:1}),a(t(x),null,{default:e(()=>[c(v(t(u).id),1)]),_:1})]),_:1})]),avatar:e(()=>[a(t(C),null,{default:e(()=>[a(t($),null,{default:e(()=>[a(t(kt))]),_:1})]),_:1})]),extra:e(()=>[a(Bt,{"target-base-url":t(d).state.api.materials.resolveRelativeUrl(t(i).id,"./notes"),data:t(u).metadata},null,8,["target-base-url","data"])]),footer:e(()=>[a(at,{data:t(u).metadata},null,8,["data"])]),_:1},8,["subtitle"])]),default:e(()=>[a(t(I),{"content-style":"padding: 10px;"},{default:e(()=>[(p(),f(H,null,{default:e(()=>[a(At,{value:t(u).content,"base-url":t(d).state.api.materials.resolveRelativeUrl(t(i).id,"./notes")},null,8,["value","base-url"])]),fallback:e(()=>[a(t(dt),{text:"",repeat:10})]),_:1}))]),_:1})]),_:1})}}const Ra={components:{FileText:kt}},za=y(h(m({},Ra),{setup:Oa}));var Va=N(za,[["__scopeId","data-v-56068d88"]]);const Fa=[{path:"/",component:Oe,meta:{title:"Home - Paperead"}},{path:"/materials",component:ha,meta:{title:"Materials - Paperead"}},{path:"/materials/:id",component:ka,meta:{title:"Loading... - Materials - Paperead"}},{path:"/materials/:id/notes",component:Ha,meta:{title:"Notes - Loading... - Materials - Paperead"}},{path:"/materials/:id/notes/:noteId",component:Va,meta:{title:"Loading... - Notes - Loading... - Materials - Paperead"}},{path:"/:path*",component:Ge,meta:{title:"Not found - Paperead"}}],Lt=ne({history:le(),routes:Fa});Lt.beforeEach((o,s)=>(document.title=o.meta.title.toString(),!0));const Pt=oe(Ue);Pt.use(Lt).use(_e,It);Pt.mount("#app");
